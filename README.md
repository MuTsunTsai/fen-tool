# FEN-Tool

This is a quick online tool for editing FEN (Forsyth-Edwards Notation) in chess,
specifically designed with the needs of the chess puzzle community in mind.

## How to use

For desktops, on the board on the right you can simply drag-and-drop piece from the template to arrange them,
and on the input boxes on the left you can manually input variations that are not available in the template.
For mobile devices, the two boards are one and you can enable manual input by double-tapping on the squares.
Options and tools should be mostly self-explanatory.

## Notation

This tool supports most of the [Fairy FEN](https://www.janko.at/Retros/d.htm) syntax (by Joost de Heer). A brief summary:

- Use `-` in front to denote neutral pieces (e.g. `-k`).
- Use `*` + number to denote rotation (e.g. `*2Q`). May be used together with neutral piece (e.g. `-*3b`).
- Use `'` + single char or `''`(that's two single-quote, not a double-quote) + double chars to denote text (e.g. `'A`, `''12`). Note that you can even use emoji with this syntax (e.g. `'ü¶Ü`; note that some emojis are actually two chars, e.g. `''üéÖüèª`).  May be used together with rotation (e.g. `*1'A`).\
  Tip: you can directly input text of 1 or 2 chars into a square, and it will be automatically converted to FFEN syntax if it doesn't match existing syntax.
- Two markers can be used: `c` (circle) and `x` (cross). The square and triangle markers in FFEN are not supported here.

You can also put in the fairy notation used by [YACPDB](https://www.yacpdb.org/), for example `(!b2)` means the same as `-*2b`.

## Additional tools

### PDB

You can fetch a PDB problem by using its ID number,
or search for a problem using the position (fairy pieces are not supported in search).
It can also generate PDB board edit syntax (with fairy piece support)
that can be used when adding or editing a problem in PDB.

### YACPDB

This is similar to the PDB tool, with the addition of copying YACPDB style FEN.
Note that rotation is not supported in board edit syntax.

### BBS

This tool is for Taiwan BBS forums such as PTT.
It generates colored BBS text that can be paste directly into posts.

## API

This tool is purely front-end by design,
so it cannot generate a URL that represents an image like some other FEN tools.
You can, however, easily share generated images by using the share button
(works best on mobile devices) or by simply copy-and-paste the image.

You can also easily embed generated image on any webpage using iframe like this:
```html
<iframe src="https://mutsuntsai.github.io/fen-tool/img/?fen=rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR" style="border:none;width:354px;height:354px"></iframe>
```
The code may be generated by the `Copy embed HTML code` button.

This tool uses service worker to cache all assets, so once the user has loaded an instance,
this will work even offline and will work very fast
(likely faster than back-end image generating API in fact).

## Chess set credits

- `1Echecs` is designed by Christian Poisson.
- `Alpha` is designed by Eric Bentzen.
- `Good Companion` is designed by David L. Brown.
- `Merida` is designed by Armando Hernandez Marroquin.
- `Skak` is designed by Piet Tutelaers and modified by Torben Hoffmann.