(()=>{var t=Object.freeze,n=Object.defineProperty,o=(e,o)=>t(n(e,"raw",{value:t(o||e.slice())}));function a(e,t){const n=new Set(e.split(","));return t?e=>n.has(e.toLowerCase()):e=>n.has(e)}var s,r=Object.freeze({}),i=Object.freeze([]),l=()=>{},c=()=>!1,u=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),d=e=>e.startsWith("onUpdate:"),p=Object.assign,f=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},h=Object.prototype.hasOwnProperty,m=(e,t)=>h.call(e,t),g=Array.isArray,y=e=>"[object Map]"===E(e),b=e=>"[object Set]"===E(e),v=e=>"[object Date]"===E(e),w=e=>"function"==typeof e,k=e=>"string"==typeof e,x=e=>"symbol"==typeof e,_=e=>null!==e&&"object"==typeof e,C=e=>(_(e)||w(e))&&w(e.then)&&w(e.catch),S=Object.prototype.toString,E=e=>S.call(e),A=e=>E(e).slice(8,-1),N=e=>"[object Object]"===E(e),P=e=>k(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e,R=a(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),O=a("bind,cloak,else-if,else,for,html,if,model,on,once,pre,show,slot,text,memo"),T=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},M=/-(\w)/g,L=T((e=>e.replace(M,((e,t)=>t?t.toUpperCase():"")))),V=/\B([A-Z])/g,I=T((e=>e.replace(V,"-$1").toLowerCase())),F=T((e=>e.charAt(0).toUpperCase()+e.slice(1))),B=T((e=>e?"on".concat(F(e)):"")),j=(e,t)=>!Object.is(e,t),U=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},D=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},z=e=>{const t=parseFloat(e);return isNaN(t)?e:t},W=e=>{const t=k(e)?Number(e):NaN;return isNaN(t)?e:t},$=()=>s||(s="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{});function H(e){if(g(e)){const t={};for(let n=0;n<e.length;n++){const o=e[n],a=k(o)?Y(o):H(o);if(a)for(const e in a)t[e]=a[e]}return t}if(k(e)||_(e))return e}var q=/;(?![^(]*\))/g,G=/:([^]+)/,K=/\/\*[^]*?\*\//g;function Y(e){const t={};return e.replace(K,"").split(q).forEach((e=>{if(e){const n=e.split(G);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}function Q(e){let t="";if(k(e))t=e;else if(g(e))for(let n=0;n<e.length;n++){const o=Q(e[n]);o&&(t+=o+" ")}else if(_(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}var Z=a("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,hgroup,h1,h2,h3,h4,h5,h6,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,summary,template,blockquote,iframe,tfoot"),J=a("svg,animate,animateMotion,animateTransform,circle,clipPath,color-profile,defs,desc,discard,ellipse,feBlend,feColorMatrix,feComponentTransfer,feComposite,feConvolveMatrix,feDiffuseLighting,feDisplacementMap,feDistantLight,feDropShadow,feFlood,feFuncA,feFuncB,feFuncG,feFuncR,feGaussianBlur,feImage,feMerge,feMergeNode,feMorphology,feOffset,fePointLight,feSpecularLighting,feSpotLight,feTile,feTurbulence,filter,foreignObject,g,hatch,hatchpath,image,line,linearGradient,marker,mask,mesh,meshgradient,meshpatch,meshrow,metadata,mpath,path,pattern,polygon,polyline,radialGradient,rect,set,solidcolor,stop,switch,symbol,text,textPath,title,tspan,unknown,use,view"),X=a("annotation,annotation-xml,maction,maligngroup,malignmark,math,menclose,merror,mfenced,mfrac,mfraction,mglyph,mi,mlabeledtr,mlongdiv,mmultiscripts,mn,mo,mover,mpadded,mphantom,mprescripts,mroot,mrow,ms,mscarries,mscarry,msgroup,msline,mspace,msqrt,msrow,mstack,mstyle,msub,msubsup,msup,mtable,mtd,mtext,mtr,munder,munderover,none,semantics"),ee="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",te=a(ee),ne=a(ee+",async,autofocus,autoplay,controls,default,defer,disabled,hidden,inert,loop,open,required,reversed,scoped,seamless,checked,muted,multiple,selected");function oe(e){return!!e||""===e}var ae=a("accept,accept-charset,accesskey,action,align,allow,alt,async,autocapitalize,autocomplete,autofocus,autoplay,background,bgcolor,border,buffered,capture,challenge,charset,checked,cite,class,code,codebase,color,cols,colspan,content,contenteditable,contextmenu,controls,coords,crossorigin,csp,data,datetime,decoding,default,defer,dir,dirname,disabled,download,draggable,dropzone,enctype,enterkeyhint,for,form,formaction,formenctype,formmethod,formnovalidate,formtarget,headers,height,hidden,high,href,hreflang,http-equiv,icon,id,importance,inert,integrity,ismap,itemprop,keytype,kind,label,lang,language,loading,list,loop,low,manifest,max,maxlength,minlength,media,min,multiple,muted,name,novalidate,open,optimum,pattern,ping,placeholder,poster,preload,radiogroup,readonly,referrerpolicy,rel,required,reversed,rows,rowspan,sandbox,scope,scoped,selected,shape,size,sizes,slot,span,spellcheck,src,srcdoc,srclang,srcset,start,step,style,summary,tabindex,target,title,translate,type,usemap,value,width,wrap"),se=a("xmlns,accent-height,accumulate,additive,alignment-baseline,alphabetic,amplitude,arabic-form,ascent,attributeName,attributeType,azimuth,baseFrequency,baseline-shift,baseProfile,bbox,begin,bias,by,calcMode,cap-height,class,clip,clipPathUnits,clip-path,clip-rule,color,color-interpolation,color-interpolation-filters,color-profile,color-rendering,contentScriptType,contentStyleType,crossorigin,cursor,cx,cy,d,decelerate,descent,diffuseConstant,direction,display,divisor,dominant-baseline,dur,dx,dy,edgeMode,elevation,enable-background,end,exponent,fill,fill-opacity,fill-rule,filter,filterRes,filterUnits,flood-color,flood-opacity,font-family,font-size,font-size-adjust,font-stretch,font-style,font-variant,font-weight,format,from,fr,fx,fy,g1,g2,glyph-name,glyph-orientation-horizontal,glyph-orientation-vertical,glyphRef,gradientTransform,gradientUnits,hanging,height,href,hreflang,horiz-adv-x,horiz-origin-x,id,ideographic,image-rendering,in,in2,intercept,k,k1,k2,k3,k4,kernelMatrix,kernelUnitLength,kerning,keyPoints,keySplines,keyTimes,lang,lengthAdjust,letter-spacing,lighting-color,limitingConeAngle,local,marker-end,marker-mid,marker-start,markerHeight,markerUnits,markerWidth,mask,maskContentUnits,maskUnits,mathematical,max,media,method,min,mode,name,numOctaves,offset,opacity,operator,order,orient,orientation,origin,overflow,overline-position,overline-thickness,panose-1,paint-order,path,pathLength,patternContentUnits,patternTransform,patternUnits,ping,pointer-events,points,pointsAtX,pointsAtY,pointsAtZ,preserveAlpha,preserveAspectRatio,primitiveUnits,r,radius,referrerPolicy,refX,refY,rel,rendering-intent,repeatCount,repeatDur,requiredExtensions,requiredFeatures,restart,result,rotate,rx,ry,scale,seed,shape-rendering,slope,spacing,specularConstant,specularExponent,speed,spreadMethod,startOffset,stdDeviation,stemh,stemv,stitchTiles,stop-color,stop-opacity,strikethrough-position,strikethrough-thickness,string,stroke,stroke-dasharray,stroke-dashoffset,stroke-linecap,stroke-linejoin,stroke-miterlimit,stroke-opacity,stroke-width,style,surfaceScale,systemLanguage,tabindex,tableValues,target,targetX,targetY,text-anchor,text-decoration,text-rendering,textLength,to,transform,transform-origin,type,u1,u2,underline-position,underline-thickness,unicode,unicode-bidi,unicode-range,units-per-em,v-alphabetic,v-hanging,v-ideographic,v-mathematical,values,vector-effect,version,vert-adv-y,vert-origin-x,vert-origin-y,viewBox,viewTarget,visibility,width,widths,word-spacing,writing-mode,x,x-height,x1,x2,xChannelSelector,xlink:actuate,xlink:arcrole,xlink:href,xlink:role,xlink:show,xlink:title,xlink:type,xmlns:xlink,xml:base,xml:lang,xml:space,y,y1,y2,yChannelSelector,z,zoomAndPan");function re(e,t){if(e===t)return!0;let n=v(e),o=v(t);if(n||o)return!(!n||!o)&&e.getTime()===t.getTime();if(n=x(e),o=x(t),n||o)return e===t;if(n=g(e),o=g(t),n||o)return!(!n||!o)&&function(e,t){if(e.length!==t.length)return!1;let n=!0;for(let o=0;n&&o<e.length;o++)n=re(e[o],t[o]);return n}(e,t);if(n=_(e),o=_(t),n||o){if(!n||!o)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e){const o=e.hasOwnProperty(n),a=t.hasOwnProperty(n);if(o&&!a||!o&&a||!re(e[n],t[n]))return!1}}return String(e)===String(t)}function ie(e,t){return e.findIndex((e=>re(e,t)))}var le,ce=e=>k(e)?e:null==e?"":g(e)||_(e)&&(e.toString===S||!w(e.toString))?JSON.stringify(e,ue,2):String(e),ue=(e,t)=>t&&t.__v_isRef?ue(e,t.value):y(t)?{["Map(".concat(t.size,")")]:[...t.entries()].reduce(((e,[t,n],o)=>(e[de(t,o)+" =>"]=n,e)),{})}:b(t)?{["Set(".concat(t.size,")")]:[...t.values()].map((e=>de(e)))}:x(t)?de(t):!_(t)||g(t)||N(t)?t:String(t),de=(e,t="")=>{var n;return x(e)?"Symbol(".concat(null!=(n=e.description)?n:t,")"):e};function pe(e,...t){console.warn("[Vue warn] ".concat(e),...t)}var fe,he=class{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=le,!e&&le&&(this.index=(le.scopes||(le.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const t=le;try{return le=this,e()}finally{le=t}}else pe("cannot run an inactive effect scope.")}on(){le=this}off(){le=this.parent}stop(e){if(this._active){let t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){const e=this.parent.scopes.pop();e&&e!==this&&(this.parent.scopes[this.index]=e,e.index=this.index)}this.parent=void 0,this._active=!1}}};var me=class{constructor(e,t,n,o){this.fn=e,this.trigger=t,this.scheduler=n,this.active=!0,this.deps=[],this._dirtyLevel=2,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,function(e,t=le){t&&t.active&&t.effects.push(e)}(this,o)}get dirty(){if(1===this._dirtyLevel){xe();for(let e=0;e<this._depsLength;e++){const t=this.deps[e];if(t.computed&&(t.computed.value,this._dirtyLevel>=2))break}this._dirtyLevel<2&&(this._dirtyLevel=0),_e()}return this._dirtyLevel>=2}set dirty(e){this._dirtyLevel=e?2:0}run(){if(this._dirtyLevel=0,!this.active)return this.fn();let e=ve,t=fe;try{return ve=!0,fe=this,this._runnings++,ge(this),this.fn()}finally{ye(this),this._runnings--,fe=t,ve=e}}stop(){var e;this.active&&(ge(this),ye(this),null==(e=this.onStop)||e.call(this),this.active=!1)}};function ge(e){e._trackId++,e._depsLength=0}function ye(e){if(e.deps&&e.deps.length>e._depsLength){for(let t=e._depsLength;t<e.deps.length;t++)be(e.deps[t],e);e.deps.length=e._depsLength}}function be(e,t){const n=e.get(t);void 0!==n&&t._trackId!==n&&(e.delete(t),0===e.size&&e.cleanup())}var ve=!0,we=0,ke=[];function xe(){ke.push(ve),ve=!1}function _e(){const e=ke.pop();ve=void 0===e||e}function Ce(){we++}function Se(){for(we--;!we&&Ae.length;)Ae.shift()()}function Ee(e,t,n){var o;if(t.get(e)!==e._trackId){t.set(e,e._trackId);const a=e.deps[e._depsLength];a!==t?(a&&be(a,e),e.deps[e._depsLength++]=t):e._depsLength++,null==(o=e.onTrack)||o.call(e,p({effect:e},n))}}var Ae=[];function Ne(e,t,n){var o;Ce();for(const a of e.keys())if(a._dirtyLevel<t&&e.get(a)===a._trackId){const e=a._dirtyLevel;a._dirtyLevel=t,0===e&&(a._shouldSchedule=!0,null==(o=a.onTrigger)||o.call(a,p({effect:a},n)),a.trigger())}Pe(e),Se()}function Pe(e){for(const t of e.keys())t.scheduler&&t._shouldSchedule&&(!t._runnings||t.allowRecurse)&&e.get(t)===t._trackId&&(t._shouldSchedule=!1,Ae.push(t.scheduler))}var Re=(e,t)=>{const n=new Map;return n.cleanup=e,n.computed=t,n},Oe=new WeakMap,Te=Symbol("iterate"),Me=Symbol("Map key iterate");function Le(e,t,n){if(ve&&fe){let o=Oe.get(e);o||Oe.set(e,o=new Map);let a=o.get(n);a||o.set(n,a=Re((()=>o.delete(n)))),Ee(fe,a,{target:e,type:t,key:n})}}function Ve(e,t,n,o,a,s){const r=Oe.get(e);if(!r)return;let i=[];if("clear"===t)i=[...r.values()];else if("length"===n&&g(e)){const e=Number(o);r.forEach(((t,n)=>{("length"===n||!x(n)&&n>=e)&&i.push(t)}))}else switch(void 0!==n&&i.push(r.get(n)),t){case"add":g(e)?P(n)&&i.push(r.get("length")):(i.push(r.get(Te)),y(e)&&i.push(r.get(Me)));break;case"delete":g(e)||(i.push(r.get(Te)),y(e)&&i.push(r.get(Me)));break;case"set":y(e)&&i.push(r.get(Te))}Ce();for(const r of i)r&&Ne(r,2,{target:e,type:t,key:n,newValue:o,oldValue:a,oldTarget:s});Se()}var Ie=a("__proto__,__v_isRef,__isVue"),Fe=new Set(Object.getOwnPropertyNames(Symbol).filter((e=>"arguments"!==e&&"caller"!==e)).map((e=>Symbol[e])).filter(x)),Be=je();function je(){const e={};return["includes","indexOf","lastIndexOf"].forEach((t=>{e[t]=function(...e){const n=Pt(this);for(let e=0,t=this.length;e<t;e++)Le(n,"get",e+"");const o=n[t](...e);return-1===o||!1===o?n[t](...e.map(Pt)):o}})),["push","pop","shift","unshift","splice"].forEach((t=>{e[t]=function(...e){xe(),Ce();const n=Pt(this)[t].apply(this,e);return Se(),_e(),n}})),e}function Ue(e){const t=Pt(this);return Le(t,"has",e),t.hasOwnProperty(e)}var De=class{constructor(e=!1,t=!1){this._isReadonly=e,this._shallow=t}get(e,t,n){const o=this._isReadonly,a=this._shallow;if("__v_isReactive"===t)return!o;if("__v_isReadonly"===t)return o;if("__v_isShallow"===t)return a;if("__v_raw"===t)return n===(o?a?wt:vt:a?bt:yt).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const s=g(e);if(!o){if(s&&m(Be,t))return Reflect.get(Be,t,n);if("hasOwnProperty"===t)return Ue}const r=Reflect.get(e,t,n);return(x(t)?Fe.has(t):Ie(t))?r:(o||Le(e,"get",t),a?r:It(r)?s&&P(t)?r:r.value:_(r)?o?xt(r):kt(r):r)}},ze=class extends De{constructor(e=!1){super(!1,e)}set(e,t,n,o){let a=e[t];if(!this._shallow){const t=Et(a);if(At(n)||Et(n)||(a=Pt(a),n=Pt(n)),!g(e)&&It(a)&&!It(n))return!t&&(a.value=n,!0)}const s=g(e)&&P(t)?Number(t)<e.length:m(e,t),r=Reflect.set(e,t,n,o);return e===Pt(o)&&(s?j(n,a)&&Ve(e,"set",t,n,a):Ve(e,"add",t,n)),r}deleteProperty(e,t){const n=m(e,t),o=e[t],a=Reflect.deleteProperty(e,t);return a&&n&&Ve(e,"delete",t,void 0,o),a}has(e,t){const n=Reflect.has(e,t);return x(t)&&Fe.has(t)||Le(e,"has",t),n}ownKeys(e){return Le(e,"iterate",g(e)?"length":Te),Reflect.ownKeys(e)}},We=class extends De{constructor(e=!1){super(!0,e)}set(e,t){return pe('Set operation on key "'.concat(String(t),'" failed: target is readonly.'),e),!0}deleteProperty(e,t){return pe('Delete operation on key "'.concat(String(t),'" failed: target is readonly.'),e),!0}},$e=new ze,He=new We,qe=new ze(!0),Ge=new We(!0),Ke=e=>e,Ye=e=>Reflect.getPrototypeOf(e);function Qe(e,t,n=!1,o=!1){const a=Pt(e=e.__v_raw),s=Pt(t);n||(j(t,s)&&Le(a,"get",t),Le(a,"get",s));const{has:r}=Ye(a),i=o?Ke:n?Tt:Ot;return r.call(a,t)?i(e.get(t)):r.call(a,s)?i(e.get(s)):void(e!==a&&e.get(t))}function Ze(e,t=!1){const n=this.__v_raw,o=Pt(n),a=Pt(e);return t||(j(e,a)&&Le(o,"has",e),Le(o,"has",a)),e===a?n.has(e):n.has(e)||n.has(a)}function Je(e,t=!1){return e=e.__v_raw,!t&&Le(Pt(e),"iterate",Te),Reflect.get(e,"size",e)}function Xe(e){e=Pt(e);const t=Pt(this);return Ye(t).has.call(t,e)||(t.add(e),Ve(t,"add",e,e)),this}function et(e,t){t=Pt(t);const n=Pt(this),{has:o,get:a}=Ye(n);let s=o.call(n,e);s?gt(n,o,e):(e=Pt(e),s=o.call(n,e));const r=a.call(n,e);return n.set(e,t),s?j(t,r)&&Ve(n,"set",e,t,r):Ve(n,"add",e,t),this}function tt(e){const t=Pt(this),{has:n,get:o}=Ye(t);let a=n.call(t,e);a?gt(t,n,e):(e=Pt(e),a=n.call(t,e));const s=o?o.call(t,e):void 0,r=t.delete(e);return a&&Ve(t,"delete",e,void 0,s),r}function nt(){const e=Pt(this),t=0!==e.size,n=y(e)?new Map(e):new Set(e),o=e.clear();return t&&Ve(e,"clear",void 0,void 0,n),o}function ot(e,t){return function(n,o){const a=this,s=a.__v_raw,r=Pt(s),i=t?Ke:e?Tt:Ot;return!e&&Le(r,"iterate",Te),s.forEach(((e,t)=>n.call(o,i(e),i(t),a)))}}function at(e,t,n){return function(...o){const a=this.__v_raw,s=Pt(a),r=y(s),i="entries"===e||e===Symbol.iterator&&r,l="keys"===e&&r,c=a[e](...o),u=n?Ke:t?Tt:Ot;return!t&&Le(s,"iterate",l?Me:Te),{next(){const{value:e,done:t}=c.next();return t?{value:e,done:t}:{value:i?[u(e[0]),u(e[1])]:u(e),done:t}},[Symbol.iterator](){return this}}}}function st(e){return function(...t){{const n=t[0]?'on key "'.concat(t[0],'" '):"";console.warn("".concat(F(e)," operation ").concat(n,"failed: target is readonly."),Pt(this))}return"delete"!==e&&("clear"===e?void 0:this)}}function rt(){const e={get(e){return Qe(this,e)},get size(){return Je(this)},has:Ze,add:Xe,set:et,delete:tt,clear:nt,forEach:ot(!1,!1)},t={get(e){return Qe(this,e,!1,!0)},get size(){return Je(this)},has:Ze,add:Xe,set:et,delete:tt,clear:nt,forEach:ot(!1,!0)},n={get(e){return Qe(this,e,!0)},get size(){return Je(this,!0)},has(e){return Ze.call(this,e,!0)},add:st("add"),set:st("set"),delete:st("delete"),clear:st("clear"),forEach:ot(!0,!1)},o={get(e){return Qe(this,e,!0,!0)},get size(){return Je(this,!0)},has(e){return Ze.call(this,e,!0)},add:st("add"),set:st("set"),delete:st("delete"),clear:st("clear"),forEach:ot(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach((a=>{e[a]=at(a,!1,!1),n[a]=at(a,!0,!1),t[a]=at(a,!1,!0),o[a]=at(a,!0,!0)})),[e,n,t,o]}var[it,lt,ct,ut]=rt();function dt(e,t){const n=t?e?ut:ct:e?lt:it;return(t,o,a)=>"__v_isReactive"===o?!e:"__v_isReadonly"===o?e:"__v_raw"===o?t:Reflect.get(m(n,o)&&o in t?n:t,o,a)}var pt={get:dt(!1,!1)},ft={get:dt(!1,!0)},ht={get:dt(!0,!1)},mt={get:dt(!0,!0)};function gt(e,t,n){const o=Pt(n);if(o!==n&&t.call(e,o)){const t=A(e);console.warn("Reactive ".concat(t," contains both the raw and reactive versions of the same object").concat("Map"===t?" as keys":"",", which can lead to inconsistencies. Avoid differentiating between the raw and reactive versions of an object and only use the reactive version if possible."))}}var yt=new WeakMap,bt=new WeakMap,vt=new WeakMap,wt=new WeakMap;function kt(e){return Et(e)?e:Ct(e,!1,$e,pt,yt)}function xt(e){return Ct(e,!0,He,ht,vt)}function _t(e){return Ct(e,!0,Ge,mt,wt)}function Ct(e,t,n,o,a){if(!_(e))return console.warn("value cannot be made reactive: ".concat(String(e))),e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;const s=a.get(e);if(s)return s;const r=(i=e).__v_skip||!Object.isExtensible(i)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}(A(i));var i;if(0===r)return e;const l=new Proxy(e,2===r?o:n);return a.set(e,l),l}function St(e){return Et(e)?St(e.__v_raw):!(!e||!e.__v_isReactive)}function Et(e){return!(!e||!e.__v_isReadonly)}function At(e){return!(!e||!e.__v_isShallow)}function Nt(e){return St(e)||Et(e)}function Pt(e){const t=e&&e.__v_raw;return t?Pt(t):e}function Rt(e){return D(e,"__v_skip",!0),e}var Ot=e=>_(e)?kt(e):e,Tt=e=>_(e)?xt(e):e,Mt=class{constructor(e,t,n,o){this._setter=t,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new me((()=>e(this._value)),(()=>Vt(this,1)),(()=>this.dep&&Pe(this.dep))),this.effect.computed=this,this.effect.active=this._cacheable=!o,this.__v_isReadonly=n}get value(){const e=Pt(this);return e._cacheable&&!e.effect.dirty||j(e._value,e._value=e.effect.run())&&Vt(e,2),Lt(e),e.effect._dirtyLevel>=1&&Vt(e,1),e._value}set value(e){this._setter(e)}get _dirty(){return this.effect.dirty}set _dirty(e){this.effect.dirty=e}};function Lt(e){ve&&fe&&(e=Pt(e),Ee(fe,e.dep||(e.dep=Re((()=>e.dep=void 0),e instanceof Mt?e:void 0)),{target:e,type:"get",key:"value"}))}function Vt(e,t=2,n){const o=(e=Pt(e)).dep;o&&Ne(o,t,{target:e,type:"set",key:"value",newValue:n})}function It(e){return!(!e||!0!==e.__v_isRef)}function Ft(e){return function(e,t){if(It(e))return e;return new Bt(e,t)}(e,!0)}var Bt=class{constructor(e,t){this.__v_isShallow=t,this.dep=void 0,this.__v_isRef=!0,this._rawValue=t?e:Pt(e),this._value=t?e:Ot(e)}get value(){return Lt(this),this._value}set value(e){const t=this.__v_isShallow||At(e)||Et(e);e=t?e:Pt(e),j(e,this._rawValue)&&(this._rawValue=e,this._value=t?e:Ot(e),Vt(this,2,e))}};function jt(e){return It(e)?e.value:e}var Ut={get:(e,t,n)=>jt(Reflect.get(e,t,n)),set:(e,t,n,o)=>{const a=e[t];return It(a)&&!It(n)?(a.value=n,!0):Reflect.set(e,t,n,o)}};function Dt(e){return St(e)?e:new Proxy(e,Ut)}var zt=[];function Wt(e){zt.push(e)}function $t(){zt.pop()}function Ht(e,...t){xe();const n=zt.length?zt[zt.length-1].component:null,o=n&&n.appContext.config.warnHandler,a=function(){let e=zt[zt.length-1];if(!e)return[];const t=[];for(;e;){const n=t[0];n&&n.vnode===e?n.recurseCount++:t.push({vnode:e,recurseCount:0});const o=e.component&&e.component.parent;e=o&&o.vnode}return t}();if(o)Yt(o,n,11,[e+t.join(""),n&&n.proxy,a.map((({vnode:e})=>"at <".concat(Fs(n,e.type),">"))).join("\n"),a]);else{const n=["[Vue warn]: ".concat(e),...t];a.length&&n.push("\n",...function(e){const t=[];return e.forEach(((e,n)=>{t.push(...0===n?[]:["\n"],...function({vnode:e,recurseCount:t}){const n=t>0?"... (".concat(t," recursive calls)"):"",o=!!e.component&&null==e.component.parent,a=" at <".concat(Fs(e.component,e.type,o)),s=">"+n;return e.props?[a,...qt(e.props),s]:[a+s]}(e))})),t}(a)),console.warn(...n)}_e()}function qt(e){const t=[],n=Object.keys(e);return n.slice(0,3).forEach((n=>{t.push(...Gt(n,e[n]))})),n.length>3&&t.push(" ..."),t}function Gt(e,t,n){return k(t)?(t=JSON.stringify(t),n?t:["".concat(e,"=").concat(t)]):"number"==typeof t||"boolean"==typeof t||null==t?n?t:["".concat(e,"=").concat(t)]:It(t)?(t=Gt(e,Pt(t.value),!0),n?t:["".concat(e,"=Ref<"),t,">"]):w(t)?["".concat(e,"=fn").concat(t.name?"<".concat(t.name,">"):"")]:(t=Pt(t),n?t:["".concat(e,"="),t])}var Kt={sp:"serverPrefetch hook",bc:"beforeCreate hook",c:"created hook",bm:"beforeMount hook",m:"mounted hook",bu:"beforeUpdate hook",u:"updated",bum:"beforeUnmount hook",um:"unmounted hook",a:"activated hook",da:"deactivated hook",ec:"errorCaptured hook",rtc:"renderTracked hook",rtg:"renderTriggered hook",0:"setup function",1:"render function",2:"watcher getter",3:"watcher callback",4:"watcher cleanup function",5:"native event handler",6:"component event handler",7:"vnode hook",8:"directive hook",9:"transition hook",10:"app errorHandler",11:"app warnHandler",12:"ref function",13:"async component loader",14:"scheduler flush. This is likely a Vue internals bug. Please open an issue at https://github.com/vuejs/core ."};function Yt(e,t,n,o){let a;try{a=o?e(...o):e()}catch(e){Zt(e,t,n)}return a}function Qt(e,t,n,o){if(w(e)){const a=Yt(e,t,n,o);return a&&C(a)&&a.catch((e=>{Zt(e,t,n)})),a}const a=[];for(let s=0;s<e.length;s++)a.push(Qt(e[s],t,n,o));return a}function Zt(e,t,n,o=!0){const a=t?t.vnode:null;if(t){let o=t.parent;const a=t.proxy,s=Kt[n];for(;o;){const t=o.ec;if(t)for(let n=0;n<t.length;n++)if(!1===t[n](e,a,s))return;o=o.parent}const r=t.appContext.config.errorHandler;if(r)return void Yt(r,null,10,[e,a,s])}!function(e,t,n,o=!0){{const a=Kt[t];if(n&&Wt(n),Ht("Unhandled error".concat(a?" during execution of ".concat(a):"")),n&&$t(),o)throw e;console.error(e)}}(e,n,a,o)}var Jt=!1,Xt=!1,en=[],tn=0,nn=[],on=null,an=0,sn=Promise.resolve(),rn=null,ln=100;function cn(e){const t=rn||sn;return e?t.then(this?e.bind(this):e):t}function un(e){en.length&&en.includes(e,Jt&&e.allowRecurse?tn+1:tn)||(null==e.id?en.push(e):en.splice(function(e){let t=tn+1,n=en.length;for(;t<n;){const o=t+n>>>1,a=en[o],s=mn(a);s<e||s===e&&a.pre?t=o+1:n=o}return t}(e.id),0,e),dn())}function dn(){Jt||Xt||(Xt=!0,rn=sn.then(yn))}function pn(e){g(e)?nn.push(...e):on&&on.includes(e,e.allowRecurse?an+1:an)||nn.push(e),dn()}function fn(e,t,n=(Jt?tn+1:0)){for(t=t||new Map;n<en.length;n++){const o=en[n];if(o&&o.pre){if(e&&o.id!==e.uid)continue;if(bn(t,o))continue;en.splice(n,1),n--,o()}}}function hn(e){if(nn.length){const t=[...new Set(nn)].sort(((e,t)=>mn(e)-mn(t)));if(nn.length=0,on)return void on.push(...t);for(on=t,e=e||new Map,an=0;an<on.length;an++)bn(e,on[an])||on[an]();on=null,an=0}}var mn=e=>null==e.id?1/0:e.id,gn=(e,t)=>{const n=mn(e)-mn(t);if(0===n){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function yn(e){Xt=!1,Jt=!0,e=e||new Map,en.sort(gn);const t=t=>bn(e,t);try{for(tn=0;tn<en.length;tn++){const e=en[tn];if(e&&!1!==e.active){if(t(e))continue;Yt(e,null,14)}}}finally{tn=0,en.length=0,hn(e),Jt=!1,rn=null,(en.length||nn.length)&&yn(e)}}function bn(e,t){if(e.has(t)){const n=e.get(t);if(n>ln){const e=t.ownerInstance,n=e&&Is(e.type);return Zt("Maximum recursive updates exceeded".concat(n?" in component <".concat(n,">"):"",". This means you have a reactive effect that is mutating its own dependencies and thus recursively triggering itself. Possible sources include component template, render function, updated hook or watcher source function."),null,10),!0}e.set(t,n+1)}else e.set(t,1)}var vn=!1,wn=new Set;$().__VUE_HMR_RUNTIME__={createRecord:En(_n),rerender:En((function(e,t){const n=xn.get(e);if(!n)return;n.initialDef.render=t,[...n.instances].forEach((e=>{t&&(e.render=t,Cn(e.type).render=t),e.renderCache=[],vn=!0,e.effect.dirty=!0,e.update(),vn=!1}))})),reload:En((function(e,t){const n=xn.get(e);if(!n)return;t=Cn(t),Sn(n.initialDef,t);const o=[...n.instances];for(const e of o){const o=Cn(e.type);wn.has(o)||(o!==n.initialDef&&Sn(o,t),wn.add(o)),e.appContext.propsCache.delete(e.type),e.appContext.emitsCache.delete(e.type),e.appContext.optionsCache.delete(e.type),e.ceReload?(wn.add(o),e.ceReload(t.styles),wn.delete(o)):e.parent?(e.parent.effect.dirty=!0,un(e.parent.update)):e.appContext.reload?e.appContext.reload():"undefined"!=typeof window?window.location.reload():console.warn("[HMR] Root or manually mounted instance modified. Full reload required.")}pn((()=>{for(const e of o)wn.delete(Cn(e.type))}))}))};var kn,xn=new Map;function _n(e,t){return!xn.has(e)&&(xn.set(e,{initialDef:Cn(t),instances:new Set}),!0)}function Cn(e){return Bs(e)?e.__vccOpts:e}function Sn(e,t){p(e,t);for(const n in e)"__file"===n||n in t||delete e[n]}function En(e){return(t,n)=>{try{return e(t,n)}catch(e){console.error(e),console.warn("[HMR] Something went wrong during Vue component hot-reload. Full reload required.")}}}var An=[],Nn=!1;function Pn(e,...t){kn?kn.emit(e,...t):Nn||An.push({event:e,args:t})}function Rn(e,t){var n,o;if(kn=e)kn.enabled=!0,An.forEach((({event:e,args:t})=>kn.emit(e,...t))),An=[];else if("undefined"!=typeof window&&window.HTMLElement&&!(null==(o=null==(n=window.navigator)?void 0:n.userAgent)?void 0:o.includes("jsdom"))){(t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push((e=>{Rn(e,t)})),setTimeout((()=>{kn||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,Nn=!0,An=[])}),3e3)}else Nn=!0,An=[]}var On=Vn("component:added"),Tn=Vn("component:updated"),Mn=Vn("component:removed"),Ln=e=>{kn&&"function"==typeof kn.cleanupBuffer&&!kn.cleanupBuffer(e)&&Mn(e)};function Vn(e){return t=>{Pn(e,t.appContext.app,t.uid,t.parent?t.parent.uid:void 0,t)}}var In=Bn("perf:start"),Fn=Bn("perf:end");function Bn(e){return(t,n,o)=>{Pn(e,t.appContext.app,t.uid,t,n,o)}}function jn(e,t,...n){if(e.isUnmounted)return;const o=e.vnode.props||r;{const{emitsOptions:o,propsOptions:[a]}=e;if(o)if(t in o){const e=o[t];if(w(e)){e(...n)||Ht('Invalid event arguments: event validation failed for event "'.concat(t,'".'))}}else a&&B(t)in a||Ht('Component emitted event "'.concat(t,'" but it is neither declared in the emits option nor as an "').concat(B(t),'" prop.'))}let a=n;const s=t.startsWith("update:"),i=s&&t.slice(7);if(i&&i in o){const e="".concat("modelValue"===i?"model":i,"Modifiers"),{number:t,trim:s}=o[e]||r;s&&(a=n.map((e=>k(e)?e.trim():e))),t&&(a=n.map(z))}(function(e,t,n){Pn("component:emit",e.appContext.app,e,t,n)})(e,t,a);{const n=t.toLowerCase();n!==t&&o[B(n)]&&Ht('Event "'.concat(n,'" is emitted in component ').concat(Fs(e,e.type),' but the handler is registered for "').concat(t,'". Note that HTML attributes are case-insensitive and you cannot use v-on to listen to camelCase events when using in-DOM templates. You should probably use "').concat(I(t),'" instead of "').concat(t,'".'))}let l,c=o[l=B(t)]||o[l=B(L(t))];!c&&s&&(c=o[l=B(I(t))]),c&&Qt(c,e,6,a);const u=o[l+"Once"];if(u){if(e.emitted){if(e.emitted[l])return}else e.emitted={};e.emitted[l]=!0,Qt(u,e,6,a)}}function Un(e,t,n=!1){const o=t.emitsCache,a=o.get(e);if(void 0!==a)return a;const s=e.emits;let r={},i=!1;return s||i?(g(s)?s.forEach((e=>r[e]=null)):p(r,s),_(e)&&o.set(e,r),r):(_(e)&&o.set(e,null),null)}function Dn(e,t){return!(!e||!u(t))&&(t=t.slice(2).replace(/Once$/,""),m(e,t[0].toLowerCase()+t.slice(1))||m(e,I(t))||m(e,t))}var zn=null,Wn=null;function $n(e){const t=zn;return zn=e,Wn=e&&e.type.__scopeId||null,t}function Hn(e){Wn=e}function qn(){Wn=null}function Gn(e,t=zn,n){if(!t)return e;if(e._n)return e;const o=(...n)=>{o._d&&Ka(-1);const a=$n(t);let s;try{s=e(...n)}finally{$n(a),o._d&&Ka(1)}return Tn(t),s};return o._n=!0,o._c=!0,o._d=!0,o}var Kn=!1;function Yn(){Kn=!0}function Qn(e){const{type:t,vnode:n,proxy:o,withProxy:a,props:s,propsOptions:[r],slots:i,attrs:l,emit:c,render:p,renderCache:f,data:h,setupState:m,ctx:g,inheritAttrs:y}=e;let b,v;const w=$n(e);Kn=!1;try{if(4&n.shapeFlag){const e=a||o,t=m.__isScriptSetup?new Proxy(e,{get:(e,t,n)=>(Ht("Property '".concat(String(t),"' was accessed via 'this'. Avoid using 'this' in templates.")),Reflect.get(e,t,n))}):e;b=ds(p.call(t,e,f,s,m,h,g)),v=l}else{const e=t;l===s&&Yn(),b=ds(e.length>1?e(s,{get attrs(){return Yn(),l},slots:i,emit:c}):e(s,null)),v=t.props?l:Xn(l)}}catch(t){$a.length=0,Zt(t,e,1),b=as(za)}let k,x=b;if(b.patchFlag>0&&2048&b.patchFlag&&([x,k]=Zn(b)),v&&!1!==y){const e=Object.keys(v),{shapeFlag:t}=x;if(e.length)if(7&t)r&&e.some(d)&&(v=eo(v,r)),x=rs(x,v);else if(!Kn&&x.type!==za){const e=Object.keys(l),t=[],n=[];for(let o=0,a=e.length;o<a;o++){const a=e[o];u(a)?d(a)||t.push(a[2].toLowerCase()+a.slice(3)):n.push(a)}n.length&&Ht("Extraneous non-props attributes (".concat(n.join(", "),") were passed to component but could not be automatically inherited because component renders fragment or text root nodes.")),t.length&&Ht("Extraneous non-emits event listeners (".concat(t.join(", "),') were passed to component but could not be automatically inherited because component renders fragment or text root nodes. If the listener is intended to be a component custom event listener only, declare it using the "emits" option.'))}}return n.dirs&&(to(x)||Ht("Runtime directive used on component with non-element root node. The directives will not function as intended."),x=rs(x),x.dirs=x.dirs?x.dirs.concat(n.dirs):n.dirs),n.transition&&(to(x)||Ht("Component inside <Transition> renders non-element root node that cannot be animated."),x.transition=n.transition),k?k(x):b=x,$n(w),b}var Zn=e=>{const t=e.children,n=e.dynamicChildren,o=Jn(t,!1);if(!o)return[e,void 0];if(o.patchFlag>0&&2048&o.patchFlag)return Zn(o);const a=t.indexOf(o),s=n?n.indexOf(o):-1;return[ds(o),o=>{t[a]=o,n&&(s>-1?n[s]=o:o.patchFlag>0&&(e.dynamicChildren=[...n,o]))}]};function Jn(e,t=!0){let n;for(let o=0;o<e.length;o++){const a=e[o];if(!Ja(a))return;if(a.type!==za||"v-if"===a.children){if(n)return;if(n=a,t&&n.patchFlag>0&&2048&n.patchFlag)return Jn(n.children)}}return n}var Xn=e=>{let t;for(const n in e)("class"===n||"style"===n||u(n))&&((t||(t={}))[n]=e[n]);return t},eo=(e,t)=>{const n={};for(const o in e)d(o)&&o.slice(9)in t||(n[o]=e[o]);return n},to=e=>7&e.shapeFlag||e.type===za;function no(e,t,n){const o=Object.keys(t);if(o.length!==Object.keys(e).length)return!0;for(let a=0;a<o.length;a++){const s=o[a];if(t[s]!==e[s]&&!Dn(n,s))return!0}return!1}var oo=Symbol.for("v-ndc");function ao(e,t){t&&t.pendingBranch?g(e)?t.effects.push(...e):t.effects.push(e):pn(e)}var so=Symbol.for("v-scx"),ro=()=>{{const e=function(e,t,n=!1){const o=vs||zn;if(o||Jo){const a=o?null==o.parent?o.vnode.appContext&&o.vnode.appContext.provides:o.parent.provides:Jo._context.provides;if(a&&e in a)return a[e];if(arguments.length>1)return n&&w(t)?t.call(o&&o.proxy):t;Ht('injection "'.concat(String(e),'" not found.'))}else Ht("inject() can only be used inside setup() or functional components.")}(so);return e||Ht("Server rendering context not provided. Make sure to only call useSSRContext() conditionally in the server build."),e}};function io(e,t){return function(e,t,{immediate:n,deep:o,flush:a,once:s,onTrack:i,onTrigger:c}=r){if(t&&s){const e=t;t=(...t)=>{e(...t),A()}}void 0!==o&&"number"==typeof o&&Ht('watch() "deep" option with number value will be used as watch depth in future versions. Please use a boolean instead to avoid potential breakage.');t||(void 0!==n&&Ht('watch() "immediate" option is only respected when using the watch(source, callback, options?) signature.'),void 0!==o&&Ht('watch() "deep" option is only respected when using the watch(source, callback, options?) signature.'),void 0!==s&&Ht('watch() "once" option is only respected when using the watch(source, callback, options?) signature.'));const u=e=>{Ht("Invalid watch source: ",e,"A watch source can only be a getter/effect function, a ref, a reactive object, or an array of these types.")},d=vs,p=e=>!0===o?e:co(e,!1===o?1:void 0);let h,m,y=!1,b=!1;It(e)?(h=()=>e.value,y=At(e)):St(e)?(h=()=>p(e),y=!0):g(e)?(b=!0,y=e.some((e=>St(e)||At(e))),h=()=>e.map((e=>It(e)?e.value:St(e)?p(e):w(e)?Yt(e,d,2):void u(e)))):w(e)?h=t?()=>Yt(e,d,2):()=>(m&&m(),Qt(e,d,3,[k])):(h=l,u(e));if(t&&o){const e=h;h=()=>co(e())}let v,k=e=>{m=S.onStop=()=>{Yt(e,d,4),m=S.onStop=void 0}};if(Ns){if(k=l,t?n&&Qt(t,d,3,[h(),b?[]:void 0,k]):h(),"sync"!==a)return l;{const e=ro();v=e.__watcherHandles||(e.__watcherHandles=[])}}let x=b?new Array(e.length).fill(lo):lo;const _=()=>{if(S.active&&S.dirty)if(t){const e=S.run();(o||y||(b?e.some(((e,t)=>j(e,x[t]))):j(e,x)))&&(m&&m(),Qt(t,d,3,[e,x===lo?void 0:b&&x[0]===lo?[]:x,k]),x=e)}else S.run()};let C;_.allowRecurse=!!t,"sync"===a?C=_:"post"===a?C=()=>Ma(_,d&&d.suspense):(_.pre=!0,d&&(_.id=d.uid),C=()=>un(_));const S=new me(h,l,C),E=le,A=()=>{S.stop(),E&&f(E.effects,S)};S.onTrack=i,S.onTrigger=c;t?n?_():x=S.run():"post"===a?Ma(S.run.bind(S),d&&d.suspense):S.run();v&&v.push(A);return A}(e,null,t)}var lo={};function co(e,t,n=0,o){if(!_(e)||e.__v_skip)return e;if(t&&t>0){if(n>=t)return e;n++}if((o=o||new Set).has(e))return e;if(o.add(e),It(e))co(e.value,t,n,o);else if(g(e))for(let a=0;a<e.length;a++)co(e[a],t,n,o);else if(b(e)||y(e))e.forEach((e=>{co(e,t,n,o)}));else if(N(e))for(const a in e)co(e[a],t,n,o);return e}function uo(e){O(e)&&Ht("Do not use built-in directive ids as custom directive id: "+e)}function po(e,t){if(null===zn)return Ht("withDirectives can only be used inside render functions."),e;const n=Ms(zn)||zn.proxy,o=e.dirs||(e.dirs=[]);for(let e=0;e<t.length;e++){let[a,s,i,l=r]=t[e];a&&(w(a)&&(a={mounted:a,updated:a}),a.deep&&co(s),o.push({dir:a,instance:n,value:s,oldValue:void 0,arg:i,modifiers:l}))}return e}function fo(e,t,n,o){const a=e.dirs,s=t&&t.dirs;for(let r=0;r<a.length;r++){const i=a[r];s&&(i.oldValue=s[r].value);let l=i.dir[o];l&&(xe(),Qt(l,n,8,[e.el,i,e,t]),_e())}}var ho=Symbol("_leaveCb"),mo=Symbol("_enterCb");function go(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ro((()=>{e.isMounted=!0})),Oo((()=>{e.isUnmounting=!0})),e}var yo=[Function,Array],bo={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:yo,onEnter:yo,onAfterEnter:yo,onEnterCancelled:yo,onBeforeLeave:yo,onLeave:yo,onAfterLeave:yo,onLeaveCancelled:yo,onBeforeAppear:yo,onAppear:yo,onAfterAppear:yo,onAppearCancelled:yo},vo={name:"BaseTransition",props:bo,setup(e,{slots:t}){const n=ws(),o=go();let a;return()=>{const s=t.default&&So(t.default(),!0);if(!s||!s.length)return;let r=s[0];if(s.length>1){let e=!1;for(const t of s)if(t.type!==za){if(e){Ht("<transition> can only be used on a single element or component. Use <transition-group> for lists.");break}r=t,e=!0}}const i=Pt(e),{mode:l}=i;if(l&&"in-out"!==l&&"out-in"!==l&&"default"!==l&&Ht("invalid <transition> mode: ".concat(l)),o.isLeaving)return xo(r);const c=_o(r);if(!c)return xo(r);const u=ko(c,i,o,n);Co(c,u);const d=n.subTree,p=d&&_o(d);let f=!1;const{getTransitionKey:h}=c.type;if(h){const e=h();void 0===a?a=e:e!==a&&(a=e,f=!0)}if(p&&p.type!==za&&(!Xa(c,p)||f)){const e=ko(p,i,o,n);if(Co(p,e),"out-in"===l)return o.isLeaving=!0,e.afterLeave=()=>{o.isLeaving=!1,!1!==n.update.active&&(n.effect.dirty=!0,n.update())},xo(r);"in-out"===l&&c.type!==za&&(e.delayLeave=(e,t,n)=>{wo(o,p)[String(p.key)]=p,e[ho]=()=>{t(),e[ho]=void 0,delete u.delayedLeave},u.delayedLeave=n})}return r}}};function wo(e,t){const{leavingVNodes:n}=e;let o=n.get(t.type);return o||(o=Object.create(null),n.set(t.type,o)),o}function ko(e,t,n,o){const{appear:a,mode:s,persisted:r=!1,onBeforeEnter:i,onEnter:l,onAfterEnter:c,onEnterCancelled:u,onBeforeLeave:d,onLeave:p,onAfterLeave:f,onLeaveCancelled:h,onBeforeAppear:m,onAppear:y,onAfterAppear:b,onAppearCancelled:v}=t,w=String(e.key),k=wo(n,e),x=(e,t)=>{e&&Qt(e,o,9,t)},_=(e,t)=>{const n=t[1];x(e,t),g(e)?e.every((e=>e.length<=1))&&n():e.length<=1&&n()},C={mode:s,persisted:r,beforeEnter(t){let o=i;if(!n.isMounted){if(!a)return;o=m||i}t[ho]&&t[ho](!0);const s=k[w];s&&Xa(e,s)&&s.el[ho]&&s.el[ho](),x(o,[t])},enter(e){let t=l,o=c,s=u;if(!n.isMounted){if(!a)return;t=y||l,o=b||c,s=v||u}let r=!1;const i=e[mo]=t=>{r||(r=!0,x(t?s:o,[e]),C.delayedLeave&&C.delayedLeave(),e[mo]=void 0)};t?_(t,[e,i]):i()},leave(t,o){const a=String(e.key);if(t[mo]&&t[mo](!0),n.isUnmounting)return o();x(d,[t]);let s=!1;const r=t[ho]=n=>{s||(s=!0,o(),x(n?h:f,[t]),t[ho]=void 0,k[a]===e&&delete k[a])};k[a]=e,p?_(p,[t,r]):r()},clone:e=>ko(e,t,n,o)};return C}function xo(e){if(No(e))return(e=rs(e)).children=null,e}function _o(e){return No(e)?e.component?e.component.subTree:e.children?e.children[0]:void 0:e}function Co(e,t){6&e.shapeFlag&&e.component?Co(e.component.subTree,t):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function So(e,t=!1,n){let o=[],a=0;for(let s=0;s<e.length;s++){let r=e[s];const i=null==n?r.key:String(n)+String(null!=r.key?r.key:s);r.type===Ua?(128&r.patchFlag&&a++,o=o.concat(So(r.children,t,i))):(t||r.type!==za)&&o.push(null!=i?rs(r,{key:i}):r)}if(a>1)for(let e=0;e<o.length;e++)o[e].patchFlag=-2;return o}function Eo(e,t){return w(e)?(()=>p({name:e.name},t,{setup:e}))():e}var Ao=e=>!!e.type.__asyncLoader,No=e=>e.type.__isKeepAlive;var Po=e=>(t,n=vs)=>(!Ns||"sp"===e)&&function(e,t,n=vs,o=!1){if(n){const a=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...o)=>{if(n.isUnmounted)return;xe();const a=ks(n),s=Qt(t,n,e,o);return a(),_e(),s});return o?a.unshift(s):a.push(s),s}{const t=B(Kt[e].replace(/ hook$/,""));Ht("".concat(t," is called when there is no active component instance to be associated with. Lifecycle injection APIs can only be used during execution of setup().")+" If you are using async setup(), make sure to register lifecycle hooks before the first await statement.")}}(e,((...e)=>t(...e)),n),Ro=(Po("bm"),Po("m")),Oo=(Po("bu"),Po("u"),Po("bum"));Po("um"),Po("sp"),Po("rtg"),Po("rtc");function To(e,t,n,o){let a;const s=n&&n[o];if(g(e)||k(e)){a=new Array(e.length);for(let n=0,o=e.length;n<o;n++)a[n]=t(e[n],n,void 0,s&&s[n])}else if("number"==typeof e){Number.isInteger(e)||Ht("The v-for range expect an integer value but got ".concat(e,".")),a=new Array(e);for(let n=0;n<e;n++)a[n]=t(n+1,n,void 0,s&&s[n])}else if(_(e))if(e[Symbol.iterator])a=Array.from(e,((e,n)=>t(e,n,void 0,s&&s[n])));else{const n=Object.keys(e);a=new Array(n.length);for(let o=0,r=n.length;o<r;o++){const r=n[o];a[o]=t(e[r],r,o,s&&s[o])}}else a=[];return n&&(n[o]=a),a}function Mo(e,t,n={},o,a){if(zn.isCE||zn.parent&&Ao(zn.parent)&&zn.parent.isCE)return"default"!==t&&(n.name=t),as("slot",n,o&&o());let s=e[t];s&&s.length>1&&(Ht("SSR-optimized slot function detected in a non-SSR-optimized render function. You need to mark this component with $dynamic-slots in the parent template."),s=()=>[]),s&&s._c&&(s._d=!1),qa();const r=s&&Lo(s(n)),i=Za(Ua,{key:n.key||r&&r.key||"_".concat(t)},r||(o?o():[]),r&&1===e._?64:-2);return!a&&i.scopeId&&(i.slotScopeIds=[i.scopeId+"-s"]),s&&s._c&&(s._d=!0),i}function Lo(e){return e.some((e=>!Ja(e)||e.type!==za&&!(e.type===Ua&&!Lo(e.children))))?e:null}var Vo=e=>e?Ss(e)?Ms(e)||e.proxy:Vo(e.parent):null,Io=p(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>_t(e.props),$attrs:e=>_t(e.attrs),$slots:e=>_t(e.slots),$refs:e=>_t(e.refs),$parent:e=>Vo(e.parent),$root:e=>Vo(e.root),$emit:e=>e.emit,$options:e=>e.type,$forceUpdate:e=>e.f||(e.f=()=>{e.effect.dirty=!0,un(e.update)}),$nextTick:e=>e.n||(e.n=cn.bind(e.proxy)),$watch:e=>l}),Fo=e=>"_"===e||"$"===e,Bo=(e,t)=>e!==r&&!e.__isScriptSetup&&m(e,t),jo={get({_:e},t){const{ctx:n,setupState:o,data:a,props:s,accessCache:i,type:l,appContext:c}=e;if("__isVue"===t)return!0;let u;if("$"!==t[0]){const l=i[t];if(void 0!==l)switch(l){case 1:return o[t];case 2:return a[t];case 4:return n[t];case 3:return s[t]}else{if(Bo(o,t))return i[t]=1,o[t];if(a!==r&&m(a,t))return i[t]=2,a[t];if((u=e.propsOptions[0])&&m(u,t))return i[t]=3,s[t];if(n!==r&&m(n,t))return i[t]=4,n[t];i[t]=0}}const d=Io[t];let p,f;return d?("$attrs"===t?(Le(e,"get",t),Yn()):"$slots"===t&&Le(e,"get",t),d(e)):(p=l.__cssModules)&&(p=p[t])?p:n!==r&&m(n,t)?(i[t]=4,n[t]):(f=c.config.globalProperties,m(f,t)?f[t]:void(!zn||k(t)&&0===t.indexOf("__v")||(a!==r&&Fo(t[0])&&m(a,t)?Ht("Property ".concat(JSON.stringify(t),' must be accessed via $data because it starts with a reserved character ("$" or "_") and is not proxied on the render context.')):e===zn&&Ht("Property ".concat(JSON.stringify(t)," was accessed during render but is not defined on instance.")))))},set({_:e},t,n){const{data:o,setupState:a,ctx:s}=e;return Bo(a,t)?(a[t]=n,!0):a.__isScriptSetup&&m(a,t)?(Ht('Cannot mutate <script setup> binding "'.concat(t,'" from Options API.')),!1):o!==r&&m(o,t)?(o[t]=n,!0):m(e.props,t)?(Ht('Attempting to mutate prop "'.concat(t,'". Props are readonly.')),!1):"$"===t[0]&&t.slice(1)in e?(Ht('Attempting to mutate public property "'.concat(t,'". Properties starting with $ are reserved and readonly.')),!1):(t in e.appContext.config.globalProperties?Object.defineProperty(s,t,{enumerable:!0,configurable:!0,value:n}):s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:o,appContext:a,propsOptions:s}},i){let l;return!!n[i]||e!==r&&m(e,i)||Bo(t,i)||(l=s[0])&&m(l,i)||m(o,i)||m(Io,i)||m(a.config.globalProperties,i)},defineProperty(e,t,n){return null!=n.get?e._.accessCache[t]=0:m(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Uo(e){return g(e)?e.reduce(((e,t)=>(e[t]=null,e)),{}):e}function Do(e){const t=e.type,{mixins:n,extends:o}=t,{mixins:a,optionsCache:s,config:{optionMergeStrategies:r}}=e.appContext,i=s.get(t);let l;return i?l=i:a.length||n||o?(l={},a.length&&a.forEach((e=>zo(l,e,r,!0))),zo(l,t,r)):l=t,_(t)&&s.set(t,l),l}function zo(e,t,n,o=!1){const{mixins:a,extends:s}=t;s&&zo(e,s,n,!0),a&&a.forEach((t=>zo(e,t,n,!0)));for(const a in t)if(o&&"expose"===a)Ht('"expose" option is ignored when declared in mixins or extends. It should only be declared in the base component itself.');else{const o=Wo[a]||n&&n[a];e[a]=o?o(e[a],t[a]):t[a]}return e}jo.ownKeys=e=>(Ht("Avoid app logic that relies on enumerating keys on a component instance. The keys will be empty in production mode to avoid performance overhead."),Reflect.ownKeys(e));var Wo={data:$o,props:Ko,emits:Ko,methods:Go,computed:Go,beforeCreate:qo,created:qo,beforeMount:qo,mounted:qo,beforeUpdate:qo,updated:qo,beforeDestroy:qo,beforeUnmount:qo,destroyed:qo,unmounted:qo,activated:qo,deactivated:qo,errorCaptured:qo,serverPrefetch:qo,components:Go,directives:Go,watch:function(e,t){if(!e)return t;if(!t)return e;const n=p(Object.create(null),e);for(const o in t)n[o]=qo(e[o],t[o]);return n},provide:$o,inject:function(e,t){return Go(Ho(e),Ho(t))}};function $o(e,t){return t?e?function(){return p(w(e)?e.call(this,this):e,w(t)?t.call(this,this):t)}:t:e}function Ho(e){if(g(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function qo(e,t){return e?[...new Set([].concat(e,t))]:t}function Go(e,t){return e?p(Object.create(null),e,t):t}function Ko(e,t){return e?g(e)&&g(t)?[...new Set([...e,...t])]:p(Object.create(null),Uo(e),Uo(null!=t?t:{})):t}function Yo(){return{app:null,config:{isNativeTag:c,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}var Qo=0;function Zo(e,t){return function(n,o=null){w(n)||(n=p({},n)),null==o||_(o)||(Ht("root props passed to app.mount() must be an object."),o=null);const a=Yo(),s=new WeakSet;let r=!1;const i=a.app={_uid:Qo++,_component:n,_props:o,_container:null,_context:a,_instance:null,version:Ds,get config(){return a.config},set config(e){Ht("app.config cannot be replaced. Modify individual options instead.")},use:(e,...t)=>(s.has(e)?Ht("Plugin has already been applied to target app."):e&&w(e.install)?(s.add(e),e.install(i,...t)):w(e)?(s.add(e),e(i,...t)):Ht('A plugin must either be a function or an object with an "install" function.'),i),mixin:e=>(Ht("Mixins are only available in builds supporting Options API"),i),component:(e,t)=>(Cs(e,a.config),t?(a.components[e]&&Ht('Component "'.concat(e,'" has already been registered in target app.')),a.components[e]=t,i):a.components[e]),directive:(e,t)=>(uo(e),t?(a.directives[e]&&Ht('Directive "'.concat(e,'" has already been registered in target app.')),a.directives[e]=t,i):a.directives[e]),mount(s,l,c){if(!r){s.__vue_app__&&Ht("There is already an app instance mounted on the host container.\n If you want to mount another app on the same host container, you need to unmount the previous app by calling `app.unmount()` first.");const u=as(n,o);return u.appContext=a,!0===c?c="svg":!1===c&&(c=void 0),a.reload=()=>{e(rs(u),s,c)},l&&t?t(u,s):e(u,s,c),r=!0,i._container=s,s.__vue_app__=i,i._instance=u.component,function(e,t){Pn("app:init",e,t,{Fragment:Ua,Text:Da,Comment:za,Static:Wa})}(i,Ds),Ms(u.component)||u.component.proxy}Ht("App has already been mounted.\nIf you want to remount the same app, move your app creation logic into a factory function and create fresh app instances for each mount - e.g. `const createMyApp = () => createApp(App)`")},unmount(){r?(e(null,i._container),i._instance=null,function(e){Pn("app:unmount",e)}(i),delete i._container.__vue_app__):Ht("Cannot unmount an app that is not mounted.")},provide:(e,t)=>(e in a.provides&&Ht('App already provides property with key "'.concat(String(e),'". It will be overwritten with the new value.')),a.provides[e]=t,i),runWithContext(e){Jo=i;try{return e()}finally{Jo=null}}};return i}}var Jo=null;function Xo(e,t,n,o=!1){const a={},s={};D(s,es,1),e.propsDefaults=Object.create(null),ea(e,t,a,s);for(const t in e.propsOptions[0])t in a||(a[t]=void 0);ia(t||{},a,e),n?e.props=o?a:Ct(a,!1,qe,ft,bt):e.type.props?e.props=a:e.props=s,e.attrs=s}function ea(e,t,n,o){const[a,s]=e.propsOptions;let i,l=!1;if(t)for(let r in t){if(R(r))continue;const c=t[r];let u;a&&m(a,u=L(r))?s&&s.includes(u)?(i||(i={}))[u]=c:n[u]=c:Dn(e.emitsOptions,r)||r in o&&c===o[r]||(o[r]=c,l=!0)}if(s){const t=Pt(n),o=i||r;for(let r=0;r<s.length;r++){const i=s[r];n[i]=ta(a,t,i,o[i],e,!m(o,i))}}return l}function ta(e,t,n,o,a,s){const r=e[n];if(null!=r){const e=m(r,"default");if(e&&void 0===o){const e=r.default;if(r.type!==Function&&!r.skipFactory&&w(e)){const{propsDefaults:s}=a;if(n in s)o=s[n];else{const r=ks(a);o=s[n]=e.call(null,t),r()}}else o=e}r[0]&&(s&&!e?o=!1:!r[1]||""!==o&&o!==I(n)||(o=!0))}return o}function na(e,t,n=!1){const o=t.propsCache,a=o.get(e);if(a)return a;const s=e.props,l={},c=[];let u=!1;if(!s&&!u)return _(e)&&o.set(e,i),i;if(g(s))for(let e=0;e<s.length;e++){k(s[e])||Ht("props must be strings when using array syntax.",s[e]);const t=L(s[e]);oa(t)&&(l[t]=r)}else if(s){_(s)||Ht("invalid props options",s);for(const e in s){const t=L(e);if(oa(t)){const n=s[e],o=l[t]=g(n)||w(n)?{type:n}:p({},n);if(o){const e=ra(Boolean,o.type),n=ra(String,o.type);o[0]=e>-1,o[1]=n<0||e<n,(e>-1||m(o,"default"))&&c.push(t)}}}}const d=[l,c];return _(e)&&o.set(e,d),d}function oa(e){return"$"!==e[0]||(Ht('Invalid prop name: "'.concat(e,'" is a reserved property.')),!1)}function aa(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:null===e?"null":""}function sa(e,t){return aa(e)===aa(t)}function ra(e,t){return g(t)?t.findIndex((t=>sa(t,e))):w(t)&&sa(t,e)?0:-1}function ia(e,t,n){const o=Pt(t),a=n.propsOptions[0];for(const t in a){let n=a[t];null!=n&&la(t,o[t],n,_t(o),!m(e,t)&&!m(e,I(t)))}}function la(e,t,n,o,a){const{type:s,required:r,validator:i,skipCheck:l}=n;if(r&&a)Ht('Missing required prop: "'+e+'"');else if(null!=t||r){if(null!=s&&!0!==s&&!l){let n=!1;const o=g(s)?s:[s],a=[];for(let e=0;e<o.length&&!n;e++){const{valid:s,expectedType:r}=ua(t,o[e]);a.push(r||""),n=s}if(!n)return void Ht(function(e,t,n){if(0===n.length)return'Prop type [] for prop "'.concat(e,"\" won't match anything. Did you mean to use type Array instead?");let o='Invalid prop: type check failed for prop "'.concat(e,'". Expected ').concat(n.map(F).join(" | "));const a=n[0],s=A(t),r=da(t,a),i=da(t,s);1===n.length&&pa(a)&&!function(...e){return e.some((e=>"boolean"===e.toLowerCase()))}(a,s)&&(o+=" with value ".concat(r));o+=", got ".concat(s," "),pa(s)&&(o+="with value ".concat(i,"."));return o}(e,t,a))}i&&!i(t,o)&&Ht('Invalid prop: custom validator check failed for prop "'+e+'".')}}var ca=a("String,Number,Boolean,Function,Symbol,BigInt");function ua(e,t){let n;const o=aa(t);if(ca(o)){const a=typeof e;n=a===o.toLowerCase(),n||"object"!==a||(n=e instanceof t)}else n="Object"===o?_(e):"Array"===o?g(e):"null"===o?null===e:e instanceof t;return{valid:n,expectedType:o}}function da(e,t){return"String"===t?'"'.concat(e,'"'):"".concat("Number"===t?Number(e):e)}function pa(e){return["string","number","boolean"].some((t=>e.toLowerCase()===t))}var fa=e=>"_"===e[0]||"$stable"===e,ha=e=>g(e)?e.map(ds):[ds(e)],ma=(e,t,n)=>{if(t._n)return t;const o=Gn(((...o)=>(!vs||n&&n.root!==vs.root||Ht('Slot "'.concat(e,'" invoked outside of the render function: this will not track dependencies used in the slot. Invoke the slot function inside the render function instead.')),ha(t(...o)))),n);return o._c=!1,o},ga=(e,t,n)=>{const o=e._ctx;for(const n in e){if(fa(n))continue;const a=e[n];if(w(a))t[n]=ma(n,a,o);else if(null!=a){Ht('Non-function value encountered for slot "'.concat(n,'". Prefer function slots for better performance.'));const e=ha(a);t[n]=()=>e}}},ya=(e,t)=>{No(e.vnode)||Ht("Non-function value encountered for default slot. Prefer function slots for better performance.");const n=ha(t);e.slots.default=()=>n},ba=(e,t)=>{if(32&e.vnode.shapeFlag){const n=t._;n?(e.slots=Pt(t),D(t,"_",n)):ga(t,e.slots={})}else e.slots={},t&&ya(e,t);D(e.slots,es,1)},va=(e,t,n)=>{const{vnode:o,slots:a}=e;let s=!0,i=r;if(32&o.shapeFlag){const o=t._;o?vn?(p(a,t),Ve(e,"set","$slots")):n&&1===o?s=!1:(p(a,t),n||1!==o||delete a._):(s=!t.$stable,ga(t,a)),i=t}else t&&(ya(e,t),i={default:1});if(s)for(const e in a)fa(e)||null!=i[e]||delete a[e]};function wa(e,t,n,o,a=!1){if(g(e))return void e.forEach(((e,s)=>wa(e,t&&(g(t)?t[s]:t),n,o,a)));if(Ao(o)&&!a)return;const s=4&o.shapeFlag?Ms(o.component)||o.component.proxy:o.el,i=a?null:s,{i:l,r:c}=e;if(!l)return void Ht("Missing ref owner context. ref cannot be used on hoisted vnodes. A vnode with ref must be created inside the render function.");const u=t&&t.r,d=l.refs===r?l.refs={}:l.refs,p=l.setupState;if(null!=u&&u!==c&&(k(u)?(d[u]=null,m(p,u)&&(p[u]=null)):It(u)&&(u.value=null)),w(c))Yt(c,l,12,[i,d]);else{const t=k(c),o=It(c),r=e.f;if(t||o){const l=()=>{if(r){const n=t?m(p,c)?p[c]:d[c]:c.value;a?g(n)&&f(n,s):g(n)?n.includes(s)||n.push(s):t?(d[c]=[s],m(p,c)&&(p[c]=d[c])):(c.value=[s],e.k&&(d[e.k]=c.value))}else t?(d[c]=i,m(p,c)&&(p[c]=i)):o?(c.value=i,e.k&&(d[e.k]=i)):Ht("Invalid template ref type:",c,"(".concat(typeof c,")"))};a||r?l():(l.id=-1,Ma(l,n))}else Ht("Invalid template ref type:",c,"(".concat(typeof c,")"))}}var ka,xa,_a=!1,Ca=e=>(e=>e.namespaceURI.includes("svg")&&"foreignObject"!==e.tagName)(e)?"svg":(e=>e.namespaceURI.includes("MathML"))(e)?"mathml":void 0,Sa=e=>8===e.nodeType;function Ea(e){const{mt:t,p:n,o:{patchProp:o,createText:a,nextSibling:s,parentNode:r,remove:i,insert:l,createComment:c}}=e,d=(n,o,i,c,u,v=!1)=>{const w=Sa(n)&&"["===n.data,k=()=>m(n,o,i,c,u,w),{type:x,ref:_,shapeFlag:C,patchFlag:S}=o;let E=n.nodeType;o.el=n,"__vnode"in n||Object.defineProperty(n,"__vnode",{value:o,enumerable:!1}),"__vueParentComponent"in n||Object.defineProperty(n,"__vueParentComponent",{value:i,enumerable:!1}),-2===S&&(v=!1,o.dynamicChildren=null);let A=null;switch(x){case Da:3!==E?""===o.children?(l(o.el=a(""),r(n),n),A=n):A=k():(n.data!==o.children&&(_a=!0,Ht("Hydration text mismatch in",n.parentNode,"\n  - rendered on server: ".concat(JSON.stringify(n.data),"\n  - expected on client: ").concat(JSON.stringify(o.children))),n.data=o.children),A=s(n));break;case za:b(n)?(A=s(n),y(o.el=n.content.firstChild,n,i)):A=8!==E||w?k():s(n);break;case Wa:if(w&&(E=(n=s(n)).nodeType),1===E||3===E){A=n;const e=!o.children.length;for(let t=0;t<o.staticCount;t++)e&&(o.children+=1===A.nodeType?A.outerHTML:A.data),t===o.staticCount-1&&(o.anchor=A),A=s(A);return w?s(A):A}k();break;case Ua:A=w?h(n,o,i,c,u,v):k();break;default:if(1&C)A=1===E&&o.type.toLowerCase()===n.tagName.toLowerCase()||b(n)?p(n,o,i,c,u,v):k();else if(6&C){o.slotScopeIds=u;const e=r(n);if(A=w?g(n):Sa(n)&&"teleport start"===n.data?g(n,n.data,"teleport end"):s(n),t(o,e,null,i,c,Ca(e),v),Ao(o)){let t;w?(t=as(Ua),t.anchor=A?A.previousSibling:e.lastChild):t=3===n.nodeType?ls(""):as("div"),t.el=n,o.component.subTree=t}}else 64&C?A=8!==E?k():o.type.hydrate(n,o,i,c,u,v,e,f):128&C?A=o.type.hydrate(n,o,i,c,Ca(r(n)),u,v,e,d):Ht("Invalid HostVNode type:",x,"(".concat(typeof x,")"))}return null!=_&&wa(_,null,c,o),A},p=(e,t,n,a,s,r)=>{r=r||!!t.dynamicChildren;const{type:l,props:c,patchFlag:d,shapeFlag:p,dirs:h,transition:m}=t,g="input"===l||"option"===l;{h&&fo(t,null,n,"created");let l,d=!1;if(b(e)){d=Fa(a,m)&&n&&n.vnode.props&&n.vnode.props.appear;const o=e.content.firstChild;d&&m.beforeEnter(o),y(o,e,n),t.el=e=o}if(16&p&&(!c||!c.innerHTML&&!c.textContent)){let o=f(e.firstChild,t,e,n,a,s,r),l=!1;for(;o;){_a=!0,l||(Ht("Hydration children mismatch on",e,"\nServer rendered element contains more child nodes than client vdom."),l=!0);const t=o;o=o.nextSibling,i(t)}}else 8&p&&e.textContent!==t.children&&(_a=!0,Ht("Hydration text content mismatch on",e,"\n  - rendered on server: ".concat(e.textContent,"\n  - expected on client: ").concat(t.children)),e.textContent=t.children);if(c)for(const a in c)Aa(e,a,c[a],t)&&(_a=!0),(g&&(a.endsWith("value")||"indeterminate"===a)||u(a)&&!R(a)||"."===a[0])&&o(e,a,null,c[a],void 0,void 0,n);(l=c&&c.onVnodeBeforeMount)&&hs(l,n,t),h&&fo(t,null,n,"beforeMount"),((l=c&&c.onVnodeMounted)||h||d)&&ao((()=>{l&&hs(l,n,t),d&&m.enter(e),h&&fo(t,null,n,"mounted")}),a)}return e.nextSibling},f=(e,t,o,a,s,r,i)=>{i=i||!!t.dynamicChildren;const l=t.children,c=l.length;let u=!1;for(let t=0;t<c;t++){const c=i?l[t]:l[t]=ds(l[t]);if(e)e=d(e,c,a,s,r,i);else{if(c.type===Da&&!c.children)continue;_a=!0,u||(Ht("Hydration children mismatch on",o,"\nServer rendered element contains fewer child nodes than client vdom."),u=!0),n(null,c,o,null,a,s,Ca(o),r)}}return e},h=(e,t,n,o,a,i)=>{const{slotScopeIds:u}=t;u&&(a=a?a.concat(u):u);const d=r(e),p=f(s(e),t,d,n,o,a,i);return p&&Sa(p)&&"]"===p.data?s(t.anchor=p):(_a=!0,l(t.anchor=c("]"),d,p),p)},m=(e,t,o,a,l,c)=>{if(_a=!0,Ht("Hydration node mismatch:\n- rendered on server:",e,3===e.nodeType?"(text)":Sa(e)&&"["===e.data?"(start of fragment)":"","\n- expected on client:",t.type),t.el=null,c){const t=g(e);for(;;){const n=s(e);if(!n||n===t)break;i(n)}}const u=s(e),d=r(e);return i(e),n(null,t,d,u,o,a,Ca(d),l),u},g=(e,t="[",n="]")=>{let o=0;for(;e;)if((e=s(e))&&Sa(e)&&(e.data===t&&o++,e.data===n)){if(0===o)return s(e);o--}return e},y=(e,t,n)=>{const o=t.parentNode;o&&o.replaceChild(e,t);let a=n;for(;a;)a.vnode.el===t&&(a.vnode.el=a.subTree.el=e),a=a.parent},b=e=>1===e.nodeType&&"template"===e.tagName.toLowerCase();return[(e,t)=>{if(!t.hasChildNodes())return Ht("Attempting to hydrate existing markup but container is empty. Performing full mount instead."),n(null,e,t),hn(),void(t._vnode=e);_a=!1,d(t.firstChild,e,null,null,null),hn(),t._vnode=e,_a&&console.error("Hydration completed but contains mismatches.")},d]}function Aa(e,t,n,o){let a,s,r,i;if("class"===t)r=e.getAttribute("class"),i=Q(n),function(e,t){if(e.size!==t.size)return!1;for(const n of e)if(!t.has(n))return!1;return!0}(Na(r||""),Na(i))||(a=s="class");else if("style"===t){r=e.getAttribute("style"),i=k(n)?n:function(e){let t="";if(!e||k(e))return t;for(const n in e){const o=e[n],a=n.startsWith("--")?n:I(n);(k(o)||"number"==typeof o)&&(t+="".concat(a,":").concat(o,";"))}return t}(H(n));const t=Pa(r),l=Pa(i);if(o.dirs)for(const{dir:e,value:t}of o.dirs)"show"!==e.name||t||l.set("display","none");(function(e,t){if(e.size!==t.size)return!1;for(const[n,o]of e)if(o!==t.get(n))return!1;return!0})(t,l)||(a=s="style")}else(e instanceof SVGElement&&se(t)||e instanceof HTMLElement&&(ne(t)||ae(t)))&&(ne(t)?(r=e.hasAttribute(t),i=oe(n)):null==n?(r=e.hasAttribute(t),i=!1):(r=e.hasAttribute(t)?e.getAttribute(t):"value"===t&&"TEXTAREA"===e.tagName&&e.value,i=!!function(e){if(null==e)return!1;const t=typeof e;return"string"===t||"number"===t||"boolean"===t}(n)&&String(n)),r!==i&&(a="attribute",s=t));if(a){const t=e=>!1===e?"(not rendered)":"".concat(s,'="').concat(e,'"');return Ht("Hydration ".concat(a," mismatch on"),e,"\n  - rendered on server: ".concat(t(r),"\n  - expected on client: ").concat(t(i),"\n  Note: this mismatch is check-only. The DOM will not be rectified in production due to performance overhead.\n  You should fix the source of the mismatch.")),!0}return!1}function Na(e){return new Set(e.trim().split(/\s+/))}function Pa(e){const t=new Map;for(const n of e.split(";")){let[e,o]=n.split(":");e=null==e?void 0:e.trim(),o=null==o?void 0:o.trim(),e&&o&&t.set(e,o)}return t}function Ra(e,t){e.appContext.config.performance&&Ta()&&xa.mark("vue-".concat(t,"-").concat(e.uid)),In(e,t,Ta()?xa.now():Date.now())}function Oa(e,t){if(e.appContext.config.performance&&Ta()){const n="vue-".concat(t,"-").concat(e.uid),o=n+":end";xa.mark(o),xa.measure("<".concat(Fs(e,e.type),"> ").concat(t),n,o),xa.clearMarks(n),xa.clearMarks(o)}Fn(e,t,Ta()?xa.now():Date.now())}function Ta(){return void 0!==ka||("undefined"!=typeof window&&window.performance?(ka=!0,xa=window.performance):ka=!1),ka}var Ma=ao;function La(e){return function(e,t){!function(){const e=[];if(e.length){const t=e.length>1;console.warn("Feature flag".concat(t?"s":""," ").concat(e.join(", ")," ").concat(t?"are":"is"," not explicitly defined. You are running the esm-bundler build of Vue, which expects these compile-time feature flags to be globally injected via the bundler config in order to get better tree-shaking in the production bundle.\n\nFor more details, see https://link.vuejs.org/feature-flags."))}}();const n=$();n.__VUE__=!0,Rn(n.__VUE_DEVTOOLS_GLOBAL_HOOK__,n);const{insert:o,remove:a,patchProp:s,createElement:c,createText:u,createComment:d,setText:p,setElementText:f,parentNode:h,nextSibling:y,setScopeId:b=l,insertStaticContent:v}=e,w=(e,t,n,o=null,a=null,s=null,r=void 0,i=null,l=!vn&&!!t.dynamicChildren)=>{if(e===t)return;e&&!Xa(e,t)&&(o=te(e),Q(e,a,s,!0),e=null),-2===t.patchFlag&&(l=!1,t.dynamicChildren=null);const{type:c,ref:u,shapeFlag:d}=t;switch(c){case Da:k(e,t,n,o);break;case za:x(e,t,n,o);break;case Wa:null==e?_(t,n,o,r):S(e,t,n,r);break;case Ua:B(e,t,n,o,a,s,r,i,l);break;default:1&d?N(e,t,n,o,a,s,r,i,l):6&d?j(e,t,n,o,a,s,r,i,l):64&d||128&d?c.process(e,t,n,o,a,s,r,i,l,ae):Ht("Invalid VNode type:",c,"(".concat(typeof c,")"))}null!=u&&a&&wa(u,e&&e.ref,s,t||e,!t)},k=(e,t,n,a)=>{if(null==e)o(t.el=u(t.children),n,a);else{const n=t.el=e.el;t.children!==e.children&&p(n,t.children)}},x=(e,t,n,a)=>{null==e?o(t.el=d(t.children||""),n,a):t.el=e.el},_=(e,t,n,o)=>{[e.el,e.anchor]=v(e.children,t,n,o,e.el,e.anchor)},S=(e,t,n,o)=>{if(t.children!==e.children){const a=y(e.anchor);A(e),[t.el,t.anchor]=v(t.children,n,a,o)}else t.el=e.el,t.anchor=e.anchor},E=({el:e,anchor:t},n,a)=>{let s;for(;e&&e!==t;)s=y(e),o(e,n,a),e=s;o(t,n,a)},A=({el:e,anchor:t})=>{let n;for(;e&&e!==t;)n=y(e),a(e),e=n;a(t)},N=(e,t,n,o,a,s,r,i,l)=>{"svg"===t.type?r="svg":"math"===t.type&&(r="mathml"),null==e?P(t,n,o,a,s,r,i,l):M(e,t,a,s,r,i,l)},P=(e,t,n,a,r,i,l,u)=>{let d,p;const{props:h,shapeFlag:m,transition:g,dirs:y}=e;if(d=e.el=c(e.type,i,h&&h.is,h),8&m?f(d,e.children):16&m&&T(e.children,d,null,a,r,Va(e,i),l,u),y&&fo(e,null,a,"created"),O(d,e,e.scopeId,l,a),h){for(const t in h)"value"===t||R(t)||s(d,t,null,h[t],i,e.children,a,r,ee);"value"in h&&s(d,"value",null,h.value,i),(p=h.onVnodeBeforeMount)&&hs(p,a,e)}Object.defineProperty(d,"__vnode",{value:e,enumerable:!1}),Object.defineProperty(d,"__vueParentComponent",{value:a,enumerable:!1}),y&&fo(e,null,a,"beforeMount");const b=Fa(r,g);b&&g.beforeEnter(d),o(d,t,n),((p=h&&h.onVnodeMounted)||b||y)&&Ma((()=>{p&&hs(p,a,e),b&&g.enter(d),y&&fo(e,null,a,"mounted")}),r)},O=(e,t,n,o,a)=>{if(n&&b(e,n),o)for(let t=0;t<o.length;t++)b(e,o[t]);if(a){let n=a.subTree;if(n.patchFlag>0&&2048&n.patchFlag&&(n=Jn(n.children)||n),t===n){const t=a.vnode;O(e,t,t.scopeId,t.slotScopeIds,a.parent)}}},T=(e,t,n,o,a,s,r,i,l=0)=>{for(let c=l;c<e.length;c++){const l=e[c]=i?ps(e[c]):ds(e[c]);w(null,l,t,n,o,a,s,r,i)}},M=(e,t,n,o,a,i,l)=>{const c=t.el=e.el;let{patchFlag:u,dynamicChildren:d,dirs:p}=t;u|=16&e.patchFlag;const h=e.props||r,m=t.props||r;let g;if(n&&Ia(n,!1),(g=m.onVnodeBeforeUpdate)&&hs(g,n,t,e),p&&fo(t,e,n,"beforeUpdate"),n&&Ia(n,!0),vn&&(u=0,l=!1,d=null),d?(V(e.dynamicChildren,d,c,n,o,Va(t,a),i),Ba(e,t)):l||q(e,t,c,null,n,o,Va(t,a),i,!1),u>0){if(16&u)F(c,t,h,m,n,o,a);else if(2&u&&h.class!==m.class&&s(c,"class",null,m.class,a),4&u&&s(c,"style",h.style,m.style,a),8&u){const r=t.dynamicProps;for(let t=0;t<r.length;t++){const i=r[t],l=h[i],u=m[i];u===l&&"value"!==i||s(c,i,l,u,a,e.children,n,o,ee)}}1&u&&e.children!==t.children&&f(c,t.children)}else l||null!=d||F(c,t,h,m,n,o,a);((g=m.onVnodeUpdated)||p)&&Ma((()=>{g&&hs(g,n,t,e),p&&fo(t,e,n,"updated")}),o)},V=(e,t,n,o,a,s,r)=>{for(let i=0;i<t.length;i++){const l=e[i],c=t[i],u=l.el&&(l.type===Ua||!Xa(l,c)||70&l.shapeFlag)?h(l.el):n;w(l,c,u,null,o,a,s,r,!0)}},F=(e,t,n,o,a,i,l)=>{if(n!==o){if(n!==r)for(const r in n)R(r)||r in o||s(e,r,n[r],null,l,t.children,a,i,ee);for(const r in o){if(R(r))continue;const c=o[r],u=n[r];c!==u&&"value"!==r&&s(e,r,u,c,l,t.children,a,i,ee)}"value"in o&&s(e,"value",n.value,o.value,l)}},B=(e,t,n,a,s,r,i,l,c)=>{const d=t.el=e?e.el:u(""),p=t.anchor=e?e.anchor:u("");let{patchFlag:f,dynamicChildren:h,slotScopeIds:m}=t;(vn||2048&f)&&(f=0,c=!1,h=null),m&&(l=l?l.concat(m):m),null==e?(o(d,n,a),o(p,n,a),T(t.children||[],n,p,s,r,i,l,c)):f>0&&64&f&&h&&e.dynamicChildren?(V(e.dynamicChildren,h,n,s,r,i,l),Ba(e,t)):q(e,t,n,p,s,r,i,l,c)},j=(e,t,n,o,a,s,r,i,l)=>{t.slotScopeIds=i,null==e?512&t.shapeFlag?a.ctx.activate(t,n,o,r,l):D(t,n,o,a,s,r,l):z(e,t,l)},D=(e,t,n,o,a,s,i)=>{const c=e.component=function(e,t,n){const o=e.type,a=(t?t.appContext:e.appContext)||ms,s={uid:gs++,vnode:e,type:o,parent:t,appContext:a,root:null,next:null,subTree:null,effect:null,update:null,scope:new he(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(a.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:na(o,a),emitsOptions:Un(o,a),emit:null,emitted:null,propsDefaults:r,inheritAttrs:o.inheritAttrs,ctx:r,data:r,props:r,attrs:r,slots:r,refs:r,setupState:r,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};s.ctx=function(e){const t={};return Object.defineProperty(t,"_",{configurable:!0,enumerable:!1,get:()=>e}),Object.keys(Io).forEach((n=>{Object.defineProperty(t,n,{configurable:!0,enumerable:!1,get:()=>Io[n](e),set:l})})),t}(s);s.root=t?t.root:s,s.emit=jn.bind(null,s),e.ce&&e.ce(s);return s}(e,o,a);if(c.type.__hmrId&&function(e){const t=e.type.__hmrId;let n=xn.get(t);n||(_n(t,e.type),n=xn.get(t)),n.instances.add(e)}(c),Wt(e),Ra(c,"mount"),No(e)&&(c.ctx.renderer=ae),Ra(c,"init"),function(e,t=!1){t&&bs(t);const{props:n,children:o}=e.vnode,a=Ss(e);Xo(e,n,a,t),ba(e,o);const s=a?function(e,t){var n;const o=e.type;if(o.name&&Cs(o.name,e.appContext.config),o.components){const t=Object.keys(o.components);for(let n=0;n<t.length;n++)Cs(t[n],e.appContext.config)}if(o.directives){const e=Object.keys(o.directives);for(let t=0;t<e.length;t++)uo(e[t])}o.compilerOptions&&Rs()&&Ht('"compilerOptions" is only supported when using a build of Vue that includes the runtime compiler. Since you are using a runtime-only build, the options should be passed via your build tool config instead.');e.accessCache=Object.create(null),e.proxy=Rt(new Proxy(e.ctx,jo)),function(e){const{ctx:t,propsOptions:[n]}=e;n&&Object.keys(n).forEach((n=>{Object.defineProperty(t,n,{enumerable:!0,configurable:!0,get:()=>e.props[n],set:l})}))}(e);const{setup:a}=o;if(a){const s=e.setupContext=a.length>1?function(e){const t=t=>{if(e.exposed&&Ht("expose() should be called only once per setup()."),null!=t){let e=typeof t;"object"===e&&(g(t)?e="array":It(t)&&(e="ref")),"object"!==e&&Ht("expose() should be passed a plain object, received ".concat(e,"."))}e.exposed=t||{}};return Object.freeze({get attrs(){return Ts(e)},get slots(){return function(e){return e.slotsProxy||(e.slotsProxy=new Proxy(e.slots,{get:(t,n)=>(Le(e,"get","$slots"),t[n])}))}(e)},get emit(){return(t,...n)=>e.emit(t,...n)},expose:t})}(e):null,r=ks(e);xe();const i=Yt(a,e,0,[_t(e.props),s]);if(_e(),r(),C(i)){if(i.then(xs,xs),t)return i.then((n=>{Ps(e,n,t)})).catch((t=>{Zt(t,e,0)}));if(e.asyncDep=i,!e.suspense){const e=null!=(n=o.name)?n:"Anonymous";Ht("Component <".concat(e,">: setup function returned a promise, but no <Suspense> boundary was found in the parent component tree. A component with async setup() must be nested in a <Suspense> in order to be rendered."))}}else Ps(e,i,t)}else Os(e,t)}(e,t):void 0;t&&bs(!1)}(c),Oa(c,"init"),c.asyncDep){if(a&&a.registerDep(c,W),!e.el){const e=c.subTree=as(za);x(null,e,t,n)}}else W(c,e,t,n,a,s,i);$t(),Oa(c,"mount")},z=(e,t,n)=>{const o=t.component=e.component;if(function(e,t,n){const{props:o,children:a,component:s}=e,{props:r,children:i,patchFlag:l}=t,c=s.emitsOptions;if((a||i)&&vn)return!0;if(t.dirs||t.transition)return!0;if(!(n&&l>=0))return!(!a&&!i||i&&i.$stable)||o!==r&&(o?!r||no(o,r,c):!!r);if(1024&l)return!0;if(16&l)return o?no(o,r,c):!!r;if(8&l){const e=t.dynamicProps;for(let t=0;t<e.length;t++){const n=e[t];if(r[n]!==o[n]&&!Dn(c,n))return!0}}return!1}(e,t,n)){if(o.asyncDep&&!o.asyncResolved)return Wt(t),H(o,t,n),void $t();o.next=t,function(e){const t=en.indexOf(e);t>tn&&en.splice(t,1)}(o.update),o.effect.dirty=!0,o.update()}else t.el=e.el,o.vnode=t},W=(e,t,n,o,a,s,r)=>{const i=()=>{if(e.isMounted){let{next:t,bu:n,u:o,parent:l,vnode:c}=e;{const n=ja(e);if(n)return t&&(t.el=c.el,H(e,t,r)),void n.asyncDep.then((()=>{e.isUnmounted||i()}))}let u,d=t;Wt(t||e.vnode),Ia(e,!1),t?(t.el=c.el,H(e,t,r)):t=c,n&&U(n),(u=t.props&&t.props.onVnodeBeforeUpdate)&&hs(u,l,t,c),Ia(e,!0),Ra(e,"render");const p=Qn(e);Oa(e,"render");const f=e.subTree;e.subTree=p,Ra(e,"patch"),w(f,p,h(f.el),te(f),e,a,s),Oa(e,"patch"),t.el=p.el,null===d&&function({vnode:e,parent:t},n){for(;t;){const o=t.subTree;if(o.suspense&&o.suspense.activeBranch===e&&(o.el=e.el),o!==e)break;(e=t.vnode).el=n,t=t.parent}}(e,p.el),o&&Ma(o,a),(u=t.props&&t.props.onVnodeUpdated)&&Ma((()=>hs(u,l,t,c)),a),Tn(e),$t()}else{let r;const{el:i,props:l}=t,{bm:c,m:u,parent:d}=e,p=Ao(t);if(Ia(e,!1),c&&U(c),!p&&(r=l&&l.onVnodeBeforeMount)&&hs(r,d,t),Ia(e,!0),i&&re){const n=()=>{Ra(e,"render"),e.subTree=Qn(e),Oa(e,"render"),Ra(e,"hydrate"),re(i,e.subTree,e,a,null),Oa(e,"hydrate")};p?t.type.__asyncLoader().then((()=>!e.isUnmounted&&n())):n()}else{Ra(e,"render");const r=e.subTree=Qn(e);Oa(e,"render"),Ra(e,"patch"),w(null,r,n,o,e,a,s),Oa(e,"patch"),t.el=r.el}if(u&&Ma(u,a),!p&&(r=l&&l.onVnodeMounted)){const e=t;Ma((()=>hs(r,d,e)),a)}(256&t.shapeFlag||d&&Ao(d.vnode)&&256&d.vnode.shapeFlag)&&e.a&&Ma(e.a,a),e.isMounted=!0,On(e),t=n=o=null}},c=e.effect=new me(i,l,(()=>un(u)),e.scope),u=e.update=()=>{c.dirty&&c.run()};u.id=e.uid,Ia(e,!0),c.onTrack=e.rtc?t=>U(e.rtc,t):void 0,c.onTrigger=e.rtg?t=>U(e.rtg,t):void 0,u.ownerInstance=e,u()},H=(e,t,n)=>{t.component=e;const o=e.vnode.props;e.vnode=t,e.next=null,function(e,t,n,o){const{props:a,attrs:s,vnode:{patchFlag:r}}=e,i=Pt(a),[l]=e.propsOptions;let c=!1;if(function(e){for(;e;){if(e.type.__hmrId)return!0;e=e.parent}}(e)||!(o||r>0)||16&r){let o;ea(e,t,a,s)&&(c=!0);for(const s in i)t&&(m(t,s)||(o=I(s))!==s&&m(t,o))||(l?!n||void 0===n[s]&&void 0===n[o]||(a[s]=ta(l,i,s,void 0,e,!0)):delete a[s]);if(s!==i)for(const e in s)t&&m(t,e)||(delete s[e],c=!0)}else if(8&r){const n=e.vnode.dynamicProps;for(let o=0;o<n.length;o++){let r=n[o];if(Dn(e.emitsOptions,r))continue;const u=t[r];if(l)if(m(s,r))u!==s[r]&&(s[r]=u,c=!0);else{const t=L(r);a[t]=ta(l,i,t,u,e,!1)}else u!==s[r]&&(s[r]=u,c=!0)}}c&&Ve(e,"set","$attrs"),ia(t||{},a,e)}(e,t.props,o,n),va(e,t.children,n),xe(),fn(e),_e()},q=(e,t,n,o,a,s,r,i,l=!1)=>{const c=e&&e.children,u=e?e.shapeFlag:0,d=t.children,{patchFlag:p,shapeFlag:h}=t;if(p>0){if(128&p)return void K(c,d,n,o,a,s,r,i,l);if(256&p)return void G(c,d,n,o,a,s,r,i,l)}8&h?(16&u&&ee(c,a,s),d!==c&&f(n,d)):16&u?16&h?K(c,d,n,o,a,s,r,i,l):ee(c,a,s,!0):(8&u&&f(n,""),16&h&&T(d,n,o,a,s,r,i,l))},G=(e,t,n,o,a,s,r,l,c)=>{t=t||i;const u=(e=e||i).length,d=t.length,p=Math.min(u,d);let f;for(f=0;f<p;f++){const o=t[f]=c?ps(t[f]):ds(t[f]);w(e[f],o,n,null,a,s,r,l,c)}u>d?ee(e,a,s,!0,!1,p):T(t,n,o,a,s,r,l,c,p)},K=(e,t,n,o,a,s,r,l,c)=>{let u=0;const d=t.length;let p=e.length-1,f=d-1;for(;u<=p&&u<=f;){const o=e[u],i=t[u]=c?ps(t[u]):ds(t[u]);if(!Xa(o,i))break;w(o,i,n,null,a,s,r,l,c),u++}for(;u<=p&&u<=f;){const o=e[p],i=t[f]=c?ps(t[f]):ds(t[f]);if(!Xa(o,i))break;w(o,i,n,null,a,s,r,l,c),p--,f--}if(u>p){if(u<=f){const e=f+1,i=e<d?t[e].el:o;for(;u<=f;)w(null,t[u]=c?ps(t[u]):ds(t[u]),n,i,a,s,r,l,c),u++}}else if(u>f)for(;u<=p;)Q(e[u],a,s,!0),u++;else{const h=u,m=u,g=new Map;for(u=m;u<=f;u++){const e=t[u]=c?ps(t[u]):ds(t[u]);null!=e.key&&(g.has(e.key)&&Ht("Duplicate keys found during update:",JSON.stringify(e.key),"Make sure keys are unique."),g.set(e.key,u))}let y,b=0;const v=f-m+1;let k=!1,x=0;const _=new Array(v);for(u=0;u<v;u++)_[u]=0;for(u=h;u<=p;u++){const o=e[u];if(b>=v){Q(o,a,s,!0);continue}let i;if(null!=o.key)i=g.get(o.key);else for(y=m;y<=f;y++)if(0===_[y-m]&&Xa(o,t[y])){i=y;break}void 0===i?Q(o,a,s,!0):(_[i-m]=u+1,i>=x?x=i:k=!0,w(o,t[i],n,null,a,s,r,l,c),b++)}const C=k?function(e){const t=e.slice(),n=[0];let o,a,s,r,i;const l=e.length;for(o=0;o<l;o++){const l=e[o];if(0!==l){if(a=n[n.length-1],e[a]<l){t[o]=a,n.push(o);continue}for(s=0,r=n.length-1;s<r;)i=s+r>>1,e[n[i]]<l?s=i+1:r=i;l<e[n[s]]&&(s>0&&(t[o]=n[s-1]),n[s]=o)}}s=n.length,r=n[s-1];for(;s-- >0;)n[s]=r,r=t[r];return n}(_):i;for(y=C.length-1,u=v-1;u>=0;u--){const e=m+u,i=t[e],p=e+1<d?t[e+1].el:o;0===_[u]?w(null,i,n,p,a,s,r,l,c):k&&(y<0||u!==C[y]?Y(i,n,p,2):y--)}}},Y=(e,t,n,a,s=null)=>{const{el:r,type:i,transition:l,children:c,shapeFlag:u}=e;if(6&u)return void Y(e.component.subTree,t,n,a);if(128&u)return void e.suspense.move(t,n,a);if(64&u)return void i.move(e,t,n,ae);if(i===Ua){o(r,t,n);for(let e=0;e<c.length;e++)Y(c[e],t,n,a);return void o(e.anchor,t,n)}if(i===Wa)return void E(e,t,n);if(2!==a&&1&u&&l)if(0===a)l.beforeEnter(r),o(r,t,n),Ma((()=>l.enter(r)),s);else{const{leave:e,delayLeave:a,afterLeave:s}=l,i=()=>o(r,t,n),c=()=>{e(r,(()=>{i(),s&&s()}))};a?a(r,i,c):c()}else o(r,t,n)},Q=(e,t,n,o=!1,a=!1)=>{const{type:s,props:r,ref:i,children:l,dynamicChildren:c,shapeFlag:u,patchFlag:d,dirs:p}=e;if(null!=i&&wa(i,null,n,e,!0),256&u)return void t.ctx.deactivate(e);const f=1&u&&p,h=!Ao(e);let m;if(h&&(m=r&&r.onVnodeBeforeUnmount)&&hs(m,t,e),6&u)X(e.component,n,o);else{if(128&u)return void e.suspense.unmount(n,o);f&&fo(e,null,t,"beforeUnmount"),64&u?e.type.remove(e,t,n,a,ae,o):c&&(s!==Ua||d>0&&64&d)?ee(c,t,n,!1,!0):(s===Ua&&384&d||!a&&16&u)&&ee(l,t,n),o&&Z(e)}(h&&(m=r&&r.onVnodeUnmounted)||f)&&Ma((()=>{m&&hs(m,t,e),f&&fo(e,null,t,"unmounted")}),n)},Z=e=>{const{type:t,el:n,anchor:o,transition:s}=e;if(t===Ua)return void(e.patchFlag>0&&2048&e.patchFlag&&s&&!s.persisted?e.children.forEach((e=>{e.type===za?a(e.el):Z(e)})):J(n,o));if(t===Wa)return void A(e);const r=()=>{a(n),s&&!s.persisted&&s.afterLeave&&s.afterLeave()};if(1&e.shapeFlag&&s&&!s.persisted){const{leave:t,delayLeave:o}=s,a=()=>t(n,r);o?o(e.el,r,a):a()}else r()},J=(e,t)=>{let n;for(;e!==t;)n=y(e),a(e),e=n;a(t)},X=(e,t,n)=>{e.type.__hmrId&&function(e){xn.get(e.type.__hmrId).instances.delete(e)}(e);const{bum:o,scope:a,update:s,subTree:r,um:i}=e;o&&U(o),a.stop(),s&&(s.active=!1,Q(r,e,t,n)),i&&Ma(i,t),Ma((()=>{e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve()),Ln(e)},ee=(e,t,n,o=!1,a=!1,s=0)=>{for(let r=s;r<e.length;r++)Q(e[r],t,n,o,a)},te=e=>6&e.shapeFlag?te(e.component.subTree):128&e.shapeFlag?e.suspense.next():y(e.anchor||e.el);let ne=!1;const oe=(e,t,n)=>{null==e?t._vnode&&Q(t._vnode,null,null,!0):w(t._vnode||null,e,t,null,null,null,n),ne||(ne=!0,fn(),hn(),ne=!1),t._vnode=e},ae={p:w,um:Q,m:Y,r:Z,mt:D,mc:T,pc:q,pbc:V,n:te,o:e};let se,re;t&&([se,re]=t(ae));return{render:oe,hydrate:se,createApp:Zo(oe,se)}}(e,Ea)}function Va({type:e,props:t},n){return"svg"===n&&"foreignObject"===e||"mathml"===n&&"annotation-xml"===e&&t&&t.encoding&&t.encoding.includes("html")?void 0:n}function Ia({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function Fa(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function Ba(e,t,n=!1){const o=e.children,a=t.children;if(g(o)&&g(a))for(let e=0;e<o.length;e++){const t=o[e];let s=a[e];1&s.shapeFlag&&!s.dynamicChildren&&((s.patchFlag<=0||32===s.patchFlag)&&(s=a[e]=ps(a[e]),s.el=t.el),n||Ba(t,s)),s.type===Da&&(s.el=t.el),s.type!==za||s.el||(s.el=t.el)}}function ja(e){const t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:ja(t)}var Ua=Symbol.for("v-fgt"),Da=Symbol.for("v-txt"),za=Symbol.for("v-cmt"),Wa=Symbol.for("v-stc"),$a=[],Ha=null;function qa(e=!1){$a.push(Ha=e?null:[])}var Ga=1;function Ka(e){Ga+=e}function Ya(e){return e.dynamicChildren=Ga>0?Ha||i:null,$a.pop(),Ha=$a[$a.length-1]||null,Ga>0&&Ha&&Ha.push(e),e}function Qa(e,t,n,o,a,s){return Ya(os(e,t,n,o,a,s,!0))}function Za(e,t,n,o,a){return Ya(as(e,t,n,o,a,!0))}function Ja(e){return!!e&&!0===e.__v_isVNode}function Xa(e,t){return 6&t.shapeFlag&&wn.has(t.type)?(e.shapeFlag&=-257,t.shapeFlag&=-513,!1):e.type===t.type&&e.key===t.key}var es="__vInternal",ts=({key:e})=>null!=e?e:null,ns=({ref:e,ref_key:t,ref_for:n})=>("number"==typeof e&&(e=""+e),null!=e?k(e)||It(e)||w(e)?{i:zn,r:e,k:t,f:!!n}:e:null);function os(e,t=null,n=null,o=0,a=null,s=(e===Ua?0:1),r=!1,i=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&ts(t),ref:t&&ns(t),scopeId:Wn,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:o,dynamicProps:a,dynamicChildren:null,appContext:null,ctx:zn};return i?(fs(l,n),128&s&&e.normalize(l)):n&&(l.shapeFlag|=k(n)?8:16),l.key!=l.key&&Ht("VNode created with invalid key (NaN). VNode type:",l.type),Ga>0&&!r&&Ha&&(l.patchFlag>0||6&s)&&32!==l.patchFlag&&Ha.push(l),l}var as=(...e)=>ss(...e);function ss(e,t=null,n=null,o=0,a=null,s=!1){if(e&&e!==oo||(e||Ht("Invalid vnode type when creating vnode: ".concat(e,".")),e=za),Ja(e)){const o=rs(e,t,!0);return n&&fs(o,n),Ga>0&&!s&&Ha&&(6&o.shapeFlag?Ha[Ha.indexOf(e)]=o:Ha.push(o)),o.patchFlag|=-2,o}if(Bs(e)&&(e=e.__vccOpts),t){t=function(e){return e?Nt(e)||es in e?p({},e):e:null}(t);let{class:e,style:n}=t;e&&!k(e)&&(t.class=Q(e)),_(n)&&(Nt(n)&&!g(n)&&(n=p({},n)),t.style=H(n))}const r=k(e)?1:(e=>e.__isSuspense)(e)?128:(e=>e.__isTeleport)(e)?64:_(e)?4:w(e)?2:0;return 4&r&&Nt(e)&&Ht("Vue received a Component that was made a reactive object. This can lead to unnecessary performance overhead and should be avoided by marking the component with `markRaw` or using `shallowRef` instead of `ref`.","\nComponent that was made reactive: ",e=Pt(e)),os(e,t,n,o,a,r,s,!0)}function rs(e,t,n=!1){const{props:o,ref:a,patchFlag:s,children:r}=e,i=t?function(...e){const t={};for(let n=0;n<e.length;n++){const o=e[n];for(const e in o)if("class"===e)t.class!==o.class&&(t.class=Q([t.class,o.class]));else if("style"===e)t.style=H([t.style,o.style]);else if(u(e)){const n=t[e],a=o[e];!a||n===a||g(n)&&n.includes(a)||(t[e]=n?[].concat(n,a):a)}else""!==e&&(t[e]=o[e])}return t}(o||{},t):o;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:i,key:i&&ts(i),ref:t&&t.ref?n&&a?g(a)?a.concat(ns(t)):[a,ns(t)]:ns(t):a,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:-1===s&&g(r)?r.map(is):r,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ua?-1===s?16:16|s:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&rs(e.ssContent),ssFallback:e.ssFallback&&rs(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function is(e){const t=rs(e);return g(e.children)&&(t.children=e.children.map(is)),t}function ls(e=" ",t=0){return as(Da,null,e,t)}function cs(e,t){const n=as(Wa,null,e);return n.staticCount=t,n}function us(e="",t=!1){return t?(qa(),Za(za,null,e)):as(za,null,e)}function ds(e){return null==e||"boolean"==typeof e?as(za):g(e)?as(Ua,null,e.slice()):"object"==typeof e?ps(e):as(Da,null,String(e))}function ps(e){return null===e.el&&-1!==e.patchFlag||e.memo?e:rs(e)}function fs(e,t){let n=0;const{shapeFlag:o}=e;if(null==t)t=null;else if(g(t))n=16;else if("object"==typeof t){if(65&o){const n=t.default;return void(n&&(n._c&&(n._d=!1),fs(e,n()),n._c&&(n._d=!0)))}{n=32;const o=t._;o||es in t?3===o&&zn&&(1===zn.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=zn}}else w(t)?(t={default:t,_ctx:zn},n=32):(t=String(t),64&o?(n=16,t=[ls(t)]):n=8);e.children=t,e.shapeFlag|=n}function hs(e,t,n,o=null){Qt(e,t,7,[n,o])}var ms=Yo(),gs=0;var ys,bs,vs=null,ws=()=>vs||zn;{const e=$(),t=(t,n)=>{let o;return(o=e[t])||(o=e[t]=[]),o.push(n),e=>{o.length>1?o.forEach((t=>t(e))):o[0](e)}};ys=t("__VUE_INSTANCE_SETTERS__",(e=>vs=e)),bs=t("__VUE_SSR_SETTERS__",(e=>Ns=e))}var ks=e=>{const t=vs;return ys(e),e.scope.on(),()=>{e.scope.off(),ys(t)}},xs=()=>{vs&&vs.scope.off(),ys(null)},_s=a("slot,component");function Cs(e,t){const n=t.isNativeTag||c;(_s(e)||n(e))&&Ht("Do not use built-in or reserved HTML elements as component id: "+e)}function Ss(e){return 4&e.vnode.shapeFlag}var Es,As,Ns=!1;function Ps(e,t,n){w(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:_(t)?(Ja(t)&&Ht("setup() should not return VNodes directly - return a render function instead."),e.devtoolsRawSetupState=t,e.setupState=Dt(t),function(e){const{ctx:t,setupState:n}=e;Object.keys(Pt(n)).forEach((e=>{if(!n.__isScriptSetup){if(Fo(e[0]))return void Ht("setup() return property ".concat(JSON.stringify(e),' should not start with "$" or "_" which are reserved prefixes for Vue internals.'));Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:()=>n[e],set:l})}}))}(e)):void 0!==t&&Ht("setup() should return an object. Received: ".concat(null===t?"null":typeof t)),Os(e,n)}var Rs=()=>!Es;function Os(e,t,n){const o=e.type;if(!e.render){if(!t&&Es&&!o.render){const t=o.template||Do(e).template;if(t){Ra(e,"compile");const{isCustomElement:n,compilerOptions:a}=e.appContext.config,{delimiters:s,compilerOptions:r}=o,i=p(p({isCustomElement:n,delimiters:s},a),r);o.render=Es(t,i),Oa(e,"compile")}}e.render=o.render||l,As&&As(e)}o.render||e.render!==l||t||(!Es&&o.template?Ht('Component provided template option but runtime compilation is not supported in this build of Vue. Configure your bundler to alias "vue" to "vue/dist/vue.esm-bundler.js".'):Ht("Component is missing template or render function."))}function Ts(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get:(t,n)=>(Yn(),Le(e,"get","$attrs"),t[n]),set:()=>(Ht("setupContext.attrs is readonly."),!1),deleteProperty:()=>(Ht("setupContext.attrs is readonly."),!1)}))}function Ms(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Dt(Rt(e.exposed)),{get:(t,n)=>n in t?t[n]:n in Io?Io[n](e):void 0,has:(e,t)=>t in e||t in Io}))}var Ls=/(?:^|[-_])(\w)/g,Vs=e=>e.replace(Ls,(e=>e.toUpperCase())).replace(/[-_]/g,"");function Is(e,t=!0){return w(e)?e.displayName||e.name:e.name||t&&e.__name}function Fs(e,t,n=!1){let o=Is(t);if(!o&&t.__file){const e=t.__file.match(/([^/\\]+)\.\w+$/);e&&(o=e[1])}if(!o&&e&&e.parent){const n=e=>{for(const n in e)if(e[n]===t)return n};o=n(e.components||e.parent.type.components)||n(e.appContext.components)}return o?Vs(o):n?"App":"Anonymous"}function Bs(e){return w(e)&&"__vccOpts"in e}var js=(e,t)=>function(e,t,n=!1){let o,a;const s=w(e);s?(o=e,a=()=>{console.warn("Write operation failed: computed value is readonly")}):(o=e.get,a=e.set);const r=new Mt(o,a,s||!a,n);return t&&!n&&(r.effect.onTrack=t.onTrack,r.effect.onTrigger=t.onTrigger),r}(e,t,Ns);function Us(e){return!(!e||!e.__v_isShallow)}var Ds="3.4.15",zs=Ht,Ws="undefined"!=typeof document?document:null,$s=Ws&&Ws.createElement("template"),Hs={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,o)=>{const a="svg"===t?Ws.createElementNS("http://www.w3.org/2000/svg",e):"mathml"===t?Ws.createElementNS("http://www.w3.org/1998/Math/MathML",e):Ws.createElement(e,n?{is:n}:void 0);return"select"===e&&o&&null!=o.multiple&&a.setAttribute("multiple",o.multiple),a},createText:e=>Ws.createTextNode(e),createComment:e=>Ws.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Ws.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,o,a,s){const r=n?n.previousSibling:t.lastChild;if(a&&(a===s||a.nextSibling))for(;t.insertBefore(a.cloneNode(!0),n),a!==s&&(a=a.nextSibling););else{$s.innerHTML="svg"===o?"<svg>".concat(e,"</svg>"):"mathml"===o?"<math>".concat(e,"</math>"):e;const a=$s.content;if("svg"===o||"mathml"===o){const e=a.firstChild;for(;e.firstChild;)a.appendChild(e.firstChild);a.removeChild(e)}t.insertBefore(a,n)}return[r?r.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},qs="transition",Gs="animation",Ks=Symbol("_vtc"),Ys=(e,{slots:t})=>function(e,t,n){const o=arguments.length;return 2===o?_(t)&&!g(t)?Ja(t)?as(e,null,[t]):as(e,t):as(e,null,t):(o>3?n=Array.prototype.slice.call(arguments,2):3===o&&Ja(n)&&(n=[n]),as(e,t,n))}(vo,Xs(e),t);Ys.displayName="Transition";var Qs={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},Zs=(Ys.props=p({},bo,Qs),(e,t=[])=>{g(e)?e.forEach((e=>e(...t))):e&&e(...t)}),Js=e=>!!e&&(g(e)?e.some((e=>e.length>1)):e.length>1);function Xs(e){const t={};for(const n in e)n in Qs||(t[n]=e[n]);if(!1===e.css)return t;const{name:n="v",type:o,duration:a,enterFromClass:s="".concat(n,"-enter-from"),enterActiveClass:r="".concat(n,"-enter-active"),enterToClass:i="".concat(n,"-enter-to"),appearFromClass:l=s,appearActiveClass:c=r,appearToClass:u=i,leaveFromClass:d="".concat(n,"-leave-from"),leaveActiveClass:f="".concat(n,"-leave-active"),leaveToClass:h="".concat(n,"-leave-to")}=e,m=function(e){if(null==e)return null;if(_(e))return[er(e.enter),er(e.leave)];{const t=er(e);return[t,t]}}(a),g=m&&m[0],y=m&&m[1],{onBeforeEnter:b,onEnter:v,onEnterCancelled:w,onLeave:k,onLeaveCancelled:x,onBeforeAppear:C=b,onAppear:S=v,onAppearCancelled:E=w}=t,A=(e,t,n)=>{nr(e,t?u:i),nr(e,t?c:r),n&&n()},N=(e,t)=>{e._isLeaving=!1,nr(e,d),nr(e,h),nr(e,f),t&&t()},P=e=>(t,n)=>{const a=e?S:v,r=()=>A(t,e,n);Zs(a,[t,r]),or((()=>{nr(t,e?l:s),tr(t,e?u:i),Js(a)||sr(t,o,g,r)}))};return p(t,{onBeforeEnter(e){Zs(b,[e]),tr(e,s),tr(e,r)},onBeforeAppear(e){Zs(C,[e]),tr(e,l),tr(e,c)},onEnter:P(!1),onAppear:P(!0),onLeave(e,t){e._isLeaving=!0;const n=()=>N(e,t);tr(e,d),cr(),tr(e,f),or((()=>{e._isLeaving&&(nr(e,d),tr(e,h),Js(k)||sr(e,o,y,n))})),Zs(k,[e,n])},onEnterCancelled(e){A(e,!1),Zs(w,[e])},onAppearCancelled(e){A(e,!0),Zs(E,[e])},onLeaveCancelled(e){N(e),Zs(x,[e])}})}function er(e){const t=W(e);return function(e,t){void 0!==e&&("number"!=typeof e?Ht("".concat(t," is not a valid number - got ").concat(JSON.stringify(e),".")):isNaN(e)&&Ht("".concat(t," is NaN - the duration expression might be incorrect.")))}(t,"<transition> explicit duration"),t}function tr(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.add(t))),(e[Ks]||(e[Ks]=new Set)).add(t)}function nr(e,t){t.split(/\s+/).forEach((t=>t&&e.classList.remove(t)));const n=e[Ks];n&&(n.delete(t),n.size||(e[Ks]=void 0))}function or(e){requestAnimationFrame((()=>{requestAnimationFrame(e)}))}var ar=0;function sr(e,t,n,o){const a=e._endId=++ar,s=()=>{a===e._endId&&o()};if(n)return setTimeout(s,n);const{type:r,timeout:i,propCount:l}=rr(e,t);if(!r)return o();const c=r+"end";let u=0;const d=()=>{e.removeEventListener(c,p),s()},p=t=>{t.target===e&&++u>=l&&d()};setTimeout((()=>{u<l&&d()}),i+1),e.addEventListener(c,p)}function rr(e,t){const n=window.getComputedStyle(e),o=e=>(n[e]||"").split(", "),a=o("".concat(qs,"Delay")),s=o("".concat(qs,"Duration")),r=ir(a,s),i=o("".concat(Gs,"Delay")),l=o("".concat(Gs,"Duration")),c=ir(i,l);let u=null,d=0,p=0;t===qs?r>0&&(u=qs,d=r,p=s.length):t===Gs?c>0&&(u=Gs,d=c,p=l.length):(d=Math.max(r,c),u=d>0?r>c?qs:Gs:null,p=u?u===qs?s.length:l.length:0);return{type:u,timeout:d,propCount:p,hasTransform:u===qs&&/\b(transform|all)(,|$)/.test(o("".concat(qs,"Property")).toString())}}function ir(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map(((t,n)=>lr(t)+lr(e[n]))))}function lr(e){return"auto"===e?0:1e3*Number(e.slice(0,-1).replace(",","."))}function cr(){return document.body.offsetHeight}var ur=Symbol("_vod"),dr={beforeMount(e,{value:t},{transition:n}){e[ur]="none"===e.style.display?"":e.style.display,n&&t?n.beforeEnter(e):pr(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:o}){!t!=!n&&(o?t?(o.beforeEnter(e),pr(e,!0),o.enter(e)):o.leave(e,(()=>{pr(e,!1)})):pr(e,t))},beforeUnmount(e,{value:t}){pr(e,t)}};function pr(e,t){e.style.display=t?e[ur]:"none"}dr.name="show";var fr=Symbol("CSS_VAR_TEXT");var hr=/[^\\];\s*$/,mr=/\s*!important$/;function gr(e,t,n){if(g(n))n.forEach((n=>gr(e,t,n)));else if(null==n&&(n=""),hr.test(n)&&zs("Unexpected semicolon at the end of '".concat(t,"' style value: '").concat(n,"'")),t.startsWith("--"))e.setProperty(t,n);else{const o=function(e,t){const n=br[t];if(n)return n;let o=L(t);if("filter"!==o&&o in e)return br[t]=o;o=F(o);for(let n=0;n<yr.length;n++){const a=yr[n]+o;if(a in e)return br[t]=a}return t}(e,t);mr.test(n)?e.setProperty(I(o),n.replace(mr,""),"important"):e[o]=n}}var yr=["Webkit","Moz","ms"],br={};var vr="http://www.w3.org/1999/xlink";function wr(e,t,n,o){e.addEventListener(t,n,o)}var kr=Symbol("_vei");function xr(e,t,n,o,a=null){const s=e[kr]||(e[kr]={}),r=s[t];if(o&&r)r.value=o;else{const[n,i]=function(e){let t;if(_r.test(e)){let n;for(t={};n=e.match(_r);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}const n=":"===e[2]?e.slice(3):I(e.slice(2));return[n,t]}(t);if(o){const r=s[t]=function(e,t){const n=e=>{if(e._vts){if(e._vts<=n.attached)return}else e._vts=Date.now();Qt(function(e,t){if(g(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map((e=>t=>!t._stopped&&e&&e(t)))}return t}(e,n.value),t,5,[e])};return n.value=e,n.attached=Er(),n}(o,a);wr(e,n,r,i)}else r&&(!function(e,t,n,o){e.removeEventListener(t,n,o)}(e,n,r,i),s[t]=void 0)}}var _r=/(?:Once|Passive|Capture)$/;var Cr=0,Sr=Promise.resolve(),Er=()=>Cr||(Sr.then((()=>Cr=0)),Cr=Date.now());var Ar=e=>111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123;Symbol("_moveCb"),Symbol("_enterCb");var Nr=e=>{const t=e.props["onUpdate:modelValue"]||!1;return g(t)?e=>U(t,e):t};function Pr(e){e.target.composing=!0}function Rr(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}var Or=Symbol("_assign"),Tr={created(e,{modifiers:{lazy:t,trim:n,number:o}},a){e[Or]=Nr(a);const s=o||a.props&&"number"===a.props.type;wr(e,t?"change":"input",(t=>{if(t.target.composing)return;let o=e.value;n&&(o=o.trim()),s&&(o=z(o)),e[Or](o)})),n&&wr(e,"change",(()=>{e.value=e.value.trim()})),t||(wr(e,"compositionstart",Pr),wr(e,"compositionend",Rr),wr(e,"change",Rr))},mounted(e,{value:t}){e.value=null==t?"":t},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:o,number:a}},s){if(e[Or]=Nr(s),e.composing)return;const r=null==t?"":t;if((a||"number"===e.type?z(e.value):e.value)!==r){if(document.activeElement===e&&"range"!==e.type){if(n)return;if(o&&e.value.trim()===r)return}e.value=r}}},Mr={deep:!0,created(e,t,n){e[Or]=Nr(n),wr(e,"change",(()=>{const t=e._modelValue,n=Fr(e),o=e.checked,a=e[Or];if(g(t)){const e=ie(t,n),s=-1!==e;if(o&&!s)a(t.concat(n));else if(!o&&s){const n=[...t];n.splice(e,1),a(n)}}else if(b(t)){const e=new Set(t);o?e.add(n):e.delete(n),a(e)}else a(Br(e,o))}))},mounted:Lr,beforeUpdate(e,t,n){e[Or]=Nr(n),Lr(e,t,n)}};function Lr(e,{value:t,oldValue:n},o){e._modelValue=t,g(t)?e.checked=ie(t,o.props.value)>-1:b(t)?e.checked=t.has(o.props.value):t!==n&&(e.checked=re(t,Br(e,!0)))}var Vr={deep:!0,created(e,{value:t,modifiers:{number:n}},o){const a=b(t);wr(e,"change",(()=>{const t=Array.prototype.filter.call(e.options,(e=>e.selected)).map((e=>n?z(Fr(e)):Fr(e)));e[Or](e.multiple?a?new Set(t):t:t[0]),e._assigning=!0,cn((()=>{e._assigning=!1}))})),e[Or]=Nr(o)},mounted(e,{value:t,oldValue:n,modifiers:{number:o}}){Ir(e,t,n,o)},beforeUpdate(e,t,n){e[Or]=Nr(n)},updated(e,{value:t,oldValue:n,modifiers:{number:o}}){e._assigning||Ir(e,t,n,o)}};function Ir(e,t,n,o){const a=e.multiple,s=g(t);if(!a||s||b(t)){if(!s||!re(t,n)){for(let n=0,r=e.options.length;n<r;n++){const r=e.options[n],i=Fr(r);if(a)if(s){const e=typeof i;r.selected="string"===e||"number"===e?t.includes(o?z(i):i):ie(t,i)>-1}else r.selected=t.has(i);else if(re(Fr(r),t))return void(e.selectedIndex!==n&&(e.selectedIndex=n))}a||-1===e.selectedIndex||(e.selectedIndex=-1)}}else zs("<select multiple v-model> expects an Array or Set value for its binding, but got ".concat(Object.prototype.toString.call(t).slice(8,-1),"."))}function Fr(e){return"_value"in e?e._value:e.value}function Br(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}var jr,Ur=p({patchProp:(e,t,n,o,a,s,r,i,l)=>{const c="svg"===a;"class"===t?function(e,t,n){const o=e[Ks];o&&(t=(t?[t,...o]:[...o]).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}(e,o,c):"style"===t?function(e,t,n){const o=e.style,a=o.display,s=k(n);if(n&&!s){if(t&&!k(t))for(const e in t)null==n[e]&&gr(o,e,"");for(const e in n)gr(o,e,n[e])}else if(s){if(t!==n){const e=o[fr];e&&(n+=";"+e),o.cssText=n}}else t&&e.removeAttribute("style");ur in e&&(o.display=a)}(e,n,o):u(t)?d(t)||xr(e,t,0,o,r):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):function(e,t,n,o){if(o)return"innerHTML"===t||"textContent"===t||!!(t in e&&Ar(t)&&w(n));if("spellcheck"===t||"draggable"===t||"translate"===t)return!1;if("form"===t)return!1;if("list"===t&&"INPUT"===e.tagName)return!1;if("type"===t&&"TEXTAREA"===e.tagName)return!1;if("width"===t||"height"===t){const t=e.tagName;if("IMG"===t||"VIDEO"===t||"CANVAS"===t||"SOURCE"===t)return!1}if(Ar(t)&&k(n))return!1;return t in e}(e,t,o,c))?function(e,t,n,o,a,s,r){if("innerHTML"===t||"textContent"===t)return o&&r(o,a,s),void(e[t]=null==n?"":n);const i=e.tagName;if("value"===t&&"PROGRESS"!==i&&!i.includes("-")){e._value=n;const o=null==n?"":n;return("OPTION"===i?e.getAttribute("value"):e.value)!==o&&(e.value=o),void(null==n&&e.removeAttribute(t))}let l=!1;if(""===n||null==n){const o=typeof e[t];"boolean"===o?n=oe(n):null==n&&"string"===o?(n="",l=!0):"number"===o&&(n=0,l=!0)}try{e[t]=n}catch(e){l||zs('Failed setting prop "'.concat(t,'" on <').concat(i.toLowerCase(),">: value ").concat(n," is invalid."),e)}l&&e.removeAttribute(t)}(e,t,o,s,r,i,l):("true-value"===t?e._trueValue=o:"false-value"===t&&(e._falseValue=o),function(e,t,n,o,a){if(o&&t.startsWith("xlink:"))null==n?e.removeAttributeNS(vr,t.slice(6,t.length)):e.setAttributeNS(vr,t,n);else{const o=te(t);null==n||o&&!oe(n)?e.removeAttribute(t):e.setAttribute(t,o?"":n)}}(e,t,o,c))}},Hs),Dr=!1;(function(){if("undefined"==typeof window)return;const e={style:"color:#3ba776"},t={style:"color:#1677ff"},n={style:"color:#f5222d"},o={style:"color:#eb2f96"},a={header:t=>_(t)?t.__isVue?["div",e,"VueInstance"]:It(t)?["div",{},["span",e,d(t)],"<",l(t.value),">"]:St(t)?["div",{},["span",e,Us(t)?"ShallowReactive":"Reactive"],"<",l(t),">".concat(Et(t)?" (readonly)":"")]:Et(t)?["div",{},["span",e,Us(t)?"ShallowReadonly":"Readonly"],"<",l(t),">"]:null:null,hasBody:e=>e&&e.__isVue,body(e){if(e&&e.__isVue)return["div",{},...s(e.$)]}};function s(e){const t=[];e.type.props&&e.props&&t.push(i("props",Pt(e.props))),e.setupState!==r&&t.push(i("setup",e.setupState)),e.data!==r&&t.push(i("data",Pt(e.data)));const n=c(e,"computed");n&&t.push(i("computed",n));const a=c(e,"inject");return a&&t.push(i("injected",a)),t.push(["div",{},["span",{style:o.style+";opacity:0.66"},"$ (internal): "],["object",{object:e}]]),t}function i(e,t){return t=p({},t),Object.keys(t).length?["div",{style:"line-height:1.25em;margin-bottom:0.6em"},["div",{style:"color:#476582"},e],["div",{style:"padding-left:1.25em"},...Object.keys(t).map((e=>["div",{},["span",o,e+": "],l(t[e],!1)]))]]:["span",{}]}function l(e,a=!0){return"number"==typeof e?["span",t,e]:"string"==typeof e?["span",n,JSON.stringify(e)]:"boolean"==typeof e?["span",o,e]:_(e)?["object",{object:a?Pt(e):e}]:["span",n,String(e)]}function c(e,t){const n=e.type;if(w(n))return;const o={};for(const a in e.ctx)u(n,a,t)&&(o[a]=e.ctx[a]);return o}function u(e,t,n){const o=e[n];return!!(g(o)&&o.includes(t)||_(o)&&t in o)||!(!e.extends||!u(e.extends,t,n))||!(!e.mixins||!e.mixins.some((e=>u(e,t,n))))||void 0}function d(e){return Us(e)?"ShallowRef":e.effect?"ComputedRef":"Ref"}window.devtoolsFormatters?window.devtoolsFormatters.push(a):window.devtoolsFormatters=[a]})();var zr={pattern:void 0,bg:void 0,exHigh:!0,border:"1",blackWhite:!1,knightOffset:.6,SN:!1,size:44,w:8,h:8,fullFEN:!1,coordinates:!1,set:"1echecs",collapse:!0},Wr=/^\d+(,\d+)*$/,$r=[26,32,38,44],Hr=["1echecs","alpha","goodCompanion","merida","skak"];function qr(e){return"string"!=typeof e?null:(e=e.replace(/\D/g,",").replace(/,+/g,",").replace(/^,/,"").replace(/,$/,"")).match(Wr)?e:null}var Gr=20;function Kr(e,t){const n=function(e){const t=e.split(",").map((e=>{const t=Number(e);return isNaN(t)?0:Math.abs(Math.floor(t))})),n=t.reduce(((e,t)=>e+t),0);return{array:t,size:n}}(e.border),o=e.coordinates?{x:Gr,y:Gr}:{x:0,y:0};!0===t&&(o.y=0),!1===t&&(o.x=0);return{w:e.w*e.size+2*n.size+o.x,h:e.h*e.size+2*n.size+o.y,border:n,offset:{x:n.size+o.x,y:n.size},margin:o}}var Yr=document.createElement("canvas"),Qr=document.getElementById("CN")||Yr,Zr=document.getElementById("SN")||Yr,Jr=document.getElementById("TP")||Yr,Xr=document.getElementById("CanvasGhost")||Yr,ei=document.getElementById("TemplateGhost")||Yr,ti=document.getElementById("FEN"),ni=document.getElementById("DB"),oi=document.getElementById("PV"),ai=navigator.clipboard,si="canShare"in navigator,ri=Math.min(2,Math.floor(devicePixelRatio));var ii=matchMedia("(hover: none), (pointer: coarse)").matches,li={isTop:top==self,thread:"undefined"!=typeof SharedArrayBuffer,canShare:si,canSharePng:function(){if(!si)return!1;const e=atob("iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNkYAAAAAYAAjCB0C8AAAAASUVORK5CYII"),t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);const n=new Blob([t]),o=new File([n],"1.png",{type:"image/png"});return navigator.canShare({files:[o]})}(),canCopy:ai&&"writeText"in ai,canPaste:ai&&"readText"in ai,canCopyImg:ai&&"write"in ai,isTouch:ii,isTaiwan:navigator.languages.includes("zh-TW")};function ci(e,t,n=!1){if(!(t instanceof Object))return e;const o=Object.keys(t);for(const a of o){if(n&&!(a in e))continue;const o=t[a];o instanceof Object?e[a]instanceof Object&&e[a]!=o?e[a]=ci(e[a],o,n):e[a]=ui(o):e[a]=o}return e}function ui(e){return ci(Array.isArray(e)?[]:{},e)}var di,pi="function"==typeof structuredClone?structuredClone:ui,fi="8/8/8/8/8/8/8/8",hi="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR",mi="[🇦-🇿]{2}|\\p{ExtPict}\\uFE0F?\\p{EMod}?(\\u200D\\p{ExtPict}\\uFE0F?\\p{EMod}?)*",gi="\\((!?)([kqbnrp])(\\d?)\\)",yi="'(".concat(mi,"|[^'])|''.."),bi="[-~]?(\\*\\d)?(".concat("[kqbnrpcxstadg]","|").concat(yi,")"),vi=RegExp("^(?:".concat(mi,")$"),"u"),wi=RegExp("^(?:".concat(gi,"|").concat(bi,")$"),"iu"),ki=RegExp("\\/|\\d+|".concat(gi,"|").concat(bi,"|."),"iug");function xi(e){const t=e.match(ki)||[],n=[0];let o=0;for(const e of t)"/"==e?n[++o]=0:e.match(/^\d+$/)?n[o]+=Number(e):n[o]++;const a=n.length;if(1==a)return;const s=n[0];for(const e of n)if(e!=s)return;return{w:s,h:a}}function _i(e,t=8,n=8){const o=e.match(ki)||[],a=[];let s=!1;for(const e of o){if("/"==e){if(!s){const e=a.length+t-a.length%t;for(;a.length<e;)a.push("")}}else if(e.match(/^\d+$/)){const t=Number(e);for(let e=0;e<t;e++)a.push("")}else a.push(e);if(s="/"!=e&&a.length%t==0,a.length==t*n)break}for(;a.length<t*n;)a.push("");return a}function Ci(e,t=8,n=8){let o=0,a="";function s(){o&&(a+=o),o=0}for(let r=0;r<n;r++){for(let n=0;n<t;n++){const i=r*t+n;""==e[i]?o++:(s(),a+=e[i])}s(),r<n-1&&(a+="/")}return a}function Si(e,t,n){if(!e.match(wi))if(e.match(vi))e="'"+e;else{const t=[...e].length;e=1==t&&"'"!=e?"'"+e:2==t?"''"+e:""}return(e=(e=e.replace(RegExp("^".concat(gi,"$"),"i"),((e,t,n,o)=>{let a=n;return o&&(a="*"+o+a),t&&(a="-"+a),a}))).replace(/^~/,"-").replace(/^-(?=.*')/,"")).startsWith("-")&&(e=e.toLowerCase()),e=Ai(e,t,n)}function Ei(e){const t=(e=Ai(e,!1,!0)).match(/^(-?)(?:\*(\d))?([kqbnrp])$/i);if(!t)return"";const n=Ai(t[3],!0);return t[1]||t[2]?"("+(t[1]?"!":"")+n+(t[2]||"")+")":n}function Ai(e,t,n){return e.match(/^-?(\*\d)?[sng]$/i)?(t?(n&&(e=e.replace("s","g").replace("S","G")),e=e.replace("n","s").replace("N","S")):(n&&(e=e.replace("s","n").replace("S","N")),e=e.replace("g","s").replace("G","S")),e):e}function Ni(e,t,n=8){return void 0===t&&(e=(e-(t=e%8))/8),String.fromCharCode(97+t)+(n-e)}function Pi(e,t=8){return{x:e.charCodeAt(0)-97,y:t-Number(e[1])}}function Ri(e,t=8,n=8){const{x:o,y:a}=Pi(e,n);return a*t+o}function Oi(e){return Array.from({length:e},(e=>""))}function Ti(e,t,n,o=8,a=8){const s=Oi(o*a);s.anime="";for(let r=0;r<a;r++)for(let i=0;i<o;i++){const l=i+t,c=r+n,u=0<=l&&l<o&&0<=c&&c<a;e[r*o+i]&&(s[c*o+l]=u?e[r*o+i]:"",s.anime+=Ni(r,i,a)+Ni(c,l,a))}return s}function Mi(e,t,n=8,o=8){const a=Oi(n*o);a.anime="";for(let s=0;s<o;s++)for(let r=0;r<n;r++){let i=r,l=s;if("-"==t&&(i=n-1-i),"|"!=t&&"/"!=t||(l=o-1-l),"/"==t||"\\"==t){const e=l-i;i+=e,l-=e}"/"==t&&(l=o-1-l),e[l*n+i]&&(a[s*n+r]=e[l*n+i],a.anime+=Ni(l,i,o)+Ni(s,r,o))}return a}function Li(e,t,n=8,o=8){const a=Oi(n*o);n==o&&(a.anime="");for(let s=0;s<n;s++)for(let r=0;r<o;r++){const i=1==t?s:2==t?o-1-r:n-1-s,l=1==t?o-1-r:2==t?n-1-s:r;e[l*n+i]&&(a[s*o+r]=e[l*n+i],n==o&&(a.anime+=Ni(l,i,o)+Ni(s,r,o)))}return a}function Vi(e,t){return e.map((e=>{if(""==e||e.startsWith("-"))return e;if(!t&&e.startsWith("'"))return e;const n=e.toLowerCase();return e=e==n?e.toUpperCase():n}))}function Ii(e,t="",n=""){return new RegExp(t+Fi(e)+n,"i")}function Fi(e){let t=4;return e.match(/^\d/)&&(t=Number(e[0]),e=e.substring(1)),e.length<=t?"\\b"+e+"\\b":"\\b"+e.substring(0,t)+Bi(e.substring(t))}function Bi(e){return""==e?"":String.raw(di||(di=o(["(?:","","|\b)"],["(?:","","|\\b)"])),e[0],Bi(e.substring(1)))}var ji,Ui,Di,zi,Wi="[a-h][1-8]",$i="(?:[0-9A-Z][0-9A-Z]|[A-Z])",Hi=String.raw(ji||(ji=o(["[[^]]+]"],["\\[[^\\]]+\\]"]))),qi=String.raw(Ui||(Ui=o(["(+)?[a-z]) (S[ S]+S)"],["(\\+)?[a-z]\\) (\\S[ \\S]+\\S)"]))),Gi="(?:[nwb])?r?".concat($i,"?(?<from>").concat(Wi,")[-*](?<to>").concat(Wi,")(?<ep> ep.)?(?<then>([-*]").concat(Wi,"(=[nwb]?").concat($i,")?)*)"),Ki="=(?<pc>[nwb])?(?<p>".concat($i,")"),Yi=["condition","2option","3stipulation","2sstipulation","3forsyth","2pieces","2twin"].map(Fi).join("|"),Qi=new RegExp(Yi,"ig"),Zi=String.raw(Di||(Di=o(["(?:(?<move>0-0(?:-0)?|",")(?:",")*(?:",")?(?:=(?<cc>[nwb]))?)(?:",")*"])),Gi,Hi,Ki,Hi),Ji=Zi.replace(/\?<[^>]+>/g,""),Xi=String.raw(zi||(zi=o(["(?<count>d+.(?:..)?)?(?<main>","(?:/",")*)(?: [+#=])?"],["(?<count>\\d+\\.(?:\\.\\.)?)?(?<main>","(?:\\/",")*)(?: [+#=])?"])),Ji,Ji);function el(e,t,n,o){return n=sl(n),"w"==o&&(n=n.toUpperCase()),"b"==o&&(n=n.toLowerCase()),"n"==o&&(n="-"+n.toLowerCase()),e[Ri(t)]=n,n}function tl(e,t,n,o){return o&&o.push(t+n),t=Ri(t),e[n=Ri(n)]=e[t],e[t]="",e[n]}var nl={"*2Q":"G","*2N":"N","*1N":"Z","*3N":"CA","*3B":"GI","*3Q":"LI","*1Q":"EQ","*2P":"BP","*1B":"AN","*1K":"PO","*2K":"ST","*3K":"DU","*2R":"WE","*3R":"PA",C:"I"},ol={"*1B":"25,37,AL,AN,BM,C,CT,DB,GN,GY,NH","*1K":"PO","*1N":"36,AO,BK,BN,DR,GR,KP,LS,MA,MS,OH,RK,S1,S2,S3,S4,SQ,SS,SW,UU,Z,ZE,ZH,ZR","*1P":"BS,CP,MP","*1Q":"EQ,HA,KH,L,LE,NE","*1R":"DA,DK,EK,GT,MH,RM,RO,RR,SH,WA","*2B":"15,AR,BH,BT,BU,BW,ND,PR","*2K":"ST","*2N":"N","*2P":"BP","*2Q":"G","*2R":"DG,EM,RA,RF,RH,RW,WE","*3B":"BE,BL,FE,GI,LO,OK,RB,VA","*3K":"DU","*3N":"24,35,AH,CA,DS,GH,MO,OA,SA","*3P":"O,SP","*3Q":"16,AM,EH,KA,LI,M,OR,SE,SI","*3R":"BR,CH,CR,EA,FA,PA,RE,RL,TR",A:"AG,B1,B2,B3,BI,BO,CG,CY,DO,ET,F,FR,G2,G3,GE,GF,GL,KL,KO,LB,LH,LN,LR,MG,ML,MM,NA,NL,NO,PP,QE,QF,QN,QQ,RN,RP,RT,SK,SO,TH,WR",C:"I",N:"S"},al={custom:()=>({}),default:{}};for(const e in ol)for(const t of ol[e].split(","))al.default[t]=e;function sl(e){const t=e.toUpperCase(),n=function(e,t){for(const n in e)if(e[n]==t)return n}(al.custom(),t)||al.default[t];return n?e==t?n:n.toLowerCase():e}var rl=new URL(location.href).searchParams,il={BBS:{Id:!0,coordinates:!0,notes:!0,uncoloredNotes:!1,redBlue:!1},DB:{use:"PDB",exact:!1},PLAY:{symbol:null,ep:!0,negative:!1,zero:!1},Stockfish:{study:!1,downloaded:!1,depth:50,lines:3},feature:{janko:!1},popeye:{pieceMap:nl},board:zr,project:[]},ll=kt(il);al.custom=()=>ll.popeye.pieceMap;var cl=matchMedia("(prefers-color-scheme: dark)");cl.onchange=()=>ul.isDark=cl.matches;var ul=kt({module:{chess:!1},envReady:!1,loading:!0,isDark:cl.matches,pieceCount:"(0+0)",hor:!1,collapse:!1,dragging:!1,selection:null,stockfish:{status:0,running:0},syzygy:{running:!1}}),dl={depth:0,score:null,mate:null,lines:[],header:[]},pl=kt({split:!1,tab:0,compute:"py",play:{initFEN:null,playing:!1,pendingPromotion:!1,moveNumber:-1,game:"",history:[],turn:"w",castle:{K:!0,Q:!0,k:!0,q:!0},retro:{uncapture:null,unpromote:!1},enPassant:"",halfMove:0,fullMove:1,mode:"normal"},popeye:{initFEN:null,index:null,steps:null,playing:!1,error:!1,running:!1,editMap:!1,mapping:"",input:"",output:"",intInput:null,intOutput:null},stockfish:dl,syzygy:{header:null,lines:null}}),fl=[];function hl(e){fl.push(e)}function ml(){localStorage.setItem("settings",JSON.stringify(ll))}function gl(){li.isTop&&sessionStorage.setItem("state",JSON.stringify(pl))}function yl(e,t,n){const{size:o,w:a}=ll.board,{border:s,margin:r}=Kr(ll.board,t),i=s.size,l=e?t?8:3:a,c=(e||Qr).clientWidth/(o*l+2*i+r.x);return{s:o*c,offset:{x:(i+r.x)*c,y:i*c,r:i*c,b:(i+r.y)*c},width:((n||a)*o+2*s.size+r.x)*c}}function bl(){return pl.play.playing||pl.popeye.playing}var vl=document.createElement("canvas"),wl=vl.getContext("2d"),kl=new Map;function xl(e,t){const n=e.set+e.size*t;return kl.get(n)}async function _l(e,t,n){const o=t.set+t.size*n;if(kl.has(o))return kl.get(o);const a=await async function(e,t,n){const{set:o,size:a}=t;e+="/x"+n;const[s,r]=await Promise.all([Cl("".concat(e,"/").concat(o).concat(a,".png")),Cl("".concat(e,"/symbol").concat(a,".png"))]);return vl.width=a*n*3,vl.height=a*n*12,wl.drawImage(s,0,0),wl.drawImage(r,0,a*n*6),vl.toDataURL()}(e,t,n),s=await Cl(a);return kl.set(o,s),s}function Cl(e){return new Promise(((t,n)=>{const o=new Image;o.onload=()=>t(o),o.onerror=n,o.src=e}))}var Sl=["k","q","b","n","r","p","c","x","s","t","a","d"],El=document.createElement("canvas"),Al=El.getContext("2d"),Nl=document.createElement("canvas"),Pl=Nl.getContext("2d"),Rl={26:"YdVh1QDVYdVh",32:"AAAKAAAAo/+jAAr/AP8KAKP/owAAAAoAAA==",38:"AAw+DAAM3P/cDD7/AP8+DNz/3AwADD4MAA==",44:"AC9yLwAv+f/5L3L/AP9yL/n/+S8AL3IvAA==",52:"A3i2eAN4////eLb/AP+2eP///3gDeLZ4Aw==",64:"AAAEHgQAAAA/5v/mPwAE5v///+YEHv//AP//HgTm////5gQAP+b/5j8AAAAEHgQAAA==",76:"AARZhFkEAAS7////uwRZ//////9ZhP//AP//hFn//////1kEu////7sEAARZhFkEAA==",88:"AEfE68RHAEf8/////EfE///////E6///AP//68T//////8RH/P////xHAEfE68RHAA=="};function Ol(e,t,n,o,a,s){const{w:r,h:i,border:l,offset:c,margin:u}=Kr(n,s),d=xl(n,o);e.canvas.width=r*o,e.canvas.height=i*o,e.save(),e.scale(o,o);const p="classic"==n.bg,f=a||p;e.translate(c.x,c.y);for(let a=0;a<n.h;a++)for(let s=0;s<n.w;s++)f||Ml(e,a,s,n),Tl(e,d,a,s,t[a*n.w+s],n,o);if(e.restore(),p&&!a){!function(e,t,n){const o=e.canvas;Nl.width=El.width=o.width,Nl.height=El.height=o.height,Al.drawImage(o,0,0),e.save(),e.fillStyle="white",e.fillRect(0,0,o.width,o.height),e.globalCompositeOperation="destination-in",e.drawImage(El,0,0),e.restore(),e.save();const a=function(e){if("string"==typeof Rl[e]){const t=atob(Rl[e]),n=[];for(let e=0;e<t.length;e++)n.push(t.charCodeAt(e));Rl[e]=n}return Rl[e]}(t*n),s=Math.sqrt(a.length),r=(s-1)/2;for(let t=0;t<s;t++)for(let n=0;n<s;n++){const i=a[n*s+t];0!=i&&(e.globalAlpha=i/255,Pl.drawImage(o,t-r,n-r))}e.restore()}(e,n.size,o),e.save(),e.scale(o,o),e.translate(c.x,c.y);for(let t=0;t<n.h;t++)for(let o=0;o<n.w;o++)Ml(e,t,o,n);e.restore(),e.drawImage(Nl,0,0),e.drawImage(Nl,0,0),e.drawImage(Nl,0,0),e.drawImage(El,0,0)}e.scale(o,o),void 0===s&&n.coordinates&&(e.save(),e.translate(c.x,c.y),function(e,t,n){const{size:o,w:a,h:s}=t;e.font="15px sans-serif",e.strokeStyle="black",e.lineWidth=2,e.fillStyle="white",e.lineJoin="round";for(let t=0;t<s;t++){const a=(t+1).toString(),r=e.measureText(a),i=o*(s-t)-(o-10)/2,l=(Gr-r.width)/2-Gr-n;e.strokeText(a,l,i),e.fillText(a,l,i)}for(let t=0;t<a&&t<26;t++){const a=String.fromCharCode(97+t),r=e.measureText(a),i=o*s+Gr+n-5,l=o*t+(o-r.width)/2;e.strokeText(a,l,i),e.fillText(a,l,i)}}(e,n,l.size),e.restore()),a||function(e,t,n,o,a){e.save(),e.translate(a.x,0),n-=a.x,o-=a.y;let s=0;for(let a=0;a<t.array.length;a++){const r=t.array[a];if(e.strokeStyle=a%2?"white":"black",0==r)continue;e.lineWidth=r;const i=t.size-s-r/2;e.strokeRect(i,i,n-2*i,o-2*i),s+=r}e.restore()}(e,l,r,i,u)}function Tl(e,t,n,o,a,s,r){void 0===a&&(a="");const{size:i}=s,l=a&&a.startsWith("-");l&&(a=a.substring(1));const c=a.match(/^\*(\d)/);let u=c&&c[1]||void 0;void 0!==u&&(a=a.substring(2)),u=Number(u)%4,s.SN&&(a=Ai(a,!1,!0));const d=a.toLowerCase(),p=Sl.indexOf(d),f=a.startsWith("'");if(p<0&&!f)return;e.save();const h=s.blackWhite,m=l?h?0:2:a==d?0:1,g=l&&h?"n"==d?s.knightOffset:.5:1,[y,b]=[u+1&2?1:0,2&u?1:0];if(e.translate((o+y)*i,(n+b)*i),0!==u&&e.rotate(Math.PI/2*u),f){!function(e,t,n){e.save();const o=vi.test(t),a=n-4;e.font="".concat(a,"px sans-serif");const s=n-2;let r=e.measureText(t);if(o&&r.width>s){const n=s/r.width;e.font="".concat(a*n,"px sans-serif"),r=e.measureText(t)}const i=function(e){return e.actualBoundingBoxAscent-e.actualBoundingBoxDescent}(o?e.measureText("M"):r),l=(n-Math.min(r.width,s))/2,c=Math.max((n-i)/2,0);e.fillStyle="black",e.fillText(t,l,n-c,s),e.restore()}(e,a.substring(a.startsWith("''")?2:1),i)}else e.drawImage(t,m*i*r,p*i*r,i*g*r,i*r,0,0,i*g,i),l&&h&&e.drawImage(t,(1+g)*i*r,p*i*r,i*(1-g)*r,i*r,i*g,0,i*(1-g),i);e.restore()}function Ml(e,t,n,o){const a=function(e,t,n){if("mono"==e)return 1;let o=(t+n)%2;return"inverted"!=e&&(o=1-o),o}(o.pattern,t,n),s=o.size;if(e.save(),e.translate(n*s,t*s),"classic"==o.bg){if(e.strokeStyle="black",e.lineWidth=s/60,e.fillStyle="#fff",e.fillRect(0,0,s,s),!a){e.beginPath();const t=s/7.5;for(let n=0;n<s;n+=t)e.moveTo(s-n,0),e.lineTo(0,s-n),n>0&&(e.moveTo(n,s),e.lineTo(s,n));e.stroke()}}else e.fillStyle=function(e,t){return"classic"==t?"none":"gray"==t?e?"#fff":"#bbb":"green"==t?e?"#EEEED2":"#769656":e?"#FFCE9E":"#D18B47"}(a,o.bg),e.fillRect(0,0,s,s);e.restore()}var Ll,Vl={};function Il(e,t,n,o){return Fl(),(Ll=new Bl(e,t,n,o)).promise}function Fl(e){Ll&&Ll.stop(e?Vl.callback:void 0)}var Bl=class{constructor(e,t,n,o){var a;this.after=o?e:t,this.reverse=o,this.promise=new Promise((e=>this.resolve=e)),this.cursor=-1,this.stages=[];const s=n.split(","),r=_i(e),{h:i,w:l}=Vl.options;for(const e of s){const t=[],n=e.match(/[`a-z]\d(=(\*\d)?[A-Z])?/g);for(let e=0;e<n.length;e+=2){let o=n[e],s=n[e+1];const c=Ri(o,l,i),u={p:r[c],promo:null==(a=s.match(/=(.+)$/))?void 0:a[1],from:Pi(o,i),to:Pi(s,i)};r[c]="",t.push(u)}this.stages.push({board:r.concat(),moves:t});for(const e of t)r[e.to.y*l+e.to.x]=e.promo||e.p}this.background=void 0,this.anime=this.step.bind(this),this.request=requestAnimationFrame(this.anime)}stop(e){cancelAnimationFrame(this.request),Ll=void 0,e&&e(this.after),this.resolve()}step(e){const{ctx:t,options:n,callback:o}=Vl;this.startTime||(this.startTime=e);const a=(e-this.startTime)/150,s=Math.floor(a);if(s>=this.stages.length)return this.stop(o);const r=this.reverse?this.stages.length-1-s:s;s>this.cursor?(this.cursor=s,Ol(t,this.stages[r].board,n,ri),this.background=t.getImageData(0,0,t.canvas.width,t.canvas.height)):t.putImageData(this.background,0,0);const i=Kr(n);t.save(),t.translate(i.offset.x,i.offset.y);const l=xl(n,ri);let c=a-Math.floor(a);this.reverse&&(c=1-c);for(const e of this.stages[r].moves){const o=e.from.x*(1-c)+e.to.x*c;Tl(t,l,e.from.y*(1-c)+e.to.y*c,o,e.p,n,ri)}t.restore(),this.request=requestAnimationFrame(this.anime)}},jl="k,K,-k,q,Q,-q,b,B,-b,n,N,-n,r,R,-r,p,P,-p,c,C,-c,x,X,-x".split(","),Ul="k,q,b,n,r,p,c,x,K,Q,B,N,R,P,C,X,-k,-q,-b,-n,-r,-p,-c,-x".split(",");function Dl(){return ll.board.exHigh?2:1}async function zl(){ul.loading=!0;const e=[_l("assets",ll.board,ri)],t=Dl();ri!=t&&e.push(_l("assets",ll.board,t)),await Promise.all(e),ul.loading=!1}var Wl=Qr.getContext("2d"),$l=Xr.getContext("2d"),Hl=Jr.getContext("2d"),ql=ei.getContext("2d"),Gl=document.createElement("canvas"),Kl=Gl.getContext("2d"),Yl={except:void 0,data:void 0};function Ql(e){e?Yl.except=e:e=Yl.except;const t=Object.assign({},ll.board,ul.hor?{w:8,h:3}:{w:3,h:8}),n=function(){let e=ul.hor?Ul:jl;pl.play.playing&&"retro"==pl.play.mode&&(e=e.concat(),ul.hor?(e[6]="p",e[14]="P"):(e[18]="p",e[19]="P"));return e}();Ol(Hl,n,t,ri,!1,ul.hor);const{size:o}=ll.board;if(bl()){const t="retro"==pl.play.mode;Hl.save();const{offset:n}=Kr(ll.board,ul.hor);Hl.translate(n.x,n.y),t&&(Hl.save(),Hl.font="".concat(o/2,"px sans-serif"),Hl.strokeStyle="black",Hl.lineWidth=o/12,Hl.fillStyle="white",Hl.lineJoin="round",Zl(1,7),Zl(2,7),Hl.restore()),Hl.save(),Hl.globalAlpha=ul.isDark?.5:.4,Hl.fillStyle="black";for(let t=0;t<3;t++)for(let n=0;n<8;n++){if(null==e?void 0:e.includes(3*n+t))continue;const[a,s]=ul.hor?[n,t]:[t,n];Hl.fillRect(a*o,s*o,o,o)}if(Hl.restore(),t){Hl.save();const t=pl.play.retro,n=3==e[0]?0:1;Hl.lineWidth=o/12,Hl.strokeStyle="#0d6efd",t.uncapture&&Jl(n,Sl.indexOf(t.uncapture)),t.unpromote&&Jl(1-n,5),Hl.restore()}Hl.restore()}else if(Ol(ql,n,t,ri,!0,ul.hor),ul.selection){Hl.save();const{offset:e}=Kr(ll.board,ul.hor);Hl.lineWidth=o/12,Hl.strokeStyle="#0d6efd",Hl.translate(e.x,e.y);const t=jl.indexOf(ul.selection),n=t%3;Jl(n,(t-n)/3),Hl.restore()}}function Zl(e,t){const{size:n}=ll.board,o=n/15;ul.hor&&([e,t]=[t,e]);const a=Hl.measureText("ep"),s=a.width,r=a.actualBoundingBoxDescent;Hl.strokeText("ep",e*n-s-o,t*n-r-o),Hl.fillText("ep",e*n-s-o,t*n-r-o)}function Jl(e,t){const{size:n}=ll.board,o=n/8;ul.hor&&([e,t]=[t,e]);const a=.5,s=(...s)=>{Hl.moveTo(e*n+o*(s[0][0]+a),t*n+o*(s[0][1]+a));for(let r=1;r<s.length;r++)Hl.lineTo(e*n+o*(s[r][0]+a),t*n+o*(s[r][1]+a))};Hl.beginPath(),s([0,2],[0,0],[2,0]),s([5,0],[7,0],[7,2]),s([7,5],[7,7],[5,7]),s([0,5],[0,7],[2,7]),Hl.stroke()}async function Xl(e){e?Yl.data=e:e=Yl.data||Tc();const t=ll.board;if(Ol(Wl,e,t,ri),Ol(Kl,e,t,Dl()),function(e){let t=0,n=0,o=0,a=0;for(const s of e)""!=s&&(s.startsWith("'")?a++:s.startsWith("-")?o++:s==s.toUpperCase()?t++:n++);ul.pieceCount="(".concat(t,"+").concat(n).concat(o>0?"+"+o:"").concat(a>0?"+"+a:"",")")}(e),ul.dragging||(Ol($l,e,t,ri,!0),Oc()),location.protocol.startsWith("http")){const e=document.getElementById("Save");e.href&&URL.revokeObjectURL(e.href),oi.src=e.href=URL.createObjectURL(await tc())}}function ec(e){const{w:t,h:n}=ll.board;Ol(e,Oi(t*n),ll.board,ri)}function tc(){return new Promise((e=>Gl.toBlob(e)))}function nc(){ec(SN.getContext("2d")),oc()}function oc(){Xl(),Ql()}async function ac(){await zl(),Xl()}Vl.ctx=Wl,addEventListener("storage",(e=>{if(e.storageArea==localStorage&&"settings"==e.key){const e=JSON.parse(localStorage.getItem("settings"));ci(ll,e,!0),cc({},!0)}}));var sc=document.getElementById("Zone"),rc=document.getElementById("DragZone"),ic=document.getElementById("EditZone");function lc(){return document.body.clientWidth/(pl.split?2:1)}async function cc(e,t){const n=ll.board,o={};for(const t in n)o[t]=void 0!==e[t]&&e[t]!==n[t],o[t]?n[t]=e[t]:e[t]=n[t];const{border:a,margin:s,w:r,h:i}=Kr(e),l=pc(),c=lc()<(e.w+3)*e.size+s.x+4*a.size+4.2*l;o.mode=c!==ul.hor,ul.hor=c;const u=o.w||o.h;(u||t)&&function(){const{w:e,h:t}=ll.board,n=e*t;wc.style.gridTemplateColumns="repeat(".concat(e,", 1fr)"),wc.style.gridTemplateRows="repeat(".concat(t,", 1fr)");for(let e=0;e<n||e<vc.length;e++){if(!vc[e]){const t=document.createElement("input");vc[e]=t,t.type="text",t.oninput=Ec,t.onchange=Sc,t.onfocus=_c,t.onblur=Cc,t.classList.add("square"),wc.appendChild(t)}vc[e].style.display=e<n?"block":"none"}}();const d=t||o.set||o.size,p=d||o.border,f=p||u,h=p||o.mode;if(h){let t=(3*e.size+2*a.size)*ri,n=(8*e.size+2*a.size)*ri;ul.hor?([t,n]=[n+s.x*ri,t],Qr.parentNode.classList.add("mb-3"),Jr.classList.remove("ms-4")):(n+=s.y*ri,Qr.parentNode.classList.remove("mb-3"),Jr.classList.add("ms-4")),Jr.width===t&&Jr.height===n||(ei.width=Jr.width=t,ei.height=Jr.height=n)}if(f){const e=r*ri,t=i*ri;Qr.width===e&&Qr.height===t||(Zr.width=Xr.width=Qr.width=e,Zr.height=Xr.height=Qr.height=t),ec(Zr.getContext("2d"))}dc(),d&&await zl(),f&&Xl(),h&&Ql(),cn(dc)}function uc(e){const{w:t,h:n}=ll.board,o=Tc();cc(e),function(e,t,n){const{w:o,h:a}=ll.board;for(let s=0;s<a;s++)for(let a=0;a<o;a++){const r=vc[s*o+a];r.value=s<n&&a<t?e[s*t+a]:""}Lc()}(o,t,n)}function dc(){sc.style.maxWidth="calc(".concat(lc(),"px + 1rem)"),Qr.style.width=Qr.width/ri+"px",Jr.style.width=Jr.width/ri+"px";const{w:e}=ll.board,t=yl(void 0,void 0,8);if(ul.hor)if(e>8)Jr.style.width=t.width+"px";else if(e<8){const{width:t}=yl(Jr,!0,e);Qr.style.width=t+"px"}wc.style.borderWidth="".concat(t.offset.y,"px ").concat(t.offset.r,"px ").concat(t.offset.b,"px ").concat(t.offset.x,"px");const n=pc();ll.board.collapse?(sc.style.width="120%",sc.style.width=rc.clientWidth+4*n+"px"):sc.style.width="unset",Xr.style.width=Qr.clientWidth+"px",Xr.style.height=Qr.clientHeight+"px",ei.style.width=Jr.clientWidth+"px",ei.style.height=Jr.clientHeight+"px",function(e){wc.style.width=CN.clientWidth+"px",wc.style.height=CN.clientHeight+"px";for(const t of vc)t.style.fontSize=e-10+"px",t.style.lineHeight=e-10+"px"}(t.s),sc.clientWidth<rc.clientWidth+Qr.clientWidth+6*n?(ic.style.marginTop=-rc.clientHeight+"px",ic.style.width=rc.clientWidth+"px",ic.style.textAlign=ul.hor?"center":"start",sc.classList.add("collapse"),ul.collapse=!0):(ic.style.marginTop="0",ic.style.width="unset",ic.style.textAlign="unset",sc.classList.remove("collapse"),ul.collapse=!1)}function pc(){return parseFloat(getComputedStyle(document.documentElement).fontSize)}if(li.isTop)window.resizeIframe=function(){const e=document.getElementsByTagName("iframe")[0];e&&(e.style.minHeight=e.contentDocument.body.scrollHeight+"px")};else{if("undefined"!=typeof ResizeObserver){new ResizeObserver((e=>parent.resizeIframe())).observe(document.body)}else{new MutationObserver((e=>parent.resizeIframe())).observe(document.body,{childList:!0})}parent.resizeIframe()}var fc={setOption:cc,setDimension:uc,setBorder(e){const t=qr(e.value);t?(e.value=t,cc({border:t})):e.value=ll.board.border},get height(){return ll.board.h},set height(e){uc({h:e})},get width(){return ll.board.w},set width(e){uc({w:e})}};async function hc(){if(li.canCopyImg){const e=await tc();return navigator.clipboard.write([new ClipboardItem({"image/png":e})])}throw alert('Image copying is not enabled in your browser.\nIf you\'re using Firefox, this can be enabled by the following.\n1. Visit "about:config" in your address bar.\n2. Search for "dom.events.asyncClipboard.clipboardItem".\n3. Toggle its value to true.\n4. Reload this tool.'),!0}async function mc(){if(li.canPaste)return await navigator.clipboard.readText();throw alert('Pasting text is not enabled in your browser.\nIf you\'re using Firefox on desktops or Firefox Nightly on Android, this can be enabled by the following.\n1. Visit "about:config" in your address bar.\n2. Search for "dom.events.asyncClipboard.readText".\n3. Toggle its value to true.\n4. Reload this tool.'),!0}window.Layout=fc;var gc,yc,bc,vc=new Array(64),wc=document.getElementById("Squares"),kc={};function xc(e){var t;null==(t=kc.draw)||t.call(kc,e)}function _c(){if(this.style.zIndex="10",ul.collapse){const e=Tc();e[vc.indexOf(this)]="",xc(e)}this.select()}function Cc(){this.style.zIndex="unset",Ac(this)?Lc():ul.collapse&&xc(Tc())}function Sc(){Ac(this),ul.collapse&&this.blur(),Lc()}function Ec(){if(!ul.collapse){const e=Tc();e[vc.indexOf(this)]=Si(this.value,ll.board.SN),xc(e)}}function Ac(e,t){let n=Si(e.value,ll.board.SN,t);const o=n!==e.value;return e.value=n,o}function Nc(e,t){const n=e.value!==t;e.value=t,Ac(e),n&&Lc()}function Pc(e,t){const n=Rc(e);ti.value=n[0]+(ll.board.fullFEN?Fc():""),Bc(t)}function Rc(e){const t=e.split(" ");if(t[1]&&t[1].match(/^[wb]$/)&&(pl.play.turn=t[1]),t[2]&&t[2].match(/^(-|[kq]+)$/i))for(const e in pl.play.castle)pl.play.castle[e]=t[2].includes(e);return t[3]&&t[3].match(/^[a-h][36]$/)&&(pl.play.enPassant=t[3]),t[4]&&t[4].match(/^\d+$/)&&(pl.play.halfMove=Number(t[4])),t[5]&&t[5].match(/^\d+$/)&&(pl.play.fullMove=Number(t[5])),t}function Oc(){const e=new URL(location.href).searchParams.get("fen")||fi,t=ti.value.split(" ")[0],n=t==fi?"":"?fen="+encodeURIComponent(t);t!==e&&history.pushState(null,"",n||".")}function Tc(){const{w:e,h:t}=ll.board,n=e*t;return vc.slice(0,n).map((e=>e.value))}function Mc(){return Tc().map((e=>Ai(e,!1,!0)))}function Lc(){xc(Vc())}function Vc(){const{w:e,h:t,fullFEN:n}=ll.board,o=Tc();return ti.value=Ci(o,e,t)+(n?Fc():""),o}function Ic(){const e=function(){const{w:e,h:t}=ll.board;if(8!=e||8!=t)return null;const n=Mc();for(const e of n)if(""!=e&&!e.match(/^[kqbsnrp]$/i))return null;return Ci(n,8,8)}();return e?e+Fc(!0):null}function Fc(e){const t=pl.play;t.enPassant.match(/^[a-h][36]$/)||(t.enPassant=""),e&&t.pass&&t.enPassant&&"3"==t.enPassant[1]!=("b"==t.turn)&&(t.turn="b"==t.turn?"w":"b");const n="retro"==t.mode;e&&((n||!Number.isSafeInteger(t.halfMove)||t.halfMove<0)&&(t.halfMove=0),(n||!Number.isSafeInteger(t.fullMove)||t.fullMove<1)&&(t.fullMove=1));const o=n?"-":function(e){const t=Tc();let n="";const o=pl.play.castle;e?("K"==t[60]&&(o.K&&"R"==t[63]&&(n+="K"),o.Q&&"R"==t[56]&&(n+="Q")),"k"==t[4]&&(o.k&&"r"==t[7]&&(n+="k"),o.q&&"r"==t[0]&&(n+="q"))):(o.K&&(n+="K"),o.Q&&(n+="Q"),o.k&&(n+="k"),o.q&&(n+="q"));return""==n?"-":n}(e),a=n?"-":t.enPassant||"-";return" ".concat(t.turn," ").concat(o," ").concat(a," ").concat(t.halfMove," ").concat(t.fullMove)}function Bc(e){jc(ti.value);const t=xi(ti.value),{w:n,h:o}=t||ll.board,a=_i(ti.value,n,o);cc({w:n,h:o});let s=!1;for(let e=0;e<n*o;e++)vc[e].value=a[e],s=Ac(vc[e])||s;s||e||!t?Lc():xc(Tc())}function jc(e){const t=pl.play,n=e.split(" ");if(1!=n.length){if("w"!=n[1]&&"b"!=n[1]||(t.turn=n[1]),n[2]){const e=["K","Q","k","q"];for(const o of e)t.castle[o]=n[2].includes(o)}t.enPassant=n[3]&&"-"!=n[3]?n[3]:"","retro"!=t.mode&&(t.halfMove=Number(n[4]||0),t.fullMove=Number(n[5]||1))}}function Uc(){let e=!1;for(const t of vc)e=Ac(t,!0)||e;e&&Lc()}function Dc(e){for(const t of vc)t.readOnly=e}function zc(e){if(e.anime){const t=Ci(e,ll.board.w,ll.board.h);Il(ti.value,t,e.anime)}else e.forEach(((e,t)=>vc[t].value=e)),Lc()}function Wc(){Object.assign(pl.play,{turn:"w",enPassant:"",halfMove:0,fullMove:1});const e=["K","Q","k","q"];for(const t of e)pl.play.castle[t]=!0}Vl.options=ll.board,Vl.callback=Pc,addEventListener("popstate",(async function(){if(pl.play.playing)return;const e=new URL(location.href).searchParams.get("fen");e&&Pc(e,!0)})),window.FEN={update:()=>{Rc(ti.value),Bc(!0)},empty(){for(const e of vc)e.value="";Lc()},reset(){cc({w:8,h:8}),ll.board.fullFEN&&Wc(),Pc(hi)},copy(){gtag("event","fen_copy"),navigator.clipboard.writeText(ti.value)},async paste(){gtag("event","fen_paste"),Pc(await mc(),!0)},rotate(e){Fl(!0);const{w:t,h:n}=ll.board;t!==n&&cc({w:n,h:t}),zc(Li(Tc(),e,t,n))},color(e){for(const t of vc){let n=t.value;n.startsWith("'")||""==n||(n.startsWith("-")&&(n=n.substr(1)),n=n.toLowerCase(),0==e&&(n="-"+n),1==e&&(n=n.toUpperCase()),t.value=n)}Lc()},fixSN(){gtag("event","fen_fix_sn");for(const e of vc){let t=e.value;t.startsWith("'")||""==t||(e.value=t.replace("s","n").replace("S","N"))}Lc()},invert(e){zc(Vi(Tc(),e))},shift(e,t){Fl(!0);const{w:n,h:o}=ll.board;zc(Ti(Tc(),e,t,n,o))},mirror(e){Fl(!0);const{w:t,h:n}=ll.board;zc(Mi(Tc(),e,t,n))}},hl((()=>{if(pl.play.playing){const e=pl.play;e.playing=!1,Promise.all([zl(),ou()]).then((()=>{au(),du.goto(e.history[e.moveNumber])}))}}));var $c="normal",Hc="pass",qc="retro",Gc=[4,7,10,13],Kc=[3,6,9,12],Yc=Kc.concat(15,16,18),Qc=Gc.concat(15,16,19);function Zc(e){const t=pl.play;let n=t.moveNumber;n+=e,n<-1&&(n=-1),n>t.history.length-1&&(n=t.history.length-1),n!=t.moveNumber&&Jc(n)}function Jc(e){const t=pl.play,n=t.moveNumber,o=e>=0||0==n;if(du.goto(t.history[e],o),o){const o=e==n-1,a=t.history[o?n:e];let s=a.from+a.to;"k"!=a.flags&&"q"!=a.flags||(s+=","+eu(a)),Il(a.before,a.after,s,o!=(pl.play.mode==qc))}}function Xc(e,t,n){if(e=Ni(e),t=Ni(t),pl.play.mode==qc){const n=yc.retract({from:e,to:t,...pl.play.retro});return n&&(su(),ru()),n}{const o=yc.move({from:e,to:t,promotion:n});return!!o&&("k"!=o.flags&&"q"!=o.flags||function(e){const t=_i(e.before),n="w"==e.color;return t[Ri(e.from)]="",t[Ri(e.to)]=n?"K":"k",{before:Ci(t),after:e.after,move:eu(e)}}(o))}}function eu(e){const t="w"==e.color,n="k"==e.flags,o=t?1:8;return(n?"h":"a")+o+(n?"f":"d")+o}function tu(){Pc(yc.fen())}function nu(e){return yc.get(Ni(e)).color}async function ou(){if(!gc){const e="./modules/chess.js";(gc=await import(e)).Chess.options=ll.PLAY,yc=new gc.Chess(pl.play),ul.module.chess=!0}return gc}function au(){Object.assign(pl.play,{playing:!0,pendingPromotion:!1}),Dc(!0),pl.play.mode==qc?(su(),ru()):Ql([])}function su(){pl.play.retro={uncapture:null,unpromote:!1,ep:!1}}function ru(){Ql("b"==yc.turn()?Yc:Qc)}function iu(e,t){if(2==e)return;const n=pl.play.retro;var o;0==e==("b"==yc.turn())?(0<t&&t<7&&(o=Sl[t],n.uncapture=n.uncapture==o?null:o),5!=t&&6!=t||(n.unpromote=!1)):5==t&&(n.unpromote=!n.unpromote,"p"!=n.uncapture&&"c"!=n.uncapture||(n.uncapture=null)),ru()}async function lu(e){await ou(),yc.loadGame(e)&&(tu(),au())}var cu,uu,du={async start(){gtag("event","fen_play_"+pl.play.mode);try{const e=Ic();if(!e)throw"Only orthodox chess is supported.";await ou(),yc.init(e),pl.play.over=yc.overState(),au()}catch(e){alert(e instanceof Error?e.message:e)}},exit(){pl.play.playing=!1,pl.play.game="",Pc(pl.play.initFEN),jc(pl.play.initFEN),Dc(!1),Ql([])},goto(e,t){pl.play.pendingPromotion&&(pl.play.pendingPromotion=!1,Ql([]));const n=yc.goto(e);t||(Fl(),Pc(n)),pl.play.mode==qc&&(su(),ru())},move(e){e!=pl.play.moveNumber&&Jc(e)},moveBy(e){Zc(e)},reset(){Wc()},copyGame:()=>yc.copyGame(),copyPGN:()=>yc.copyPGN(),number:e=>(console.log(e),gc.number(e,pl.play.mode)),format:e=>gc.format(e,pl.play.mode),async pasteMoves(){const e=await mc();yc.addMoves(gc.parseMoves(e)),tu()},async pasteGame(){const e=await mc();await lu(e)}},pu=new RegExp(String.raw(cu||(cu=o(["^+(?<c>[nwb])(?<is>",")(?<at>",")(=(?<p>","))?$"],["^\\+(?<c>[nwb])(?<is>",")(?<at>",")(=(?<p>","))?$"])),$i,Wi,$i)),fu=new RegExp(String.raw(uu||(uu=o(["^-([nwb]",")?(?<at>",")$"])),$i,Wi)),hu=new RegExp("^(?<c>[nwb])".concat($i,"(?<from>").concat(Wi,")-&gt;(?<to>").concat(Wi,")(=(?<p>").concat($i,"))?$")),mu=new RegExp("^".concat($i,"(?<from>").concat(Wi,")&lt;-&gt;").concat($i,"(?<to>").concat(Wi,")$")),gu=new RegExp("^(?<at>".concat(Wi,")=(?<c>[nwb])?(?:r?(?<p>").concat($i,"))?$")),yu=new RegExp("^I".concat(Wi,"(,").concat(Wi,")*$"));function bu(e,t,n){var o,a,s,r,i;let l=null==(o=t.match(pu))?void 0:o.groups;if(l)return el(e,l.at,l.p||l.is,l.c);if(l=null==(a=t.match(fu))?void 0:a.groups,l)return el(e,l.at,"");if(l=null==(s=t.match(hu))?void 0:s.groups,l)return tl(e,l.from,l.to),void(l.p&&el(e,l.to,l.p,l.c));if(l=null==(r=t.match(mu))?void 0:r.groups,l)return function(e,t,n){t=Ri(t),n=Ri(n);const o=e[n];e[n]=e[t],e[t]=o}(e,l.from,l.to);if(l=null==(i=t.match(gu))?void 0:i.groups,l)return el(e,l.at,l.p||function(e,t){const n=e[Ri(t)];return n.match(new RegExp($i,"i"))[0].toUpperCase()}(e,l.at),l.c||function(e,t){const n=e[Ri(t)];return $i.startsWith("-")?"n":n==n.toLowerCase()?"b":"w"}(e,l.at));if(l=t.match(yu),l){n.push(...t.match(new RegExp(Wi,"g")));for(const t of n)el(e,t,"I","n")}else;}var vu=new RegExp(Zi),wu=new RegExp(Xi);function ku(e,t,n,o,a){let s,r;if(n.move.startsWith("0-0")){const o="w"==t?"1":"8",i="0-0"==n.move?["g","h","f"]:["c","a","d"];tl(e,"e"+o,i[0]+o,a),r=tl(e,i[1]+o,s=i[2]+o,a)}else if(r=tl(e,n.from,s=n.to,a),n.ep&&el(e,n.to.replace("3","4").replace("6","5"),""),n.then){let t=n.to,o=n.then.match(new RegExp("".concat(Ki,"|").concat(Wi),"g"));for(const n of o){const o=n.match(new RegExp(Ki));if(o){const n=el(e,t,o.groups.p,o.groups.pc);a&&(a[a.length-1]+="="+n)}else tl(e,t,n,a),t=n}}"I"==n.p?(o.push(s),el(e,s,"I","n")):n.p&&el(e,s,r=n.p,n.pc?n.pc:t),n.cc&&el(e,s,r,n.cc)}var xu=new RegExp("^[nwb]".concat($i,"(").concat(Wi,")--&gt;(").concat(Wi,")$")),_u=new RegExp("^[nwb]".concat($i,"(").concat(Wi,")&lt;--&gt;[nwb]").concat($i,"(").concat(Wi,")$")),Cu=new RegExp("^([+-]?)([nwb])(".concat($i,")(").concat(Wi,")$")),Su=new RegExp("^(".concat($i,")==&gt;(").concat($i,")$")),Eu=new RegExp("^mirror(".concat(Wi,")&lt;--&gt;(").concat(Wi,")$")),Au=new RegExp("^shift(".concat(Wi,")==&gt;(").concat(Wi,")$")),Nu=/^rotate(90|180|270)$/;function Pu(e,t){let n=t.match(xu);if(n)return tl(e,n[1],n[2]);if(n=t.match(_u),n)return exchange(e,n[1],n[2]);if(n=t.match(Cu),n)"+"==n[1]||""==n[1]?el(e,n[4],n[3],n[2]):el(e,n[4],"");else{if(n=t.match(Eu),n){let t;const o=Pi(n[1]),a=Pi(n[2]);return t=o.x==a.x?"|":o.y==a.y?"-":(o.x-a.x)*(o.y-a.y)>0?"\\":"/",void Ru(e,Mi(e,t))}if(n=t.match(Au),!n){if(n=t.match(Su),n){const t=sl(n[1]),o=t.toLowerCase(),a=sl(n[2]),s=a.toLowerCase();for(let n=0;n<e.length;n++)e[n]==t&&(e[n]=a),e[n]==o&&(e[n]=s),e[n]=="-"+o&&(e[n]="-"+s)}return n=t.match(Nu),n?Ru(e,Li(e,"90"==n[1]?-1:"180"==n[1]?2:1)):"PolishType"==t?Ru(e,Vi(e)):void 0}{const t=Pi(n[1]),o=Pi(n[2]);Ru(e,Ti(e,o.x-t.x,o.y-t.y))}}}function Ru(e,t){e.length=0,e.push(...t)}var Ou,Tu,Mu=new RegExp(qi),Lu=new RegExp(String.raw(Ou||(Ou=o(["\n\n+|(?:",")|(?:",")"],["\\n\\n+|(?:",")|(?:",")"])),qi,Xi),"g");function Vu(e,t,n){return function(e,t,n,o){var a;if(!t)return n;console.log(n);const s=function(e){var t;const n=e.replace(/\n/g," ").replace(Qi,"\n$&").split("\n"),o=n.filter((e=>e.match(Ii("2option","^")))).join(" "),a=n.filter((e=>e.match(Fi("condition")))).join(" ");return{imitators:null==(t=a.match(Uu))?void 0:t.join(" ").match(new RegExp(Wi,"g")),duplex:Du.test(o),halfDuplex:zu.test(o)}}(e);let r=0;const i=function(e){return e.split(Ii("2twin","\\b","\\b")).map((e=>{var t;return null==(t=e.match(Fu))?void 0:t[1].replace(/\s/g,"")}))}(e),l={pg:/dia/i.test(i[0]),fen:ju(qu(t),s.imitators),imitators:s.imitators,ordering:Bu(i[0],s.halfDuplex)};let c=l;const u={stack:[],board:_i(c.pg?hi:c.fen),ordering:c.ordering,imitators:null==(a=c.imitators)?void 0:a.concat()};let d=!1;n=n.replace(/<br>/g,"\n");const p=s.duplex?function(e){const t=/^\n\n+ +1\./,n=e.replace(/\n\nsolution finished./,"\n  1.").match(/\n\n+[^\n]+/g).filter(((e,n,o)=>n>0&&e.match(t)&&o[n-1].match(t))).map((e=>e.match(/^\n+/)[0].length));return"\n".repeat(Math.max(...n))}(n):"";let f=!1;return n=n.replace(Lu,(e=>{if(d)return e;try{if(e.match(/^\n+$/)){u.stack.length=0;const t=c.pg?hi:c.fen;return u.board=_i(t),e==p&&f&&(u.ordering=Wu(u.ordering)),e}const t=e.match(Mu);if(t){f=!1,c=pi(t[1]?c:l);const n=i[++r];n&&(c.ordering=Bu(n,s.halfDuplex),c.pg=/dia/i.test(n)),u.ordering=c.ordering,u.stack.length=0;const{fen:o,board:a}=function(e,t){const n=_i(e),o=t.replace(/(mirror|shift|rotate) /g,"$1").replace(/ ==&gt; /g,"==&gt;").split(" ");for(const e of o)Pu(n,e);return{fen:Ci(n),board:n}}(c.fen,t[2]);return c.fen=o,u.board=c.pg?_i(hi):a,e}return f=!0,function(e,t,n,o){var a;const{stack:s,ordering:r}=n,i=e.match(wu),l=i.groups.count,c=t.pg?hi:t.fen;let u=null;if(l){const e=s.findIndex((e=>e.move==l||parseInt(e.move)>parseInt(l)));e>=0&&(u=e>0?s[e-1].fen:c,n.board=_i(u),n.imitators&&(n.imitators=(e>0?s[e-1].imitators:t.imitators).concat()),s.length=e)}const d=r[!l||l.endsWith("...")?1:0],{imitators:p,board:f}=n,h=null==p?void 0:p.concat();if(p){for(const e of p)el(f,e,"");p.length=0}const m=[],g=i.groups.main.split("/");for(let e of g){const t=e.match(vu);ku(f,d,t.groups,p,m);const n=null==(a=e.match(/\[[^\[\]]+(?=\])/g))?void 0:a.map((e=>e.substring(1)));n&&n.forEach((e=>bu(f,e,p)))}const y=Ci(f);if(l&&s.push({move:l,color:d,fen:y,imitators:null==p?void 0:p.concat()}),h)for(let e=0;e<m.length;e++){const[t,n]=m[e].match(/[a-z]\d/g).map((e=>Pi(e))),o=n.x-t.x,a=n.y-t.y;for(const t of h){const n=Pi(t);m[e]+=t+Ni(n.y+a,n.x+o)}}return(1==s.length&&l?o("*",c)+" ":"")+o(e,y,m,u)}(e,c,u,o)}catch(t){return console.log(t,e),d=!0,e}})),n.replace(/   ?<span init/g,"<span").replace(/\n/g,"<br>")}(e,t,n,$u)}var Iu,Fu=new RegExp(String.raw(Tu||(Tu=o(["","s+(S*(?:d|[^ds]s+d+(?:.[05])?))"],["","\\s+(\\S*(?:\\d|[^\\d\\s]\\s+\\d+(?:\\.[05])?))"])),Fi("3stipulation")),"i");function Bu(e,t){var n;if(!e)return"wb";const o=e.match(/^(\d+-&gt;)?(?:exact-)?(?:(?:ser|pser|phser|semi|reci)-)?(hs|hr|h|s|r)?/i);let a;return a=!o||o[1]?"wb":"h"==(null==(n=o[2])?void 0:n.toLowerCase())?"bw":"wb",t?Wu(a):a}function ju(e,t){if(!t)return e;const n=_i(e);for(const e of t)n[Ri(e)]="-"+sl("i");return Ci(n)}var Uu=new RegExp(String.raw(Iu||(Iu=o(["\bimitw*s+(?:",")+"],["\\bimit\\w*\\s+(?:",")+"])),Wi),"ig"),Du=Ii("3duplex"),zu=Ii("3halfDuplex");function Wu(e){return"wb"==e?"bw":"wb"}function $u(e,t,n,o){const a="*"==e?"init ":"";t=t.replace(/-/g,"&#45;").replace(/"/g,"&#34;");let s="";return n&&n.length&&(s+=' data-anime="'.concat(n.join(","),'"')),o&&(s+=' data-before="'.concat(o,'"')),"<span ".concat(a,'class="step btn px-1 py-0" data-fen="').concat(t,'"').concat(s,">").concat(e,"</span>")}var Hu=/[-+=]?(\.[0-9A-Z][0-9A-Z]|[A-Z])|\d+|\//gi;function qu(e){return e.match(Hu).map((e=>{if("/"==e||e.match(/^\d+$/))return e;const t=e.match(/^[-+=]/)?e[0]:null;return t&&(e=e.substring(1)),e.startsWith(".")&&(e=e.substring(1)),e=sl(e),"+"==t&&(e=e.toUpperCase()),"-"==t&&(e=e.toLowerCase()),"="==t&&(e="-"+e.toLowerCase()),e})).join("")}var Gu,Ku,Yu,Qu,Zu=["1Black","1Neutral","1White"].map(Fi).join("|"),Ju=["1Chameleon","2FrischAuf","2Functionary","2HalfNeutral","2HurdleColourChanging","1Jigger","1Kamikaze","1Magic","2Paralysing","2Protean","1Royal","1Uncapturable","1Volage"].map(Fi).join("|"),Xu="(?<p>".concat($i,")(?<sq>(?:").concat(Wi,")+)"),ed=String.raw(Gu||(Gu=o(["s+(?<c>",")(?:s+(?:","))?(?<l>(?:s+",")+)"],["\\s+(?<c>",")(?:\\s+(?:","))?(?<l>(?:\\s+",")+)"])),Zu,Ju,Xu),td=String.raw(Ku||(Ku=o(["","(?:",")+(?=s+(?:",")|$)"],["","(?:",")+(?=\\s+(?:",")|$)"])),Fi("2pieces"),ed,Yi);function nd(e,t){if(2==t.length&&(t="."+t),"n"==e)return"="+t;const n="w"==e;return t.match(/[A-Z]/)?n?t:t.toLowerCase():(n?"+":"-")+t}hl((()=>{pl.popeye.running=!1,pl.popeye.editMap=!1,pl.popeye.playing&&zl().then((()=>cn((()=>Ad(!0)))))}));var od,ad,sd,rd="modules/py489.js",id=!1,ld=document.getElementById("Output");function cd(){pl.popeye.output=pl.popeye.intOutput+'<br><i class="fa-solid fa-spinner fa-spin"></i>',ud()}function ud(){id&&(id=!1,cn((()=>ld.scrollTop=ld.scrollHeight-ld.clientHeight)))}function dd(e){Yu.terminate(),Yu=void 0;const t=500-(performance.now()-od);ud(),clearInterval(ad),e?fd():(pl.popeye.output=pl.popeye.intOutput,setTimeout((()=>pl.popeye.running=!1),Math.max(0,t)),pd())}function pd(){Yu||((Yu=new Worker(rd)).onerror=t=>{let n;t.preventDefault(),clearInterval(ad),pl.popeye.running=!1,t.filename?(Yu.terminate(),n="An error occur in the Popeye module. Please submit an issue about this.\n"+e.message):n="Unable to load the Popeye module; please check your network connection.",pl.popeye.output=hd(n),Yu=void 0},Yu.onmessage=e=>{const t=e.data;++sd>3e3?(pl.popeye.intOutput+="<br>".concat(hd("Too much output. Please modify the input to prevent excessive output."),"<br>"),dd()):-1===t?(gtag("event","fen_popeye_fallback"),rd="modules/py489.asm.js",dd(!0),pl.popeye.intOutput="Fallback to JS mode.<br>"):-2===t?dd((Qu/=2)>=4):null===t?dd():(id=id||Boolean(ld)&&ld.scrollTop+ld.clientHeight+30>ld.scrollHeight,"string"==typeof t.text&&(pl.popeye.intOutput+=md(t.text)+"<br>"),"string"==typeof t.err&&(pl.popeye.error=!0,pl.popeye.intOutput+=hd(md(t.err))))})}function fd(){pd(),spinner=".";const e=pl.popeye;sd=0,e.intOutput="",e.error=!1,e.running=!0,ad=setInterval(cd,500),od=performance.now(),Yu.postMessage({mem:Qu,input:"Opti NoBoard\n"+e.intInput})}function hd(e){return'<span class="text-danger">'.concat(e,"</span>")}function md(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}var gd,yd,bd,vd=new RegExp(String.raw(gd||(gd=o(["(?:",")s.+$"],["(?:",")\\s.+$"])),["remark","2author","2origin","3title"].map(Fi).join("|")),"igm"),wd=new RegExp(String.raw(yd||(yd=o(["","s+S+"],["","\\s+\\S+"])),Fi("5protocol")),"i"),kd=Ii("3beginProblem"),xd=Ii("3endProblem"),_d=/\bnext\s[\s\S]+$/i,Cd=Fi("3forsyth"),Sd=Fi("2pieces");function Ed(e){var t;e=e.replace(vd,"").replace(wd,"").replace(kd,"").replace(_d,"").replace(xd,"");const n=pl.popeye;if(new RegExp("".concat(Cd,"|").concat(Sd),"i").test(e))return n.initFEN=function(e){const t=e.match(new RegExp(td,"ig"));if(!t)return null;const n=Oi(64);for(const e of t){const t=e.match(new RegExp(ed,"ig"));for(const e of t){const t=e.match(new RegExp(ed,"i")).groups,o=t.c[0].toLowerCase(),a=t.l.match(new RegExp(Xu,"ig"));for(const e of a){const t=e.match(new RegExp(Xu,"i")).groups,a=t.p.toUpperCase(),s=t.sq.match(new RegExp(Wi,"g"));for(const e of s)n[Ri(e)]=nd(o,a)}}}return Ci(n)}(e)||(null==(t=e.match(new RegExp(String.raw(bd||(bd=o(["","s+(S+)"],["","\\s+(\\S+)"])),Cd),"i")))?void 0:t[1]),n.initFEN&&Pc(qu(n.initFEN)),e;{const{fen:t,imitators:o}=function(){const{w:e,h:t}=ll.board;if(8!=e||8!=t)return null;const n=[],o=Tc().map(((e,t)=>{if(""==e)return e;let o=ll.board.SN?e.replace("s","n").replace("S","N").replace("g","s").replace("G","S"):e;if(o=function(e){let t=e.startsWith("-")?"=":"";t&&(e=e.substring(1));const n=e.toUpperCase();if(n.match(/^[KQBNRP]$/))e=e.replace("n","s").replace("N","S");else{const o=n==e,a=al.custom();if(!(n in a))return null;const s=a[n];2==(e=o?s:s.toLowerCase()).length&&(e="."+e),s.match(/^\d+$/)&&!t&&(t=o?"+":"-")}return t+e}(o),!o)throw alert("Unspecified fairy piece: "+e);return o.match(/^=?i$/i)?(n.push(Ni(t)),""):o}));return{fen:Ci(o,8,8),imitators:n}}();return n.initFEN=t,o.length&&(e+="\ncond imitator "+o.join("")),"fors ".concat(n.initFEN,"\n").concat(e)}}async function Ad(e){const t=pl.popeye;t.steps=[...ld.querySelectorAll("span")],0!=t.steps.length&&(Nd(0,!0),t.playing=!0,e&&await zl(),Ql([]),cn(dc))}async function Nd(e,t){var n;const o=pl.popeye,a=o.steps[e],s=o.steps[o.index];if(s&&s.dataset.anime&&(e==o.index-1&&!s.dataset.before||a.dataset.fen==s.dataset.before))await Il(a.dataset.fen,s.dataset.fen,s.dataset.anime,!0);else{const t=a.dataset.before||(null==(n=o.steps[e-1])?void 0:n.dataset.fen);a.dataset.anime&&t?await Il(t,a.dataset.fen,a.dataset.anime):(Fl(),Pc(a.dataset.fen))}t||s.classList.remove("active"),o.index=e,a.classList.add("active"),cn((()=>function(e){const t=10,n=e.offsetTop-t;ld.scrollTop>n&&(ld.scrollTop=n);const o=e.offsetTop+e.clientHeight-ld.clientHeight+t;ld.scrollTop<o&&(ld.scrollTop=o);const a=e.offsetLeft-t;ld.scrollLeft>a&&(ld.scrollLeft=a);const s=e.offsetLeft+e.clientWidth-ld.clientWidth+t;ld.scrollLeft<s&&(ld.scrollLeft=s)}(a)))}var Pd={run(){gtag("event","fen_popeye_run"),Qu=512;try{const e=pl.popeye;e.intInput=Ed(e.input),fd()}catch{}},cancel(){Yu&&dd()},play(){const e=pl.popeye;ld.scrollTop=ld.scrollLeft=0,gtag("event","fen_popeye_play"),e.output=Vu(e.intInput,e.initFEN,e.intOutput),cn(Ad)},step(e){const t=pl.popeye;if(!t.playing)return;const n=t.steps.indexOf(e.target);n>=0&&n!=t.index&&(e.preventDefault(),Nd(n))},exit(){const e=pl.popeye;Pc(e.steps[0].dataset.fen),e.output=e.intOutput,e.playing=!1,Ql([]),cn(dc)},moveBy(e){const t=pl.popeye;let n=t.index;n+=e,n<0&&(n=0),n>t.steps.length-1&&(n=t.steps.length-1),Pd.move(n)},move(e){e!=pl.popeye.index&&Nd(e)},editMap(){gtag("event","fen_popeye_edit_map"),pl.popeye.mapping=Rd(ll.popeye.pieceMap),pl.popeye.editMap=!0},resetMap(){pl.popeye.mapping=Rd(nl)},saveMap(){const e=pl.popeye.mapping.toUpperCase().split("\n"),t={};for(const n of e){let[e,o]=n.replace(/\s/g,"").split("=");e.match(Dd)&&o&&o.match(zd)&&(t[e]=o)}ll.popeye.pieceMap=t,pl.popeye.editMap=!1}};function Rd(e){const t=[];for(const n in e)t.push("".concat(n,"=").concat(e[n]));return t.join("\n")}var Od,Td,Md,Ld,Vd,Id,Fd,Bd,jd,Ud,Dd=/^(\*[1-3][KQBNRP]|(\*[1-3])?[CXSTAD]|''..|'.)$/,zd=new RegExp("^".concat($i,"$")),Wd=0;function $d(e){tp(e),"pending"==ul.dragging&&function(e){const t=e.offsetX-Od,n=e.offsetY-Td;return Math.sqrt(t*t+n*n)}(e)>5&&(Id=NaN,Bd?(Ud=li.isTouch?[]:null,function(e,t){qd(),Fd.style.display="block",t&&(Vd.value="",Lc());ul.dragging=!0,Xd(e)}(e,Boolean(Vd))):ul.dragging=!1),!0===ul.dragging&&(Ud&&Ud.push({x:e.clientX,y:e.clientY}),Xd(e))}function Hd(e,t){const{s:n,offset:o}=yl(),a=t.getBoundingClientRect(),s=Math.floor((e.clientY-a.top-o.y)/n);return{x:Math.floor((e.clientX-a.left-o.x)/n),y:s}}function qd(){ul.selection=null,Ql([])}function Gd(e){if("pending"==ul.dragging&&!pl.play.playing&&e.target==oi){const t=performance.now();t-Wd<300&&Vd.focus(),Wd=t,e.preventDefault(),ul.dragging=!1}Fd&&(Fd.style.display="none"),tp(e);if(performance.now()-Id<250){if(e.target==Jr&&!bl()){let{x:t,y:n}=Hd(e,Jr);if(ul.hor&&([t,n]=[n,t]),ep(t,n,3,8)){const e=jl[3*n+t];ul.selection==e?ul.selection=null:ul.selection=e,Ql([])}else qd();return void(ul.dragging=!1)}if(e.target==oi&&pl.popeye.playing){const{x:t}=Hd(e,oi);return t<3&&Pd.moveBy(-1),void(t>4&&Pd.moveBy(1))}}if(pl.popeye.playing||!ul.dragging)return;if(ul.dragging=!1,!Bd)return;const{w:t,h:n}=ll.board,{x:o,y:a}=Hd(e,Qr),s=a*t+o,r=ep(o,a,t,n);if(pl.play.playing){let e;if(r){if(function(e,t){const n=pl.play.mode;return n!=qc&&(n==Hc&&nu(e)!=yc.turn()&&yc.switchSide(),!!yc.checkPromotion(Ni(e),Ni(t))&&(bc=t,pl.play.pendingPromotion=!0,Ql("b"==yc.turn()?Kc:Gc),!0))}(jd,s))return Nc(vc[s],Bd);jd!=s&&(e=Xc(jd,s))}"object"==typeof e?Il(e.before,e.after,e.move):tu()}else if(r){if(Nc(vc[s],Bd),Ud&&Ud.length>10){const e=function(e){let t=0,n=0;for(const o of e)t+=o.x,n+=o.y;return t/=e.length,n/=e.length,{x:t,y:n}}(Ud),t=function(e,t){let n=0;for(let o=0,a=t.length-1;o<t.length;a=o++){const s=t[o],r=t[a];r.y<=e.y?s.y>e.y&&Kd(r,s,e)>0&&n++:s.y<=e.y&&Kd(r,s,e)<0&&n--}return n}(e,Ud);Zd(Vd,t>0?1:3)}}else Oc()}function Kd(e,t,n){return(t.x-e.x)*(n.y-e.y)-(n.x-e.x)*(t.y-e.y)}var Yd=performance.now();function Qd(e){if(bl())return;const{w:t,h:n}=ll.board,{offset:o,s:a}=yl(),s=Math.floor((e.offsetX-o.x)/a),r=Math.floor((e.offsetY-o.y)/a);if(ep(s,r,t,n)){const n=vc[r*t+s];if(""==n.value)return;e.preventDefault();const o=performance.now();if(o-Yd<50)return;Yd=o,Zd(n,e.deltaY>0?1:3)}}function Zd(e,t){e.value=e.value.replace(/(^-?)(?:\*(\d))?([^-].*$)/,((e,n,o,a)=>{const s=(Number(o||0)+t)%4;return n+(s?"*"+s:"")+a})),Lc()}function Jd(e){if(Id=performance.now(),pl.popeye.playing)return;if(ul.loading||0!=e.button&&!e.targetTouches||e.targetTouches&&e.targetTouches.length>1)return;tp(e),document.activeElement&&document.activeElement.blur();const t=this!=Jr,{offset:n,s:o}=t?yl():yl(Jr,ul.hor),{w:a,h:s}=ll.board;Od=e.offsetX,Td=e.offsetY;const[r,i]=[n.x,n.y];Md=Math.floor((Od-r)/o);const l=(Ld=Math.floor((Td-i)/o))*(t?a:3)+Md;Fd=t?Xr:ei;const c=ul.selection;if(t&&c)if(e.preventDefault(),ep(Md,Ld,a,s)){const e=vc[l];e.value==c?e.value="":e.value=c,Lc()}else qd();else{if(pl.play.playing){if(!t&&pl.play.pendingPromotion){ul.hor&&([Md,Ld]=[Ld,Md]);Ld>0&&Ld<5&&Md==("p"==Bd?0:1)&&(u=jd,d=Sl[Ld],Xc(u,bc,d)?(bc>>>3==0&&(d=d.toUpperCase()),Nc(vc[bc],d)):tu(),pl.play.pendingPromotion=!1,Ql([]))}if(t||"retro"!=pl.play.mode||(e.preventDefault(),ul.hor&&([Md,Ld]=[Ld,Md]),iu(Md,Ld)),!t||!function(e){const t=pl.play.mode;if(pl.play.pendingPromotion)return!1;if(t!=qc&&yc.isGameOver())return!1;const n=nu(e)==yc.turn();return t==Hc||n==(t==$c)}(l))return}var u,d;t?(jd=l,Vd=vc[l],ul.dragging="pending",Bd=void 0):Vd=void 0,t&&""==Vd.value||(e.preventDefault(),Fd.style.clip="rect(".concat(Ld*o+i+1,"px,").concat((Md+1)*o+r-1,"px,").concat((Ld+1)*o+i-1,"px,").concat(Md*o+r+1,"px)"),t?Bd=Vd.value:(Bd=ul.hor?jl[3*Md+Ld]:jl[l],ul.dragging="pending"))}}function Xd(e){const{offset:t,s:n}=yl(),{w:o,h:a,coordinates:s}=ll.board,r=Qr.getBoundingClientRect(),i=Fd==ei&&s&&!ul.hor?r.left+Gr:r.left,l=Math.floor((e.clientY-r.top-t.y)/n),c=Math.floor((e.clientX-r.left-t.x)/n);c===Md&&l===Ld||(Ud=null);const{scrollLeft:u,scrollTop:d}=document.documentElement;ep(c,l,o,a)?(Fd.style.left=i+(c-Md)*n+u+"px",Fd.style.top=r.top+(l-Ld)*n+d+"px"):(Fd.style.left=e.clientX+u+1-Od+"px",Fd.style.top=e.clientY+d-Td+"px")}function ep(e,t,n,o){return t>-1&&t<o&&e>-1&&e<n}function tp(e){if(e.targetTouches){const t=e.target.getBoundingClientRect(),n=e.targetTouches[0]||e.changedTouches[0];e.clientX=n.clientX,e.clientY=n.clientY,e.offsetX=e.clientX-t.x,e.offsetY=e.clientY-t.y}}var np,op=document.currentScript,ap=new URL("api/",op.src),sp="img[fen]",rp=document.createElement("iframe");function ip(e){const t=new MessageChannel;t.port1.onmessage=t=>{e.src=t.data,e.title=np.getTitle(n,e.dataset)};const n=e.getAttribute("fen"),o=function(e){const t=Object.assign({},zr);if(e){const n=Number(e.size);$r.includes(n)&&(t.size=n),Hr.includes(e.set)&&(t.set=e.set),e.border=qr(e.border),e.border&&(t.border=e.border),0<e.knightOffset&&e.knightOffset<1&&(t.knightOffset=e.offset),t.blackWhite=Boolean(e.blackWhite),t.pattern=e.pattern,t.bg=e.bg,t.SN=e.SN;const o=Math.floor(Number(e.w)),a=Math.floor(Number(e.h));o>0&&(t.w=o),a>0&&(t.h=a)}return t}(Object.assign({},np.getDefault(),e.dataset)),a=xi(n);a&&Object.assign(o,a);const{w:s,h:r}=Kr(o);e.width=s,e.height=r,rp.contentWindow.postMessage({fen:n,options:o},"*",[t.port2])}function lp(e){e instanceof Element&&(e.matches(sp)?ip(e):e.querySelectorAll(sp).forEach((e=>ip(e))))}function cp(e){return new URL(e,location.href).toString()}function up(){const{SN:e,w:t,h:n}=ll.board;return e?Ci(Mc(),t,n):ti.value}function dp(){const e=ll.board,t=up();let n=cp("gen/?fen="+t);return 44!=e.size&&(n+="&size="+e.size),"1echecs"!=e.set&&(n+="&set="+e.set),e.pattern&&(n+="&pattern="+e.pattern),e.bg&&(n+="&bg="+e.bg),"1"!=e.border&&(n+="&border="+e.border),e.blackWhite&&(n+="&blackWhite&knightOffset="+e.knightOffset),xi(t)||(n+="&w=".concat(e.w,"&h=").concat(e.h)),n}rp.style.display="none";var pp,fp,hp,mp,gp={copyJanko:()=>(gtag("event","fen_copy_janko"),"https://www.janko.at/Retros/d.php?ff="+up()),copyBase64:()=>(gtag("event","fen_link_copy64"),Gl.toDataURL()),copyBase64Img:()=>(gtag("event","fen_link_copy64img"),'<img fen="'.concat(Gl.toDataURL(),'">')),async copyUrl(){gtag("event","fen_gen_link");const e=new FormData,t=await new Promise((e=>Gl.toBlob(e)));e.append("key","7802c5da1788f2315222d44bfba20519"),e.append("image",t,"fen");try{const t=await fetch("https://api.imgbb.com/1/upload",{method:"post",body:e}),n=await t.json();if(!n.success)throw n.error.message;return n.data.url+"?="+up()}catch(e){throw alert("string"==typeof e?e:"Internet connection failed. Please try again later."),e}},copyEmbed(){gtag("event","fen_copy_embed");const e=ll.board;let t=dp();const{w:n,h:o}=Kr(e);return'<iframe src="'.concat(t,'" style="border:none;width:').concat(n,"px;height:").concat(o,'px"></iframe>')},copyEmbedUrl:()=>(gtag("event","fen_copy_embedUrl"),dp()),copyImg:()=>(gtag("event","fen_copy_sdkImg"),'<img fen="'.concat(up(),'">')),copySDK(){gtag("event","fen_copy_sdk");const e=ll.board;let t="";return 44!=e.size&&(t+=' data-size="'.concat(e.size,'"')),"1echecs"!=e.set&&(t+=' data-set="'.concat(e.set,'"')),e.bg&&(t+=' data-bg="'.concat(e.bg,'"')),"1"!=e.border&&(t+=' data-border="'.concat(e.border,'"')),e.blackWhite&&(t+=' data-black-white="true" data-knight-offset="'.concat(e.knightOffset,'"')),'<script src="'.concat(cp("sdk.js"),'"').concat(t,"><\/script>")}};function yp(e){pp.postMessage(e)}hl((()=>{if(pl.stockfish.lines.length){const e=pl.stockfish.lines,t=pl.stockfish.header;pl.stockfish.lines=[],pl.stockfish.header=[],ou().then((n=>{fp=n,pl.stockfish.lines=e,pl.stockfish.header=t}))}})),window.cmd=yp;var bp="(".concat(Wi,")(").concat(Wi,")([qrbn]?)"),vp="modules/stockfish/",wp=li.thread?"":"-single",kp=1,xp=["".concat(vp,"stockfish-nnue-16.js#stockfish-nnue-16.wasm,worker"),"".concat(vp,"stockfish-nnue-16.wasm"),"".concat(vp,"stockfish-nnue-16-single.js#stockfish-nnue-16-single.wasm,worker"),"".concat(vp,"stockfish-nnue-16-single.wasm"),"".concat(vp,"nn-5af11540bbfe.nnue")];function _p(e){return pp?Promise.resolve():new Promise(((t,n)=>{ul.stockfish.running=1,(pp=new Worker("".concat(vp,"stockfish-nnue-16").concat(wp,".js#stockfish-nnue-16").concat(wp,".wasm"))).onmessage=e=>{const n=e.data;console.info(n),"readyok"==n&&(ul.stockfish.running=2,t()),n.startsWith("info ")&&function(e){var t;if(2!=ul.stockfish.running)return;const n=e.match(/multipv (\d+)/);if(!n)return;const o=Number(n[1])-1,a=e.match(/mate (-?)(\d+)/),s=e.match(/score cp (-?\d+)/);let r,i=Number(s&&s[1]||0)/100;if(a){const e="w"==mp.split(" ")[1]==Boolean(a[1])?"Black":"White";r=Number(a[2])+pl.stockfish.header.length/2,0==o&&(pl.stockfish.mate=[e,r])}if(0==o){const t=e.match(/depth (\d+)/);t&&(pl.stockfish.depth=t[1]),s&&(pl.stockfish.score=i)}const l=e.match(new RegExp("pv (".concat(bp,"(?: ").concat(bp,")*)")));if(l){if((null==(t=pl.stockfish.lines[o])?void 0:t.raw)==l[1])return;const e=l[1].split(" ").map((e=>e.match(new RegExp(bp))));pl.stockfish.moves=[];const n=pl.stockfish.header;hp.init(n.length?n[n.length-1].after:mp);for(const t of e){if(hp.move({from:t[1],to:t[2],promotion:t[3]}).san.endsWith("=")){i=0;break}}const s={rawScore:a?a[1]?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY:i,score:a?a[1]+"#"+a[2]:i.toFixed(2),raw:l[1],moves:hp.state.history.concat(),pgn:hp.copyPGN(n)};pl.stockfish.lines[o]=s}ll.Stockfish.study&&Cp()}(n.substring(5)),n.match(new RegExp("^bestmove ".concat(bp)))&&function(){const e=ll.Stockfish.depth;if(!ll.Stockfish.study||e<4||!Cp())Ap.stop();else{const t=pl.stockfish.header;t.push(...pl.stockfish.lines[0].moves.slice(0,2));yp("position fen "+t[t.length-1].after),yp("go depth "+e)}}()},pp.onerror=e=>{e.message.includes("RangeError")?n(-1):e.message.includes("memory")?n("Not enough memory."):n("Unknown error has occurred.")},yp("uci"),yp("setoption name Use NNUE value true"),li.thread&&yp("setoption name Threads value "+Math.max(2,navigator.hardwareConcurrency-4)),yp("setoption name Hash value "+e),yp("isready")}))}function Cp(){const e=pl.stockfish.lines.filter((e=>e&&e.moves.length));if(e.length<=1)return!1;e.forEach((e=>e.moves[0]&&(e.moves[0].annotation=void 0)));const t=e.filter((e=>e.rawScore>kp));if(t.length>1)return!1;if(1==t.length)return t[0].moves[0].annotation="!",!0;const n=e.filter((e=>e.rawScore>-kp));return 1==n.length&&(n[0].moves[0].annotation="!",!0)}var Sp,Ep,Ap={async download(){gtag("event","fen_stockfish_download"),ul.stockfish.status=1,"serviceWorker"in navigator&&await navigator.serviceWorker.ready;for(const e of xp){if(200!=(await fetch(e)).status)return alert("Download failed. Please check your network connection."),void(ul.stockfish.status=0)}ll.Stockfish.downloaded=!0,ul.stockfish.status=2},async analyze(){try{gtag("event","fen_stockfish_run");let e=128,t=_p(e);if(!(mp=Ic()))throw"Only orthodox chess is supported.";for(fp||(fp=await ou()),(hp=new fp.Chess).init(mp);;)try{await t;break}catch(n){if(-1!==n)throw n;if(Ap.stop(),e/=2,e<4)throw"Not enough memory.";t=_p(e)}pl.stockfish=pi(dl),yp("setoption name MultiPV value "+ll.Stockfish.lines),yp("ucinewgame"),yp("position fen "+mp),yp("go depth "+ll.Stockfish.depth)}catch(e){Ap.stop(),alert(e instanceof Error?e.message:e),ul.stockfish.running=0}},play(e){gtag("event","fen_stockfish_play"),pl.play.mode="normal",pl.tab=6,lu(e.pgn)},stop(){pp&&pp.terminate(),pp=void 0,ul.stockfish.running=0},format:e=>fp.formatGame(e)};hl((()=>{if(pl.syzygy.lines){const e=pl.syzygy.lines;e.forEach((e=>e.searching=!1)),pl.syzygy.lines=[],ou().then((t=>{Sp=t,pl.syzygy.lines=e}))}}));var Np=new Set;function Pp(e){return new Promise((t=>{Np.add(t),setTimeout((()=>{Np.delete(t),t()}),1e3*e)}))}async function Rp(e,t){try{if(!t.running)return null;const n=t.ready;if(t.ready=n.then((()=>Pp(1))),await n,!t.running)return null;const o=await fetch("https://tablebase.lichess.ovh/standard?fen="+e);return 429==o.status?(await Pp(61),await Rp(e,t)):await o.json()}catch{throw"Unable to connect to the server. Please check your network connection."}}async function Op(e){const t=new((Sp=await ou()).Chess);t.init(e.fen);const n=await Rp(t.fen(),e),o="w"==t.turn()?"White":"Black",a=n.category;if(pl.syzygy.header="The position is a ".concat(a," for ").concat(o,"."),"unknown"==a||a.includes("loss")||!e.running)return;pl.syzygy.lines=[],e.outcome=a,e.op=function(e){return"draw"==e?e:Vp[Lp.indexOf(e)]}(a);const s=n.moves.filter((t=>t.category==e.op));for(const n of s){t.init(e.fen);const[o,a,s]=n.uci.match(/..|./g);t.move({from:o,to:a,promotion:s});const r=t.fen();e.positions.add(Tp(r));const i={fen:r,dtm:n.dtm,indent:0,history:t.state.history.concat(),leaf:!0,moves:t.state.history.concat(),pgn:t.copyPGN(),transpose:!1,searching:!t.isGameOver()};pl.syzygy.lines.push(i)}if(!e.running)return;let r=pl.syzygy.lines.filter((e=>e.searching));if(r.length>1)return;for(r[0].moves[0].annotation="!";r.length;){const t=r.map((t=>Mp(t,e)));if(await Promise.all(t),r=pl.syzygy.lines.filter((e=>e.searching)),!e.running)return}}function Tp(e){return e.replace(/ \d+ \d+$/,"")}async function Mp(e,t){const n=new Sp.Chess;n.init(e.fen);const o="number"==typeof e.dtm,a=n.moves({verbose:!0}),s=await Rp(e.fen,t),r=new Set(s.moves.filter((e=>e.category==t.outcome)).map((e=>e.uci))),i=a.filter((e=>r.has(e.from+e.to+(e.promotion||"")))).map((e=>async function(e,t,n){const o=await Rp(e.after,t);if(!t.running)return null;const a=o.moves.filter((e=>e.category==t.op));return{score:(n?o.dtm:0)-a.length,json:o,dtm:o.dtm,defense:e,moves:a}}(e,t,o))),l=(await Promise.all(i)).filter((e=>e)).sort(((e,t)=>t.score-e.score)).filter(((e,t,n)=>e.score==n[0].score));if(e.searching=!1,!t.running)return;const c=l.filter((e=>"draw"!=t.op&&e.moves.length>0||1==e.moves.length));if(0==c.length)return;const u=1==c.length,d=c.map((o=>function(e,t,n,o,a){o.init(t.fen);const s=o.move(e.defense);n&&(s.annotation="!");const[r,i,l]=e.moves[0].uci.match(/..|./g),c=o.move({from:r,to:i,promotion:l});1==e.moves.length&&(c.annotation="!");const u=o.fen(),d=Tp(u),p=a.positions.has(d);p||a.positions.add(d);const f=o.state.history.concat();return{dtm:"number"==typeof e.dtm?1-e.dtm:null,fen:u,transpose:p,leaf:!0,indent:t.indent+(n?0:1),history:t.history.concat(f),moves:n?t.moves.concat(f):f,pgn:o.copyPGN(t.history),searching:!o.isGameOver()&&!p}}(o,e,u,n,t))),p=pl.syzygy.lines.concat(),f=p.indexOf(e);u?p.splice(f,1,...d):(e.leaf=!1,p.splice(f+1,0,...d)),pl.syzygy.lines=p}var Lp=["win","maybe-win","cursed-win"],Vp=["loss","maybe-loss","blessed-loss"];var Ip={async run(){var e;const t={positions:new Set,running:!0,ready:Promise.resolve()};Ep=t;try{if(gtag("event","fen_syzygy_run"),ul.syzygy.running=!0,pl.syzygy.header=null,pl.syzygy.lines=null,t.fen=Ic(),!t.fen)throw"Only orthodox chess is supported.";if((null==(e=t.fen.split(" ")[0].match(/[a-z]/gi))?void 0:e.length)>7)throw"Only supports position with up to 7 pieces.";await Op(t)}catch(e){alert(e instanceof Error?e.message:e)}finally{t.running&&Ip.stop()}},play(e){gtag("event","fen_syzygy_play"),pl.play.mode="normal",pl.tab=6,lu(e.pgn)},stop(){var e;Ep&&(Ep.running=!1);for(const e of Np)e();Np.clear(),null==(e=pl.syzygy.lines)||e.forEach((e=>e.searching=!1)),ul.syzygy.running=!1},format:e=>Sp.formatGame(e.moves)+(e.searching?" ...":e.transpose?" (transpose)":"")},Fp=e=>(Hn("data-v-104484b4"),e=e(),qn(),e),Bp={class:"nav nav-tabs pe-1",style:{"flex-wrap":"nowrap"}},jp={class:"nav-item"},Up=[Fp((()=>os("span",{class:"d-sm-none"},[os("i",{class:"fa-solid fa-pen-to-square"})],-1))),Fp((()=>os("span",{class:"d-none d-sm-inline"},"Edit",-1)))],Dp={class:"nav-item"},zp=[Fp((()=>os("span",{class:"d-sm-none"},[os("i",{class:"fa-solid fa-chess-board"})],-1))),Fp((()=>os("span",{class:"d-none d-sm-inline"},"Project",-1)))],Wp={class:"nav-item"},$p=[Fp((()=>os("span",{class:"d-sm-none"},[os("i",{class:"fa-solid fa-calculator"})],-1))),Fp((()=>os("span",{class:"d-none d-sm-inline"},"Options",-1)))],Hp={class:"nav-item"},qp=[Fp((()=>os("span",{class:"d-sm-none"},[os("i",{class:"fa-solid fa-gear"})],-1))),Fp((()=>os("span",{class:"d-none d-sm-inline"},"Compute",-1)))],Gp={class:"nav-item"},Kp=[Fp((()=>os("span",{class:"d-sm-none"},[os("i",{class:"fa-solid fa-gamepad"})],-1))),Fp((()=>os("span",{class:"d-none d-sm-inline"},"Play",-1)))],Yp={class:"nav-item"},Qp=[Fp((()=>os("span",{class:"d-sm-none"},[os("i",{class:"fa-solid fa-database"})],-1))),Fp((()=>os("span",{class:"d-none d-sm-inline"},"DB",-1)))],Zp={key:0,class:"nav-item"},Jp=[Fp((()=>os("span",{class:"d-sm-none"},[os("i",{class:"fa-solid fa-terminal"})],-1))),Fp((()=>os("span",{class:"d-none d-sm-inline"},"BBS",-1)))],Xp={class:"nav-item"},ef=[Fp((()=>os("span",{class:"d-sm-none"},[os("i",{class:"fa-solid fa-share-from-square"})],-1))),Fp((()=>os("span",{class:"d-none d-sm-inline"},"API",-1)))],tf={__name:"menu",setup:e=>(e,t)=>(qa(),Qa("div",{class:Q(["mb-3 nav-container",{"mt-n3":ul.hor&&pl.popeye.playing}])},[os("ul",Bp,[os("li",jp,[os("div",{class:Q(["nav-link",{active:0==jt(pl).tab}]),onClick:t[0]||(t[0]=e=>jt(pl).tab=0),title:"Edit"},Up,2)]),os("li",Dp,[os("div",{class:Q(["nav-link",{active:8==jt(pl).tab}]),onClick:t[1]||(t[1]=e=>jt(pl).tab=8),title:"Project"},zp,2)]),os("li",Wp,[os("div",{class:Q(["nav-link",{active:1==jt(pl).tab}]),onClick:t[2]||(t[2]=e=>jt(pl).tab=1),title:"Options"},$p,2)]),os("li",Hp,[os("div",{class:Q(["nav-link",{active:7==jt(pl).tab}]),onClick:t[3]||(t[3]=e=>jt(pl).tab=7),title:"Compute"},qp,2)]),os("li",Gp,[os("div",{class:Q(["nav-link",{active:6==jt(pl).tab}]),onClick:t[4]||(t[4]=e=>jt(pl).tab=6),title:"Play"},Kp,2)]),os("li",Yp,[os("div",{class:Q(["nav-link",{active:2==jt(pl).tab}]),onClick:t[5]||(t[5]=e=>jt(pl).tab=2),title:"Database"},Qp,2)]),jt(ul).envReady?(qa(),Qa(Ua,{key:0},[jt(li).isTaiwan?(qa(),Qa("li",Zp,[os("div",{class:Q(["nav-link",{active:4==jt(pl).tab}]),onClick:t[6]||(t[6]=e=>jt(pl).tab=4),title:"BBS"},Jp,2)])):us("v-if",!0)],64)):us("v-if",!0),os("li",Xp,[os("div",{class:Q(["nav-link",{active:5==jt(pl).tab}]),onClick:t[7]||(t[7]=e=>jt(pl).tab=5),title:"API"},ef,2)])])],2))},nf=["disabled"],of={__name:"copyButton",props:{class:String,factory:[Function,String],disabled:Boolean},setup(e){const t=e,n=Ft(0);async function o(){n.value=1;try{let e=t.factory;for(;"function"==typeof e;)e=await e();"string"==typeof e&&function(e){if(li.canCopy)navigator.clipboard.writeText(e);else{const t=document.createElement("input");document.body.appendChild(t),t.value=e,t.select(),document.execCommand("copy"),document.body.removeChild(t)}}(e),n.value=2,setTimeout((()=>n.value=0),1e3)}catch(e){n.value=0}}return(a,s)=>(qa(),Qa("button",{type:"button",class:Q(["btn nowrap",t.class]),onClick:o,disabled:e.disabled||1==n.value},[os("i",{class:Q(["fa-solid fa-clipboard","fa-spin fa-solid fa-spinner","fa-solid fa-check"][n.value])},null,2),ls(" "),Mo(a.$slots,"default")],10,nf))}},af=e=>(Hn("data-v-d882e042"),e=e(),qn(),e),sf={class:"mb-3 btn-gap"},rf={class:"d-inline-block"},lf=["disabled"],cf=[af((()=>os("i",{class:"fa-solid fa-trash-can"},null,-1))),af((()=>os("span",{class:"d-none d-sm-inline"}," Empty board",-1)))],uf=["disabled"],df=[af((()=>os("i",{class:"fa-solid fa-flag-checkered"},null,-1))),af((()=>os("span",{class:"d-none d-sm-inline"}," Starting position",-1)))],pf={class:"d-inline-block"},ff={class:"d-inline-block"},hf=["disabled"],mf=[af((()=>os("i",{class:"fa-solid fa-arrow-left"},null,-1)))],gf=["disabled"],yf=[af((()=>os("i",{class:"fa-solid fa-arrow-right"},null,-1)))],bf=["disabled"],vf=[af((()=>os("i",{class:"fa-solid fa-arrow-up"},null,-1)))],wf=["disabled"],kf=[af((()=>os("i",{class:"fa-solid fa-arrow-down"},null,-1)))],xf={class:"d-inline-block"},_f=["disabled"],Cf=[af((()=>os("i",{class:"fa-solid fa-rotate-left"},null,-1)))],Sf=["disabled"],Ef=[af((()=>os("i",{class:"fa-solid fa-rotate-right"},null,-1)))],Af=["disabled"],Nf=[af((()=>os("i",{class:"fa-solid fa-arrows-left-right"},null,-1)))],Pf=["disabled"],Rf=[af((()=>os("i",{class:"fa-solid fa-arrows-up-down"},null,-1)))],Of={class:"d-inline-block"},Tf=["disabled"],Mf=[af((()=>os("i",{class:"fa-solid fa-chess-king fa-fw text-black shadow-white"},null,-1)))],Lf=["disabled"],Vf={key:0,class:"fa-solid fa-chess-king fa-fw shadow-neutral",style:{color:"gray"}},If=af((()=>os("i",{class:"fa-solid fa-chess-king fa-fw text-black shadow-white"},null,-1))),Ff=af((()=>os("i",{class:"fa-solid fa-chess-king fa-fw text-white shadow-black",style:{"margin-left":"-1.25em","clip-path":"polygon(51.5% 0, 100% 0, 100% 100%, 51.5% 100%)"}},null,-1))),Bf=["disabled"],jf=[af((()=>os("i",{class:"fa-solid fa-chess-king fa-fw text-white shadow-black"},null,-1)))],Uf={class:"d-inline-block"},Df=["disabled"],zf=af((()=>os("i",{class:"fa-solid fa-chess-king text-black shadow-white"},null,-1))),Wf=af((()=>os("i",{class:"fa-solid fa-arrows-left-right"},null,-1))),$f=af((()=>os("i",{class:"fa-solid fa-chess-king text-white shadow-black"},null,-1))),Hf=["disabled"],qf=af((()=>os("i",{class:"fa-solid fa-arrows-left-right"},null,-1))),Gf=["disabled"],Kf=af((()=>os("i",{class:"fa-solid fa-arrow-right"},null,-1))),Yf={class:"text-end btn-gap"},Qf={class:"d-inline-block"},Zf={class:"d-inline-block"},Jf={key:0,class:"btn btn-primary",onclick:"share(this)"},Xf=af((()=>os("i",{class:"fa-solid fa-share-nodes"},null,-1))),eh=af((()=>os("a",{class:"btn btn-primary",download:"board.png",id:"Save",onclick:"gtag('event', 'img_save')"},[os("i",{class:"fa-solid fa-download"}),ls(" Save image ")],-1))),th={key:0,class:"mt-3 d-none d-md-block text-end"},nh={class:"d-inline-block"},oh={class:"form-check form-switch"},ah=af((()=>os("label",{class:"form-check-label",for:"sSplit"},"Split window",-1))),sh={__name:"edit",setup:e=>(e,t)=>(qa(),Qa("section",{class:Q({show:0==jt(pl).tab})},[os("div",sf,[os("span",rf,[os("button",{type:"button",class:"btn btn-secondary",onclick:"FEN.empty()",disabled:jt(bl)(),title:"Empty board"},cf,8,lf),os("button",{type:"button",class:"btn btn-secondary",onclick:"FEN.reset()",disabled:jt(bl)(),title:"Starting position"},df,8,uf)]),os("span",pf,[os("span",ff,[os("button",{type:"button",class:"btn btn-secondary",title:"Shift leftwards",onclick:"FEN.shift(-1,0)",disabled:jt(bl)()},mf,8,hf),os("button",{type:"button",class:"btn btn-secondary",title:"Shift rightwards",onclick:"FEN.shift(1,0)",disabled:jt(bl)()},yf,8,gf),os("button",{type:"button",class:"btn btn-secondary",title:"Shift upwards",onclick:"FEN.shift(0,-1)",disabled:jt(bl)()},vf,8,bf),os("button",{type:"button",class:"btn btn-secondary",title:"Shift downwards",onclick:"FEN.shift(0,1)",disabled:jt(bl)()},kf,8,wf)]),os("span",xf,[os("button",{type:"button",class:"btn btn-secondary",title:"Rotate counterclockwise",onclick:"FEN.rotate(-1)",disabled:jt(bl)()},Cf,8,_f),os("button",{type:"button",class:"btn btn-secondary",title:"Rotate clockwise",onclick:"FEN.rotate(1)",disabled:jt(bl)()},Ef,8,Sf),os("button",{type:"button",class:"btn btn-secondary",title:"Mirror horizontally",onclick:"FEN.mirror('-')",disabled:jt(bl)()},Nf,8,Af),os("button",{type:"button",class:"btn btn-secondary",title:"Mirror vertically",onclick:"FEN.mirror('|')",disabled:jt(bl)()},Rf,8,Pf)])]),os("span",Of,[os("button",{type:"button",class:"btn btn-secondary px-2",title:"All Black",onclick:"FEN.color(-1)",disabled:jt(bl)()},Mf,8,Tf),os("button",{type:"button",class:"btn btn-secondary px-2",title:"All Neutral",onclick:"FEN.color(0)",disabled:jt(bl)()},[jt(ll).board.blackWhite?(qa(),Qa(Ua,{key:1},[If,Ff],64)):(qa(),Qa("i",Vf))],8,Lf),os("button",{type:"button",class:"btn btn-secondary px-2",title:"All White",onclick:"FEN.color(1)",disabled:jt(bl)()},jf,8,Bf)]),os("span",Uf,[os("button",{type:"button",class:"btn btn-secondary",title:"Switch side",onclick:"FEN.invert(false)",disabled:jt(bl)()},[zf,ls(" "),Wf,ls(" "),$f],8,Df),os("button",{type:"button",class:"btn btn-secondary",title:"Switch case (including text)",onclick:"FEN.invert(true)",disabled:jt(bl)()},[ls(" A "),qf,ls(" a ")],8,Hf),jt(ll).board.SN?us("v-if",!0):(qa(),Qa("button",{key:0,type:"button",class:"btn btn-secondary",title:"Change all S to N when 'Use S for knight' mode is off",onclick:"FEN.fixSN()",disabled:jt(bl)()},[ls(" S "),Kf,ls(" N ")],8,Gf))])]),os("div",Yf,[os("span",Qf,[jt(ll).feature.janko?(qa(),Za(of,{key:0,factory:jt(gp).copyJanko,class:"btn-primary"},{default:Gn((()=>[ls("Create Janko URL")])),_:1},8,["factory"])):us("v-if",!0),jt(ul).envReady&&!jt(li).isTouch?(qa(),Za(of,{key:1,factory:jt(hc),class:"btn-primary"},{default:Gn((()=>[ls("Copy image")])),_:1},8,["factory"])):us("v-if",!0),as(of,{factory:jt(gp).copyUrl,class:"btn-primary"},{default:Gn((()=>[ls("Create image URL")])),_:1},8,["factory"])]),os("span",Zf,[jt(ul).envReady&&jt(li).canShare?(qa(),Qa("button",Jf,[Xf,ls(" Share image ")])):us("v-if",!0),eh])]),jt(ul).envReady&&jt(li).isTop?(qa(),Qa("div",th,[os("div",nh,[os("div",oh,[po(os("input",{class:"form-check-input",type:"checkbox",role:"switch",id:"sSplit","onUpdate:modelValue":t[0]||(t[0]=e=>jt(pl).split=e)},null,512),[[Mr,jt(pl).split]]),ah])])])):us("v-if",!0)],2))},rh=e=>(Hn("data-v-40e020bc"),e=e(),qn(),e),ih={class:"w-passive-100"},lh={class:"row gx-3 mb-1"},ch=rh((()=>os("div",{class:"col mb-2",style:{"flex-basis":"15rem","flex-grow":"1000"}},[os("input",{type:"text",class:"form-control",placeholder:"Enter FEN here",id:"FEN",onchange:"FEN.update()"})],-1))),uh={class:"col ps-0 mb-2 text-end",style:{"white-space":"nowrap","flex-basis":"max-content"}},dh=["textContent"],ph={key:0,class:"btn-gap d-inline-block"},fh=rh((()=>os("button",{class:"btn btn-secondary",title:"Copy",onclick:"FEN.copy()"},[os("i",{class:"fa-solid fa-clipboard"})],-1))),hh=["disabled"],mh=[rh((()=>os("i",{class:"fa-solid fa-paste"},null,-1)))],gh={__name:"header",setup:e=>(e,t)=>(qa(),Qa("header",ih,[os("div",lh,[ch,os("div",uh,[os("label",{class:"col-form-label pe-2",textContent:ce(jt(ul).pieceCount)},null,8,dh),jt(ul).envReady&&jt(li).canCopy?(qa(),Qa("div",ph,[fh,jt(li).canPaste?(qa(),Qa("button",{key:0,class:"btn btn-secondary",disabled:jt(bl)(),title:"Paste",onclick:"FEN.paste()"},mh,8,hh)):us("v-if",!0)])):us("v-if",!0)])])]))},yh=e=>(Hn("data-v-66d0a481"),e=e(),qn(),e),bh={class:"text-center"},vh={class:"d-inline-block",style:{overflow:"hidden"}},wh={id:"Zone",class:"d-inline-flex justify-content-center text-center collapse flex-wrap-reverse"},kh={id:"EditZone",class:"flex-grow-0 pb-4"},xh={class:"d-inline-block position-relative"},_h=yh((()=>os("canvas",{id:"SN"},null,-1))),Ch={id:"Squares"},Sh={class:"play-mask"},Eh={id:"DragZone",class:"flex-grow-0 pb-4"},Ah={class:"position-relative d-inline-block",style:{"line-height":"0"}},Nh=yh((()=>os("canvas",{id:"CN"},null,-1))),Ph=[yh((()=>os("div",{class:"h-100 d-flex align-items-center justify-content-center"},[os("i",{class:"display-1 fa-solid fa-spinner fa-spin"})],-1)))],Rh=yh((()=>os("img",{id:"PV"},null,-1))),Oh={id:"TP",class:"ms-4"},Th={__name:"zone",setup:e=>(e,t)=>(qa(),Qa("div",bh,[os("div",vh,[os("div",wh,[os("div",kh,[os("div",xh,[_h,os("div",Ch,[po(os("div",Sh,null,512),[[dr,jt(bl)()]])])])]),os("div",Eh,[os("div",Ah,[Nh,os("div",{class:Q(["loader",{show:jt(ul).loading}])},Ph,2),Rh]),po(os("canvas",Oh,null,512),[[dr,!(ul.hor&&pl.popeye.playing)]])])])])]))},Mh={},Lh=e=>(Hn("data-v-8344e8a0"),e=e(),qn(),e),Vh={class:"mb-4 row small"},Ih=[Lh((()=>os("div",{class:"col flex-grow-1",style:{"flex-basis":"max-content"}},[ls(" For more information and API, see "),os("a",{href:"https://github.com/MuTsunTsai/fen-tool",target:"_blank"},"README"),ls(". ")],-1))),Lh((()=>os("div",{class:"col-auto text-end"},"Copyright © 2023-2024 Mu-Tsun Tsai",-1)))];Mh.render=function(e,t){return qa(),Qa("footer",Vh,Ih)};var Fh=Mh,Bh={class:"form-check"},jh=["checked","disabled"],Uh=Eo({__name:"checkbox",props:{modelValue:{type:Boolean},disabled:{type:Boolean}},emits:["update:modelValue","change"],setup(e){const t="chk"+ws().uid;return(e,n)=>(qa(),Qa("div",Bh,[os("input",{type:"checkbox",class:"form-check-input",id:t,checked:e.modelValue,onChange:n[0]||(n[0]=t=>{e.$emit("update:modelValue",!e.modelValue),e.$emit("change")}),disabled:e.disabled},null,40,jh),os("label",{class:"form-check-label",for:t},[Mo(e.$slots,"default")])]))}}),Dh=e=>(Hn("data-v-b4d339fc"),e=e(),qn(),e),zh={class:"input-group"},Wh=["disabled"],$h=[Dh((()=>os("i",{class:"fa-solid fa-minus"},null,-1)))],Hh=["title","value"],qh=["disabled"],Gh=[Dh((()=>os("i",{class:"fa-solid fa-plus"},null,-1)))],Kh=Eo({__name:"inputNumber",props:{title:{},min:{},max:{},modelValue:{}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,o=t;function a(e){o("update:modelValue",n.modelValue+e)}return(e,t)=>(qa(),Qa("div",zh,[os("button",{class:"btn btn-secondary px-2",disabled:n.modelValue<=n.min,type:"button",onClick:t[0]||(t[0]=e=>a(-1))},$h,8,Wh),os("input",{type:"number",class:"form-control text-center px-0",min:"1",title:e.title,value:n.modelValue,onChange:t[1]||(t[1]=e=>function(e){const t=e.target,a=n.modelValue,s=Math.round(Number(t.value));isNaN(s)||s<n.min||s>n.max?t.value=a.toString():o("update:modelValue",s)}(e)),onfocus:"this.select()"},null,40,Hh),os("button",{class:"btn btn-secondary px-2",disabled:n.modelValue>=n.max,type:"button",onClick:t[2]||(t[2]=e=>a(1))},Gh,8,qh)]))}}),Yh=e=>(Hn("data-v-8bb11e4e"),e=e(),qn(),e),Qh={class:"row mb-2"},Zh={class:"col flex-grow-1",style:{"flex-basis":"18rem"}},Jh={class:"row gx-3 mb-2"},Xh=Yh((()=>os("label",{class:"col-auto col-form-label"},"Chess set:",-1))),em={class:"col"},tm=[cs('<option value="1echecs" data-v-8bb11e4e>1Echecs</option><option value="alpha" data-v-8bb11e4e>Alpha</option><option value="goodCompanion" data-v-8bb11e4e>Good Companion</option><option value="kilfiger" data-v-8bb11e4e>Kilfiger</option><option value="merida" data-v-8bb11e4e>Merida</option><option value="mpchess" data-v-8bb11e4e>MPChess</option><option value="skak" data-v-8bb11e4e>Skak</option>',7)],nm={class:"row gx-3 mb-2"},om=Yh((()=>os("label",{class:"col-auto col-form-label"},"Square size:",-1))),am={class:"col"},sm=[Yh((()=>os("option",{value:"26"},"26px",-1))),Yh((()=>os("option",{value:"32"},"32px",-1))),Yh((()=>os("option",{value:"38"},"38px",-1))),Yh((()=>os("option",{value:"44"},"44px",-1)))],rm={class:"row gx-3 mb-2"},im=Yh((()=>os("label",{class:"col-auto col-form-label"},"Background:",-1))),lm={class:"col"},cm=[Yh((()=>os("option",{value:void 0},"Default",-1))),Yh((()=>os("option",{value:"gray"},"Gray",-1))),Yh((()=>os("option",{value:"green"},"Green",-1))),Yh((()=>os("option",{value:"classic"},"Classic",-1)))],um={class:"row gx-3 mb-2"},dm=Yh((()=>os("label",{class:"col-auto col-form-label"},"Board pattern:",-1))),pm={class:"col"},fm=[Yh((()=>os("option",{value:void 0},"Normal",-1))),Yh((()=>os("option",{value:"inverted"},"Inverted",-1))),Yh((()=>os("option",{value:"mono"},"Uncolored",-1)))],hm={class:"col flex-grow-1 mb-2",style:{"flex-basis":"22rem"}},mm={class:"row gx-3"},gm={class:"col mb-2",style:{"flex-basis":"14rem","flex-grow":"10000"}},ym={class:"row gx-3"},bm={class:"col"},vm=Yh((()=>os("label",{class:"col-auto col-form-label"},"x",-1))),wm={class:"col"},km=Yh((()=>os("div",{class:"col mb-2 text-end"},[os("button",{type:"button",class:"btn btn-secondary",onclick:"Layout.setDimension({w:8,h:8})"},"Reset")],-1))),xm={class:"row gx-3 mb-2"},_m=Yh((()=>os("label",{class:"col-auto col-form-label"},"Border pattern:",-1))),Cm={class:"col"},Sm=["value"],Em={class:"row align-items-center"},Am=Yh((()=>os("label",{class:"col-auto col-form-label"},"Knight offset:",-1))),Nm={class:"col"},Pm=Eo({__name:"options",setup(e){function t(){cc({},!0)}return(e,n)=>(qa(),Qa("section",{class:Q({show:1==jt(pl).tab})},[os("div",Qh,[os("div",Zh,[os("div",Jh,[Xh,os("div",em,[po(os("select",{class:"form-select","onUpdate:modelValue":n[0]||(n[0]=e=>jt(ll).board.set=e),onchange:"Layout.setOption({set:this.value})"},tm,512),[[Vr,jt(ll).board.set]])])]),os("div",nm,[om,os("div",am,[po(os("select",{class:"form-select","onUpdate:modelValue":n[1]||(n[1]=e=>jt(ll).board.size=e),onchange:"Layout.setOption({size:Number(this.value)})"},sm,512),[[Vr,jt(ll).board.size,void 0,{number:!0}]])])]),as(Uh,{class:"mb-2",modelValue:jt(ll).board.exHigh,"onUpdate:modelValue":n[2]||(n[2]=e=>jt(ll).board.exHigh=e),onChange:jt(ac)},{default:Gn((()=>[ls("Export to high-resolution image")])),_:1},8,["modelValue","onChange"]),os("div",rm,[im,os("div",lm,[po(os("select",{class:"form-select","onUpdate:modelValue":n[3]||(n[3]=e=>jt(ll).board.bg=e),onChange:n[4]||(n[4]=(...e)=>jt(nc)&&jt(nc)(...e))},cm,544),[[Vr,jt(ll).board.bg]])])]),os("div",um,[dm,os("div",pm,[po(os("select",{class:"form-select","onUpdate:modelValue":n[5]||(n[5]=e=>jt(ll).board.pattern=e),onChange:n[6]||(n[6]=(...e)=>jt(nc)&&jt(nc)(...e))},fm,544),[[Vr,jt(ll).board.pattern]])])])]),os("div",hm,[os("div",mm,[os("div",gm,[os("div",ym,[os("div",bm,[as(Kh,{modelValue:jt(fc).width,"onUpdate:modelValue":n[7]||(n[7]=e=>jt(fc).width=e),min:1,title:"Files"},null,8,["modelValue"])]),vm,os("div",wm,[as(Kh,{modelValue:jt(fc).height,"onUpdate:modelValue":n[8]||(n[8]=e=>jt(fc).height=e),min:1,title:"Ranks"},null,8,["modelValue"])])])]),km]),os("div",xm,[_m,os("div",Cm,[os("input",{type:"text",placeholder:"Use comma-separated numbers",title:"Use comma-separated numbers",class:"form-control",value:jt(ll).board.border,onchange:"Layout.setBorder(this)"},null,8,Sm)])]),as(Uh,{modelValue:jt(ll).board.SN,"onUpdate:modelValue":n[9]||(n[9]=e=>jt(ll).board.SN=e),onChange:jt(Uc)},{default:Gn((()=>[ls("Use S for knight")])),_:1},8,["modelValue","onChange"]),as(Uh,{modelValue:jt(ll).board.blackWhite,"onUpdate:modelValue":n[10]||(n[10]=e=>jt(ll).board.blackWhite=e),onChange:jt(oc)},{default:Gn((()=>[ls("Black/White neutral piece")])),_:1},8,["modelValue","onChange"]),po(os("div",Em,[Am,os("div",Nm,[po(os("input",{type:"range",class:"form-range",min:"0.25",max:"0.75",step:"0.025","onUpdate:modelValue":n[11]||(n[11]=e=>jt(ll).board.knightOffset=e),onInput:n[12]||(n[12]=(...e)=>jt(oc)&&jt(oc)(...e))},null,544),[[Tr,jt(ll).board.knightOffset,void 0,{number:!0}]])])],512),[[dr,jt(ll).board.blackWhite]]),as(Uh,{modelValue:jt(ll).board.collapse,"onUpdate:modelValue":n[13]||(n[13]=e=>jt(ll).board.collapse=e),onChange:jt(dc)},{default:Gn((()=>[ls("Always collapse boards")])),_:1},8,["modelValue","onChange"]),as(Uh,{modelValue:jt(ll).board.coordinates,"onUpdate:modelValue":n[14]||(n[14]=e=>jt(ll).board.coordinates=e),onChange:t},{default:Gn((()=>[ls("Show coordinate labels")])),_:1},8,["modelValue"]),as(Uh,{modelValue:jt(ll).board.fullFEN,"onUpdate:modelValue":n[15]||(n[15]=e=>jt(ll).board.fullFEN=e),onChange:jt(Lc)},{default:Gn((()=>[ls("Show full FEN")])),_:1},8,["modelValue","onChange"])])])],2))}}),Rm={class:"me-3"},Om={class:"form-check d-inline-block me-3"},Tm=["checked","disabled","onChange","id"],Mm=["for","textContent"],Lm=Eo({__name:"radio",props:{label:{},text:{},value:{},modelValue:{},disabled:{type:Boolean}},emits:["update:modelValue"],setup(e,{emit:t}){const n=e,o=t,a="rdo"+ws().uid;function s(e){return n.modelValue===n.value[e]}return(e,t)=>(qa(),Qa(Ua,null,[os("span",Rm,ce(e.label),1),(qa(!0),Qa(Ua,null,To(e.text,((t,r)=>(qa(),Qa("div",Om,[os("input",{class:"form-check-input",type:"radio",checked:s(r),disabled:e.disabled,onChange:e=>function(e){o("update:modelValue",n.value[e])}(r),name:a,id:a+"_"+r},null,40,Tm),os("label",{class:"form-check-label",for:a+"_"+r,textContent:ce(t)},null,8,Mm)])))),256))],64))}}),Vm=e=>(Hn("data-v-b785efee"),e=e(),qn(),e),Im={key:0},Fm={class:"mb-3"},Bm={class:"btn-gap"},jm=["disabled"],Um=[Vm((()=>os("i",{class:"fa-solid fa-angles-left fa-fw"},null,-1)))],Dm=["disabled"],zm=[Vm((()=>os("i",{class:"fa-solid fa-angle-left fa-fw"},null,-1)))],Wm=["disabled"],$m=[Vm((()=>os("i",{class:"fa-solid fa-angle-right fa-fw"},null,-1)))],Hm=["disabled"],qm=[Vm((()=>os("i",{class:"fa-solid fa-angles-right fa-fw"},null,-1)))],Gm={key:0,class:"btn-gap"},Km={key:0},Ym={key:0},Qm={key:1},Zm={key:1,class:"ms-2"},Jm={key:2,class:"ms-2"},Xm=["onClick"],eg={key:0},tg={key:1},ng={class:"btn-gap"},og=Vm((()=>os("i",{class:"fa-solid fa-paste"},null,-1))),ag={class:"mt-2"},sg=Vm((()=>os("span",{class:"me-3"},"Symbol:",-1))),rg={class:"form-check d-inline-block me-3"},ig=["checked"],lg=Vm((()=>os("label",{class:"form-check-label",for:"sEng"}," English ",-1))),cg={class:"form-check d-inline-block me-3"},ug=["checked"],dg=Vm((()=>os("label",{class:"form-check-label",for:"sGer"}," German ",-1))),pg={class:"form-check d-inline-block"},fg=["checked"],hg=Vm((()=>os("label",{class:"form-check-label",for:"sUni"}," Unicode ",-1))),mg={key:0,class:"mt-2"},gg={class:"mt-2"},yg={key:1,class:"mt-2"},bg={class:"btn-gap"},vg=["disabled"],wg=["disabled"],kg=Vm((()=>os("i",{class:"fa-solid fa-flag-checkered"},null,-1))),xg=["disabled"],_g=Vm((()=>os("i",{class:"fa-solid fa-paste"},null,-1))),Cg={class:"mt-2 gx-3 row"},Sg={class:"col flex-grow-1",style:{"flex-basis":"22rem"}},Eg={class:"d-flex align-items-center flex-wrap-reverse mb-2"},Ag={class:"flex-grow-1 col-form-label",style:{"flex-basis":"max-content"}},Ng={class:"flex-grow-1",style:{"flex-basis":"max-content"}},Pg={class:"row gx-3"},Rg=Vm((()=>os("label",{class:"col-auto col-form-label"},"Mode:",-1))),Og={class:"col"},Tg=[Vm((()=>os("option",{value:"normal"},"Normal",-1))),Vm((()=>os("option",{value:"pass"},"Allow passing move",-1))),Vm((()=>os("option",{value:"retro"},"Retro",-1)))],Mg={class:"mb-2"},Lg={class:"d-inline-block"},Vg={class:"d-inline-block"},Ig={class:"col flex-grow-1",style:{"flex-basis":"22rem"}},Fg={class:"row gx-3 mb-2"},Bg=Vm((()=>os("label",{class:"col-auto col-form-label"},"En passant square: ",-1))),jg={class:"col"},Ug=["disabled"],Dg={class:"row gx-3"},zg={class:"col mb-2",style:{"flex-basis":"10.5rem"}},Wg={class:"row gx-3"},$g=Vm((()=>os("label",{class:"col-auto col-form-label"},"Half moves: ",-1))),Hg={class:"col"},qg=["disabled"],Gg={class:"col mb-2",style:{"flex-basis":"10.5rem"}},Kg={class:"row gx-3"},Yg=Vm((()=>os("label",{class:"col-auto col-form-label"},"Full moves: ",-1))),Qg={class:"col"},Zg=["disabled"],Jg={class:"text-end"},Xg=Eo({__name:"play",setup(e){const t=()=>"retro"==pl.play.mode;return(e,n)=>(qa(),Qa("section",{class:Q({show:6==jt(pl).tab})},[jt(pl).play.playing?(qa(),Qa("div",Im,[os("div",Fm,[os("span",Bm,[os("button",{type:"button",class:"py-0 btn btn-secondary",onClick:n[0]||(n[0]=e=>jt(du).move(-1)),disabled:jt(pl).play.moveNumber<0},Um,8,jm),os("button",{type:"button",class:"py-0 btn btn-secondary",onClick:n[1]||(n[1]=e=>jt(du).moveBy(-1)),disabled:jt(pl).play.moveNumber<0},zm,8,Dm),os("button",{type:"button",class:"py-0 btn btn-secondary",onClick:n[2]||(n[2]=e=>jt(du).moveBy(1)),disabled:jt(pl).play.moveNumber>=jt(pl).play.history.length-1},$m,8,Wm),os("button",{type:"button",class:"py-0 btn btn-secondary",onClick:n[3]||(n[3]=e=>jt(du).move(jt(pl).play.history.length-1)),disabled:jt(pl).play.moveNumber>=jt(pl).play.history.length-1},qm,8,Hm)]),os("span",null,[os("span",{class:Q(["btn step px-1 py-0 ms-3",{active:-1==jt(pl).play.moveNumber}]),onClick:n[4]||(n[4]=e=>jt(du).goto())},"*",2)]),jt(ul).module.chess?(qa(),Qa("span",Gm,[(qa(!0),Qa(Ua,null,To(jt(pl).play.history,((e,t)=>(qa(),Qa("span",null,[jt(pl).play.history[t-1]&&jt(pl).play.history[t-1].color==e.color?(qa(),Qa("span",Km,["w"==e.color?(qa(),Qa("span",Ym," ... ")):(qa(),Qa("span",Qm,ce(jt(du).number(e))+"...",1))])):us("v-if",!0),"b"==e.color&&0==t?(qa(),Qa("span",Zm,ce(jt(du).number(e))+"...",1)):us("v-if",!0),"w"==e.color?(qa(),Qa("span",Jm,ce(jt(du).number(e))+".",1)):us("v-if",!0),os("span",{class:Q(["btn step px-1 py-0",{active:t==jt(pl).play.moveNumber}]),onClick:e=>jt(du).move(t)},ce(jt(du).format(e)),11,Xm)])))),256)),"retro"!=jt(pl).play.mode&&1==jt(pl).play.over?(qa(),Qa("span",eg,"Checkmate.")):us("v-if",!0),"retro"!=jt(pl).play.mode&&2==jt(pl).play.over?(qa(),Qa("span",tg,"Draw.")):us("v-if",!0)])):us("v-if",!0)]),os("div",ng,[os("button",{class:"btn btn-secondary",onClick:n[5]||(n[5]=(...e)=>jt(du).exit&&jt(du).exit(...e))}," Exit playing "),as(of,{factory:jt(du).copyGame,class:"btn-primary"},{default:Gn((()=>[ls(" Copy game ")])),_:1},8,["factory"]),as(of,{factory:jt(du).copyPGN,class:"btn-primary"},{default:Gn((()=>[ls(" Copy PGN ")])),_:1},8,["factory"]),jt(li).canPaste?(qa(),Qa("button",{key:0,class:"btn btn-secondary",onClick:n[6]||(n[6]=(...e)=>jt(du).pasteMoves&&jt(du).pasteMoves(...e))},[og,ls(" Paste moves ")])):us("v-if",!0)]),os("div",ag,[sg,os("div",rg,[os("input",{class:"form-check-input",type:"radio",checked:null==jt(ll).PLAY.symbol,onChange:n[7]||(n[7]=e=>jt(ll).PLAY.symbol=null),name:"SYM",id:"sEng"},null,40,ig),lg]),os("div",cg,[os("input",{class:"form-check-input",type:"radio",checked:"german"==jt(ll).PLAY.symbol,onChange:n[8]||(n[8]=e=>jt(ll).PLAY.symbol="german"),name:"SYM",id:"sGer"},null,40,ug),dg]),os("div",pg,[os("input",{class:"form-check-input",type:"radio",checked:"unicode"==jt(ll).PLAY.symbol,onChange:n[9]||(n[9]=e=>jt(ll).PLAY.symbol="unicode"),name:"SYM",id:"sUni"},null,40,fg),hg])]),t()?us("v-if",!0):(qa(),Qa("div",mg,[as(Uh,{modelValue:jt(du).ep,"onUpdate:modelValue":n[10]||(n[10]=e=>jt(du).ep=e)},{default:Gn((()=>[ls("Add ep to en passant moves")])),_:1},8,["modelValue"])])),os("div",gg,[as(Uh,{modelValue:jt(du).zero,"onUpdate:modelValue":n[11]||(n[11]=e=>jt(du).zero=e)},{default:Gn((()=>[ls("Use number 0 for castling notation")])),_:1},8,["modelValue"])]),t()?(qa(),Qa("div",yg,[as(Uh,{modelValue:jt(du).negative,"onUpdate:modelValue":n[12]||(n[12]=e=>jt(du).negative=e)},{default:Gn((()=>[ls("Use negative numbers in retro mode")])),_:1},8,["modelValue"])])):us("v-if",!0)])):(qa(),Qa(Ua,{key:1},[os("div",bg,[os("button",{class:"btn btn-primary",onClick:n[13]||(n[13]=(...e)=>jt(du).start&&jt(du).start(...e)),disabled:jt(pl).popeye.playing},"Start playing",8,vg),os("button",{type:"button",class:"btn btn-secondary",onclick:"FEN.reset()",onClick:n[14]||(n[14]=(...e)=>jt(du).reset&&jt(du).reset(...e)),disabled:jt(pl).popeye.playing},[kg,ls("  Starting position ")],8,wg),os("button",{class:"btn btn-secondary",onClick:n[15]||(n[15]=(...e)=>jt(du).pasteGame&&jt(du).pasteGame(...e)),disabled:jt(pl).popeye.playing},[_g,ls(" Paste PGN ")],8,xg)]),os("div",Cg,[os("div",Sg,[os("div",Eg,[os("div",Ag,[as(Lm,{modelValue:jt(pl).play.turn,"onUpdate:modelValue":n[16]||(n[16]=e=>jt(pl).play.turn=e),label:"Turn:",text:["White","Black"],value:["w","b"],disabled:"pass"==jt(pl).play.mode},null,8,["modelValue","disabled"])]),os("div",Ng,[os("div",Pg,[Rg,os("div",Og,[po(os("select",{class:"form-select","onUpdate:modelValue":n[17]||(n[17]=e=>jt(pl).play.mode=e),onChange:n[18]||(n[18]=(...e)=>jt(nc)&&jt(nc)(...e))},Tg,544),[[Vr,jt(pl).play.mode]])])])])]),os("div",Mg,[ls(" Castling: "),os("span",Lg,[as(Uh,{class:"ms-2 d-inline-block",modelValue:jt(pl).play.castle.K,"onUpdate:modelValue":n[19]||(n[19]=e=>jt(pl).play.castle.K=e),disabled:t()},{default:Gn((()=>[ls("WK")])),_:1},8,["modelValue","disabled"]),as(Uh,{class:"ms-2 d-inline-block",modelValue:jt(pl).play.castle.Q,"onUpdate:modelValue":n[20]||(n[20]=e=>jt(pl).play.castle.Q=e),disabled:t()},{default:Gn((()=>[ls("WQ")])),_:1},8,["modelValue","disabled"])]),os("span",Vg,[as(Uh,{class:"ms-2 d-inline-block",modelValue:jt(pl).play.castle.k,"onUpdate:modelValue":n[21]||(n[21]=e=>jt(pl).play.castle.k=e),disabled:t()},{default:Gn((()=>[ls("BK")])),_:1},8,["modelValue","disabled"]),as(Uh,{class:"ms-2 d-inline-block",modelValue:jt(pl).play.castle.q,"onUpdate:modelValue":n[22]||(n[22]=e=>jt(pl).play.castle.q=e),disabled:t()},{default:Gn((()=>[ls("BQ")])),_:1},8,["modelValue","disabled"])])])]),os("div",Ig,[os("div",Fg,[Bg,os("div",jg,[po(os("input",{type:"text",class:"form-control",maxlength:"2","onUpdate:modelValue":n[23]||(n[23]=e=>jt(pl).play.enPassant=e),disabled:"retro"==jt(pl).play.mode},null,8,Ug),[[Tr,jt(pl).play.enPassant]])])]),os("div",Dg,[os("div",zg,[os("div",Wg,[$g,os("div",Hg,[po(os("input",{type:"number",class:"form-control",min:"0","onUpdate:modelValue":n[24]||(n[24]=e=>jt(pl).play.halfMove=e),disabled:"retro"==jt(pl).play.mode},null,8,qg),[[Tr,jt(pl).play.halfMove,void 0,{number:!0}]])])])]),os("div",Gg,[os("div",Kg,[Yg,os("div",Qg,[po(os("input",{type:"number",class:"form-control",min:"1","onUpdate:modelValue":n[25]||(n[25]=e=>jt(pl).play.fullMove=e),disabled:"retro"==jt(pl).play.mode},null,8,Zg),[[Tr,jt(pl).play.fullMove,void 0,{number:!0}]])])])])]),os("div",Jg,[os("button",{class:"btn btn-secondary",onClick:n[26]||(n[26]=(...e)=>jt(du).reset&&jt(du).reset(...e))},"Reset settings")])])])],64))],2))}}),ey={copyFEN(){gtag("event","fen_yacpdb_copyFEN");const{w:e,h:t}=ll.board;return Ci(vc.map((e=>Ei(e.value))),e,t)},async fetch(e){try{gtag("event","fen_yacpdb_get"),e.disabled=!0,e.value="Fetching...";const t="https://yacpdb.org/gateway/ql?q="+encodeURIComponent("Id('".concat(ni.value,"')")),n=await fetch("https://corsproxy.io/?"+encodeURIComponent(t)),o=await n.json();if(o.success){let e=function(e){const o=e.charCodeAt(1)-97,a=Number(e[2]);s[(n-a)*t+o]=e[0]};const{w:t,h:n}=ll.board,a=o.result.entries[0].algebraic,s=Oi(t*n);for(const t of a.black)e(t.toLowerCase());for(const t of a.white)e(t);Pc(Ci(s),t)}}catch{alert("An error has occurred. Please try again later.")}finally{e.disabled=!1,e.value="Get FEN"}},search(){gtag("event","fen_yacpdb_search"),window.open("https://yacpdb.org/#q/"+encodeURIComponent(ty())+"/1")},copyQuery:()=>(gtag("event","fen_yacpdb_copy"),ty()),copyEdit:()=>(gtag("event","fen_yacpdb_copyEdit"),function(){const e={w:[],b:[],n:[]},{w:t,h:n}=ll.board;for(let o=0;o<n;o++)for(let n=0;n<t;n++){const a=vc[o*t+n].value,s=a.match(/^(-?)([kqbsnrp])$/i);if(!s)continue;const r=Ai(s[2],!1,!0).toUpperCase();e[s[1]?"n":a==a.toLowerCase()?"b":"w"].push(r+Ni(o,n))}let o=[];e.w.length&&o.push("    white: [".concat(e.w.join(", "),"]"));e.b.length&&o.push("    black: [".concat(e.b.join(", "),"]"));e.n.length&&o.push("    neutral: [".concat(e.n.join(", "),"]"));return o.join("\n")}())};function ty(){let e=[];const{w:t,h:n}=ll.board;for(let o=0;o<n;o++)for(let n=0;n<t;n++){let a=Ei(vc[o*t+n].value).replace("(","").replace(")","");a&&(a.match(/\d/)||(a=a.startsWith("!")?"n"+a.toUpperCase():(a==a.toLowerCase()?"b":"w")+a.toUpperCase(),e.push(a+Ni(o,n))))}let o='MatrixExtended("'.concat(e.join(" "),'", false, false, "None")');return ll.DB.exact&&(o+=" AND PCount(*) = "+e.length),o}var ny={async fetch(e){try{gtag("event","fen_pdb_get"),e.disabled=!0,e.value="Fetching...";const t=oy+encodeURIComponent("PROBID='".concat(ni.value,"'")),n=await fetch("https://corsproxy.io/?"+encodeURIComponent(t));Pc((await n.text()).match(/<b>FEN:<\/b> (.+)/)[1],!0)}catch{alert("An error has occurred. Please try again later.")}finally{e.disabled=!1,e.value="Get FEN"}},search(){gtag("event","fen_pdb_search"),window.open(oy+encodeURIComponent(ry()))},copyQuery:()=>(gtag("event","fen_pdb_copy"),ry()),copyEdit:()=>(gtag("event","fen_pdb_copyEdit"),function(){const e={},{w:t,h:n}=ll.board;for(let o=0;o<n;o++)for(let n=0;n<t;n++){const a=vc[o*t+n].value,s=a.match(/^(-?)(?:\*(\d))?([kqbsnrpxc])$/i);if(!s)continue;let r;if("x"==s[3])r="sY";else{const e=ay[Sl.indexOf(s[3].toLowerCase().replace("s","n"))];r=(s[1]?"n":a==a.toLowerCase()?"s":"w")+e+sy[Number(s[2]||0)]}e[r]=(e[r]||"")+Ni(o,n)}const o=[];for(const t in e)o.push(t+e[t]);return o.join(" ")}())},oy="https://pdb.dieschwalbe.de/search.jsp?expression=",ay=["K","D","L","S","T","B","I"],sy=["","R","U","L"];function ry(){let e=[];const{w:t,h:n}=ll.board;for(let o=0;o<n;o++)for(let n=0;n<t;n++){const a=vc[o*t+n].value;if(!a.match(/^[kqbsnrp]$/i))continue;const s=ay[Sl.indexOf(a.toLowerCase().replace("s","n"))],r=a==a.toLowerCase()?"s":"w";e.push(r+s+Ni(o,n))}let o="POSITION='".concat(e.join(" "),"'");return ll.DB.exact&&(o+=" AND APIECES=".concat(e.length)),o}var iy=e=>(Hn("data-v-313ea760"),e=e(),qn(),e),ly={class:"row gx-3 mb-2 align-items-center"},cy=iy((()=>os("label",{class:"col-auto col-form-label"},"Use database: ",-1))),uy={class:"col"},dy={class:"form-check d-inline-block me-3"},py=["checked"],fy=iy((()=>os("label",{class:"form-check-label",for:"rPDB"}," PDB ",-1))),hy={class:"form-check d-inline-block"},my=["checked"],gy=iy((()=>os("label",{class:"form-check-label",for:"rYACPDB"}," YACPDB ",-1))),yy={class:"mb-3 btn-gap"},by={class:"row gx-3 mb-3"},vy=iy((()=>os("label",{class:"col-auto col-form-label"},"Problem Id:",-1))),wy={class:"col"},ky=["readonly"],xy={class:"col-auto"},_y=["disabled"],Cy={class:"row align-items-center flex-wrap"},Sy={class:"col-auto mb-2"},Ey={class:"col text-end btn-gap",style:{"flex-basis":"24rem"}},Ay=iy((()=>os("i",{class:"fa-solid fa-magnifying-glass"},null,-1))),Ny=Eo({__name:"database",setup(e){const t=js((()=>"PDB"==ll.DB.use?ny:ey));return(e,n)=>(qa(),Qa("section",{class:Q({show:2==jt(pl).tab})},[os("div",ly,[cy,os("div",uy,[os("div",dy,[os("input",{class:"form-check-input",type:"radio",checked:"PDB"==jt(ll).DB.use,onChange:n[0]||(n[0]=e=>jt(ll).DB.use="PDB"),name:"DB",id:"rPDB"},null,40,py),fy]),os("div",hy,[os("input",{class:"form-check-input",type:"radio",checked:"YACPDB"==jt(ll).DB.use,onChange:n[1]||(n[1]=e=>jt(ll).DB.use="YACPDB"),name:"DB",id:"rYACPDB"},null,40,my),gy])])]),os("div",yy,[as(of,{factory:t.value.copyEdit,class:"btn-primary"},{default:Gn((()=>[ls(" Copy board edit syntax ")])),_:1},8,["factory"]),"YACPDB"==jt(ll).DB.use?(qa(),Za(of,{key:0,factory:jt(ey).copyFEN,class:"btn-secondary"},{default:Gn((()=>[ls(" Copy YACPDB FEN ")])),_:1},8,["factory"])):us("v-if",!0)]),os("div",by,[vy,os("div",wy,[os("input",{type:"text",class:"form-control",id:"DB",readonly:jt(bl)()||void 0},null,8,ky)]),os("div",xy,[os("input",{type:"button",class:"btn btn-primary",value:"Get FEN",onClick:n[2]||(n[2]=e=>t.value.fetch(e.target)),disabled:jt(bl)()},null,8,_y)])]),os("div",Cy,[os("div",Sy,[as(Uh,{modelValue:t.value.exact,"onUpdate:modelValue":n[3]||(n[3]=e=>t.value.exact=e)},{default:Gn((()=>[ls("Search exactly these pieces")])),_:1},8,["modelValue"])]),os("div",Ey,[as(of,{factory:t.value.copyQuery,class:"btn-secondary"},{default:Gn((()=>[ls(" Copy search query ")])),_:1},8,["factory"]),os("button",{class:"btn btn-primary nowrap",onClick:n[4]||(n[4]=(...e)=>t.value.search&&t.value.search(...e))},[Ay,ls(" Search position ")])])])],2))}}),Py={add(){ll.project.push({fen:ti.value})},remove(e){ll.project.splice(e,1)}},Ry=e=>(Hn("data-v-d3170058"),e=e(),qn(),e),Oy=Ry((()=>os("div",{class:"btn-gap"},[os("button",{class:"btn btn-secondary"}," New project "),os("button",{class:"btn btn-secondary"}," Open project "),os("button",{class:"btn btn-secondary"}," Save project ")],-1))),Ty={key:0,class:"mt-3 thumbnail-container"},My=["fen","onClick"],Ly=["onClick"],Vy=[Ry((()=>os("div",{class:"text-center"},[os("i",{class:"fa-solid fa-plus h1"}),os("div",null,"Add position")],-1)))],Iy={__name:"project",setup:e=>(e,t)=>(qa(),Qa("section",{class:Q({show:8==jt(pl).tab})},[Oy,jt(ul).envReady?(qa(),Qa("div",Ty,[(qa(!0),Qa(Ua,null,To(jt(ll).project,((e,t)=>(qa(),Qa("div",{key:t,class:Q(["thumbnail-wrapper",{touch:jt(li).isTouch}])},[os("img",{fen:e.fen,onClick:t=>jt(Pc)(e.fen),class:"thumbnail"},null,8,My),os("i",{class:"fa-solid fa-circle-xmark text-danger",onClick:e=>jt(Py).remove(t)},null,8,Ly)],2)))),128)),os("div",{class:"thumbnail d-flex border align-items-center justify-content-center",title:"Add current position",onClick:t[0]||(t[0]=e=>jt(Py).add())},Vy)])):us("v-if",!0)],2))},Fy={async copy(){if(8!=ll.board.w||8!=ll.board.h)throw alert("只支援標準棋盤"),!0;gtag("event","fen_bbs_copy");return(await import("./modules/ptt.js")).generate(Mc(),up(),ni.value,ll.BBS,ll.board,li.isTouch)}},By={class:"row gx-3"},jy={class:"col flex-grow-1 mb-3",style:{"flex-basis":"max-content"}},Uy={class:"col flex-grow-1 text-end"},Dy=Eo({__name:"bbs",setup:e=>(e,t)=>jt(ul).envReady&&jt(li).isTaiwan?(qa(),Qa("section",{key:0,class:Q({show:4==jt(pl).tab})},[os("div",By,[os("div",jy,[as(Uh,{modelValue:jt(Fy).Id,"onUpdate:modelValue":t[0]||(t[0]=e=>jt(Fy).Id=e)},{default:Gn((()=>[ls("Include database Id")])),_:1},8,["modelValue"]),as(Uh,{modelValue:jt(Fy).coordinates,"onUpdate:modelValue":t[1]||(t[1]=e=>jt(Fy).coordinates=e)},{default:Gn((()=>[ls("Include Coordinates")])),_:1},8,["modelValue"]),as(Uh,{modelValue:jt(Fy).notes,"onUpdate:modelValue":t[2]||(t[2]=e=>jt(Fy).notes=e)},{default:Gn((()=>[ls("Include Notes")])),_:1},8,["modelValue"]),as(Uh,{modelValue:jt(Fy).uncoloredNotes,"onUpdate:modelValue":t[3]||(t[3]=e=>jt(Fy).uncoloredNotes=e)},{default:Gn((()=>[ls("Uncolored Note")])),_:1},8,["modelValue"]),as(Uh,{modelValue:jt(Fy).redBlue,"onUpdate:modelValue":t[4]||(t[4]=e=>jt(Fy).redBlue=e)},{default:Gn((()=>[ls("Use Red and Blue in BBS Code")])),_:1},8,["modelValue"])]),os("div",Uy,[as(of,{factory:jt(Fy).copy,class:"btn-primary"},{default:Gn((()=>[ls("Copy BBS Code")])),_:1},8,["factory"])])])],2)):us("v-if",!0)}),zy=e=>(Hn("data-v-5df1559a"),e=e(),qn(),e),Wy=["disabled"],$y={class:"mb-3 row gx-1"},Hy={class:"col"},qy={class:"w-passive-100"},Gy=["disabled"],Ky=zy((()=>os("i",{class:"fa-solid fa-pen-to-square"},null,-1))),Yy={class:"col-auto text-end"},Qy={class:"btn-gap"},Zy=["disabled"],Jy={key:1},Xy=["title"],eb=zy((()=>os("i",{class:"fa-solid fa-play"},null,-1))),tb=zy((()=>os("i",{class:"fa-solid fa-play"},null,-1))),nb=zy((()=>os("i",{class:"fa-solid fa-stop"},null,-1))),ob={key:0},ab={class:"mb-3 row"},sb={class:"col"},rb={class:"btn-gap"},ib={class:"col-auto text-end"},lb={key:1,class:"mb-3 row"},cb={class:"col"},ub={class:"btn-gap"},db=["disabled"],pb=[zy((()=>os("i",{class:"fa-solid fa-angles-left fa-fw"},null,-1)))],fb=["disabled"],hb=[zy((()=>os("i",{class:"fa-solid fa-angle-left fa-fw"},null,-1)))],mb=["disabled"],gb=[zy((()=>os("i",{class:"fa-solid fa-angle-right fa-fw"},null,-1)))],yb=["disabled"],bb=[zy((()=>os("i",{class:"fa-solid fa-angles-right fa-fw"},null,-1)))],vb={class:"col-auto text-end"},wb=["innerHTML"],kb=zy((()=>os("div",{class:"mt-2"},[os("a",{href:"https://github.com/thomas-maeder/popeye/blob/master/py-engl.txt",target:"_blank"}," Popeye documentation ")],-1))),xb={__name:"popeye",setup:e=>(e,t)=>po((qa(),Qa("div",null,[po(os("div",null,[po(os("textarea",{class:"form-control mb-2",rows:"5","onUpdate:modelValue":t[0]||(t[0]=e=>jt(pl).popeye.input=e),disabled:jt(pl).popeye.running,placeholder:"For example:\n=============\nStipulation #2\nOption Variation"},null,8,Wy),[[Tr,jt(pl).popeye.input]]),os("div",$y,[os("div",Hy,[os("div",qy,[os("button",{type:"button",class:"btn btn-secondary",onClick:t[1]||(t[1]=(...e)=>jt(Pd).editMap&&jt(Pd).editMap(...e)),disabled:jt(pl).popeye.running,style:{overflow:"hidden","white-space":"nowrap","text-overflow":"ellipsis","max-width":"100%"}},[Ky,ls(" Fairy piece mapping ")],8,Gy)])]),os("div",Yy,[os("div",Qy,[!jt(pl).popeye.running&&jt(pl).popeye.output?(qa(),Qa("button",{key:0,type:"button",class:"btn btn-secondary",onClick:t[2]||(t[2]=(...e)=>jt(Pd).play&&jt(Pd).play(...e)),disabled:jt(pl).popeye.error}," Play solution ",8,Zy)):us("v-if",!0),jt(pl).popeye.running?(qa(),Qa("button",{key:2,type:"button",class:"btn btn-secondary",onClick:t[4]||(t[4]=(...e)=>jt(Pd).cancel&&jt(Pd).cancel(...e))},[nb,ls(" Cancel ")])):(qa(),Qa("span",Jy,[jt(pl).play.playing||!jt(pl).popeye.input.trim()?(qa(),Qa("button",{key:0,type:"button",class:"btn btn-primary disabled",title:jt(pl).play.playing?"Need to exit play mode first":"Input instructions first"},[eb,ls(" Run ")],8,Xy)):(qa(),Qa("button",{key:1,type:"button",class:"btn btn-primary",onClick:t[3]||(t[3]=(...e)=>jt(Pd).run&&jt(Pd).run(...e)),title:"Run Popeye on your device!"},[tb,ls(" Run ")]))]))])])])],512),[[dr,!jt(pl).popeye.playing&&!jt(pl).popeye.editMap]]),!jt(pl).popeye.playing&&jt(pl).popeye.editMap?(qa(),Qa("div",ob,[po(os("textarea",{class:"form-control mb-2",rows:"5","onUpdate:modelValue":t[5]||(t[5]=e=>jt(pl).popeye.mapping=e),placeholder:"Use the format like *2Q=G for each line."},null,512),[[Tr,jt(pl).popeye.mapping]]),os("div",ab,[os("div",sb,[os("div",rb,[os("button",{type:"button",class:"btn btn-primary",onClick:t[6]||(t[6]=(...e)=>jt(Pd).saveMap&&jt(Pd).saveMap(...e))}," Save setting "),os("button",{type:"button",class:"btn btn-secondary",onClick:t[7]||(t[7]=e=>jt(pl).popeye.editMap=!1)}," Cancel ")])]),os("div",ib,[os("button",{type:"button",class:"btn btn-secondary",onClick:t[8]||(t[8]=(...e)=>jt(Pd).resetMap&&jt(Pd).resetMap(...e))}," Reset ")])])])):us("v-if",!0),jt(pl).popeye.playing?(qa(),Qa("div",lb,[os("div",cb,[os("div",ub,[os("button",{type:"button",class:"btn btn-secondary",onClick:t[9]||(t[9]=e=>jt(Pd).move(0)),disabled:jt(pl).popeye.index<=0},pb,8,db),os("button",{type:"button",class:"btn btn-secondary",onClick:t[10]||(t[10]=e=>jt(Pd).moveBy(-1)),disabled:jt(pl).popeye.index<=0},hb,8,fb),os("button",{type:"button",class:"btn btn-secondary",onClick:t[11]||(t[11]=e=>jt(Pd).moveBy(1)),disabled:jt(pl).popeye.index>=jt(pl).popeye.steps.length-1},gb,8,mb),os("button",{type:"button",class:"btn btn-secondary",onClick:t[12]||(t[12]=e=>jt(Pd).move(jt(pl).popeye.steps.length-1)),disabled:jt(pl).popeye.index>=jt(pl).popeye.steps.length-1},bb,8,yb)])]),os("div",vb,[os("button",{type:"button",class:"btn btn-secondary",onClick:t[13]||(t[13]=(...e)=>jt(Pd).exit&&jt(Pd).exit(...e))}," Exit playing ")])])):us("v-if",!0),po(os("div",{id:"Output",class:"form-control",innerHTML:jt(pl).popeye.output,onClick:t[14]||(t[14]=e=>jt(Pd).step(e))},null,8,wb),[[dr,jt(pl).popeye.output&&7==jt(pl).tab]]),kb],512)),[[dr,"py"==jt(pl).compute]])},_b=e=>(Hn("data-v-23281604"),e=e(),qn(),e),Cb={key:0},Sb=_b((()=>os("div",{class:"mb-3"},"To use this feature, we need to download Stockfish modules first.",-1))),Eb=_b((()=>os("i",{class:"fa-solid fa-download"},null,-1))),Ab={key:1,type:"button",class:"btn btn-primary",disabled:""},Nb=_b((()=>os("i",{class:"fa-solid fa-download"},null,-1))),Pb=_b((()=>os("i",{class:"fa-solid fa-spinner fa-spin"},null,-1))),Rb={key:1},Ob=[_b((()=>os("div",{class:"mb-3"},"Download complete. Please restart FEN Tool.",-1))),_b((()=>os("button",{type:"button",class:"btn btn-primary",onclick:"location.reload()"},[os("i",{class:"fa-solid fa-rotate-right"}),ls(" Restart FEN Tool now ")],-1)))],Tb={key:2},Mb={key:0,class:"row align-items-baseline"},Lb={class:"col",style:{"flex-basis":"12rem"}},Vb={class:"row gx-3 mb-2"},Ib=_b((()=>os("label",{class:"col-auto col-form-label"},"Depth:",-1))),Fb={class:"col"},Bb={class:"col",style:{"flex-basis":"11rem"}},jb={class:"row gx-3 mb-2"},Ub=_b((()=>os("label",{class:"col-auto col-form-label"},"Lines:",-1))),Db={class:"col"},zb={class:"col mb-2",style:{"flex-basis":"10rem"}},Wb={class:"btn-gap"},$b=_b((()=>os("i",{class:"fa-solid fa-play"},null,-1))),Hb={key:1,disabled:"",class:"btn btn-primary"},qb=_b((()=>os("i",{class:"fa-solid fa-play"},null,-1))),Gb=_b((()=>os("i",{class:"fa-solid fa-stop"},null,-1))),Kb={class:"mt-3"},Yb={key:0},Qb={key:0},Zb=_b((()=>os("i",{class:"fa-solid fa-spinner fa-spin ms-2"},null,-1))),Jb={key:1},Xb={key:2},ev={key:3},tv=_b((()=>os("br",null,null,-1))),nv=_b((()=>os("br",null,null,-1))),ov={class:"table"},av={class:"align-top"},sv={class:"nowrap"},rv={class:"mt-2"},iv=["onClick"],lv=[_b((()=>os("i",{class:"fa-solid fa-play"},null,-1)))],cv=["textContent"],uv=Eo({__name:"stockfish",setup:e=>(e,t)=>po((qa(),Qa("div",null,[jt(ul).stockfish.status<2?(qa(),Qa("div",Cb,[Sb,0==jt(ul).stockfish.status?(qa(),Qa("button",{key:0,type:"button",class:"btn btn-primary",onClick:t[0]||(t[0]=(...e)=>jt(Ap).download&&jt(Ap).download(...e))},[Eb,ls(" Download now! (39.5MB) ")])):(qa(),Qa("button",Ab,[Nb,ls(" Downloading... "),Pb]))])):2==jt(ul).stockfish.status?(qa(),Qa("div",Rb,Ob)):(qa(),Qa("div",Tb,[jt(ul).stockfish.running<2?(qa(),Qa("div",Mb,[os("div",Lb,[os("div",Vb,[Ib,os("div",Fb,[as(Kh,{modelValue:jt(ll).Stockfish.depth,"onUpdate:modelValue":t[1]||(t[1]=e=>jt(ll).Stockfish.depth=e),min:1,title:"Search depth"},null,8,["modelValue"])])])]),os("div",Bb,[os("div",jb,[Ub,os("div",Db,[as(Kh,{modelValue:jt(ll).Stockfish.lines,"onUpdate:modelValue":t[2]||(t[2]=e=>jt(ll).Stockfish.lines=e),min:1,title:"Number of lines to search"},null,8,["modelValue"])])])]),os("div",zb,[as(Uh,{modelValue:jt(Ap).study,"onUpdate:modelValue":t[3]||(t[3]=e=>jt(Ap).study=e),disabled:jt(ll).Stockfish.lines<=1},{default:Gn((()=>[ls("Study mode")])),_:1},8,["modelValue","disabled"])])])):us("v-if",!0),os("div",Wb,[jt(ul).stockfish.running?1==jt(ul).stockfish.running?(qa(),Qa("button",Hb,[qb,ls(" Initializing... ")])):(qa(),Qa("button",{key:2,type:"button",class:"btn btn-secondary",onClick:t[5]||(t[5]=(...e)=>jt(Ap).stop&&jt(Ap).stop(...e))},[Gb,ls(" Stop ")])):(qa(),Qa("button",{key:0,type:"button",class:"btn btn-primary",onClick:t[4]||(t[4]=(...e)=>jt(Ap).analyze&&jt(Ap).analyze(...e))},[$b,ls(" Analyze with Stockfish 16 ")]))]),os("div",Kb,[jt(pl).stockfish.depth?(qa(),Qa("div",Yb,[os("span",null,"Depth: "+ce(jt(pl).stockfish.depth),1),2==jt(ul).stockfish.running?(qa(),Qa("span",Qb,[ls(" /"+ce(jt(ll).Stockfish.depth)+" ",1),Zb])):us("v-if",!0)])):us("v-if",!0),jt(pl).stockfish.mate?(qa(),Qa("div",Jb,ce((jt(pl).stockfish.mate||"")[0])+" has mate in "+ce((jt(pl).stockfish.mate||"")[1])+". ",1)):jt(pl).stockfish.score?(qa(),Qa("div",Xb," Score: "+ce(jt(pl).stockfish.score),1)):us("v-if",!0),jt(pl).stockfish.header.length?(qa(),Qa("div",ev,[ls(" Solution is unique against best defense up to:"),tv,ls(" "+ce(jt(Ap).format(jt(pl).stockfish.header)),1),nv,ls(" And then: ")])):us("v-if",!0),os("table",ov,[os("tbody",null,[(qa(!0),Qa(Ua,null,To(jt(pl).stockfish.lines.filter((e=>e&&e.moves.length)),(e=>(qa(),Qa("tr",{key:e.pgn},[os("td",av,[os("div",sv,ce(e.score),1),os("div",rv,[os("button",{type:"button",class:"btn btn-primary px-2 py-0 m-0",title:"Play this line",onClick:t=>jt(Ap).play(e)},lv,8,iv)])]),os("td",{class:"align-top w-100",textContent:ce(jt(Ap).format(e.moves))},null,8,cv)])))),128))])])])]))],512)),[[dr,"sf"==jt(pl).compute]])}),dv=e=>(Hn("data-v-18a4fbb1"),e=e(),qn(),e),pv={class:"mb-3"},fv=dv((()=>os("i",{class:"fa-solid fa-play"},null,-1))),hv=dv((()=>os("i",{class:"fa-solid fa-stop"},null,-1))),mv=["innerHTML"],gv={key:1,class:"mt-3 table"},yv={class:"align-top py-1"},bv=["onClick"],vv=[dv((()=>os("i",{class:"fa-solid fa-play"},null,-1)))],wv={key:0,class:"fa-solid fa-spinner fa-spin ms-2"},kv={__name:"syzygy",setup:e=>(e,t)=>po((qa(),Qa("div",null,[os("div",pv,[jt(ul).syzygy.running?(qa(),Qa("button",{key:1,class:"btn btn-secondary me-3",onClick:t[1]||(t[1]=(...e)=>jt(Ip).stop&&jt(Ip).stop(...e))},[hv,ls(" Stop ")])):(qa(),Qa("button",{key:0,type:"button",class:"btn btn-primary",onClick:t[0]||(t[0]=(...e)=>jt(Ip).run&&jt(Ip).run(...e))},[fv,ls(" Analyze with Syzygy tablebase ")]))]),jt(pl).syzygy.header?(qa(),Qa("div",{key:0,innerHTML:jt(pl).syzygy.header},null,8,mv)):us("v-if",!0),jt(pl).syzygy.lines?(qa(),Qa("table",gv,[(qa(!0),Qa(Ua,null,To(jt(pl).syzygy.lines,(e=>(qa(),Qa("tr",{key:e.pgn},[os("td",yv,[e.leaf?(qa(),Qa("button",{key:0,type:"button",class:"btn btn-primary px-2 py-0 m-0",title:"Play this line",onClick:t=>jt(Ip).play(e)},vv,8,bv)):us("v-if",!0)]),os("td",{class:"align-top w-100 py-1",style:H("padding-left:".concat(e.indent+.5,"rem"))},[ls(ce(jt(Ip).format(e))+" ",1),e.searching?(qa(),Qa("i",wv)):us("v-if",!0)],4)])))),128))])):us("v-if",!0)],512)),[[dr,"sy"==jt(pl).compute]])},xv={class:"mb-3"},_v=Eo({__name:"compute",setup:e=>(e,t)=>po((qa(),Qa("section",{class:Q({show:7==jt(pl).tab})},[os("div",xv,[as(Lm,{modelValue:jt(pl).compute,"onUpdate:modelValue":t[0]||(t[0]=e=>jt(pl).compute=e),label:"Tool:",text:["Popeye","Stockfish","Syzygy"],value:["py","sf","sy"]},null,8,["modelValue"])]),as(xb),as(uv),as(kv)],2)),[[dr,7==jt(pl).tab]])}),Cv=e=>(Hn("data-v-f0d1e056"),e=e(),qn(),e),Sv={class:"mb-2 btn-gap"},Ev=Cv((()=>os("h6",null,"Embed mode",-1))),Av={class:"mb-2 btn-gap"},Nv=Cv((()=>os("h6",null,"SDK mode",-1))),Pv={class:"btn-gap"},Rv=Eo({__name:"api",setup(e){const t=!location.protocol.startsWith("http");return(e,n)=>(qa(),Qa("section",{class:Q({show:5==jt(pl).tab})},[os("div",Sv,[as(of,{factory:jt(gp).copyBase64,class:"btn-secondary",disabled:t},{default:Gn((()=>[ls(" Copy base64 link ")])),_:1},8,["factory"]),as(of,{factory:jt(gp).copyBase64Img,class:"btn-secondary",disabled:t},{default:Gn((()=>[ls(" Copy base64 <img> code ")])),_:1},8,["factory"])]),Ev,os("div",Av,[as(of,{factory:jt(gp).copyEmbed,class:"btn-secondary"},{default:Gn((()=>[ls(" Copy embed HTML code ")])),_:1},8,["factory"]),as(of,{factory:jt(gp).copyEmbedUrl,class:"btn-secondary"},{default:Gn((()=>[ls(" Copy just the URL ")])),_:1},8,["factory"])]),Nv,os("div",Pv,[as(of,{factory:jt(gp).copySDK,class:"btn-secondary"},{default:Gn((()=>[ls(" Copy SDK script tag ")])),_:1},8,["factory"]),as(of,{factory:jt(gp).copyImg,class:"btn-secondary"},{default:Gn((()=>[ls(" Copy SDK <img> code ")])),_:1},8,["factory"])])],2))}}),Ov={style:{display:"contents"}},Tv={class:"d-flex justify-content-center p-3"},Mv={class:"flex-grow-0 text-start",style:{"max-width":"100%"}},Lv={class:"w-passive-100"},Vv={class:"d-flex mb-4"},Iv=(e=>(Hn("data-v-f00c9748"),e=e(),qn(),e))((()=>os("hr",null,null,-1))),Fv={key:0,src:"."},Bv={__name:"app",setup:e=>(e,t)=>(qa(),Qa("div",Ov,[os("main",Tv,[os("div",Mv,[as(gh),as(Th),os("div",Lv,[as(tf),os("div",Vv,[as(sh),as(Iy),as(Pm),as(Rv),as(Ny),as(Xg),as(_v),as(Dy)])]),Iv,as(Fh)])]),jt(pl).split?(qa(),Qa("iframe",Fv)):us("v-if",!0)]))};!async function(e){np=e,document.head.appendChild(rp),await new Promise((e=>{const t=n=>{n.source==rp.contentWindow&&(removeEventListener("message",t),e())};addEventListener("message",t),rp.src=ap.toString()}));const t=document.documentElement;new MutationObserver((e=>{for(const t of e)if("attributes"==t.type){const e=t.attributeName.toLowerCase(),n=e.startsWith("data");t.target==op&&n&&lp(document),"IMG"!=t.target.nodeName||"fen"!=e&&!n||ip(t.target)}else for(const e of t.addedNodes)lp(e)})).observe(t,{childList:!0,attributes:!0,subtree:!0}),lp(t)}({getDefault:()=>ll.board,getTitle:e=>e}),document.addEventListener("mousedown",(function(e){var t;const n=null==(t=document.activeElement)?void 0:t.nodeName.toLowerCase();"input"!=n&&"textarea"!=n&&e.detail>1&&e.preventDefault()}),!1),addEventListener("keydown",(e=>{var t;if(!pl.play.playing&&!pl.popeye.playing)return;const n=null==(t=document.activeElement)?void 0:t.nodeName.toLowerCase();if("input"==n||"textarea"==n)return;const o=e.key;"a"!=o&&"ArrowLeft"!=o||(e.preventDefault(),pl.play.playing?Zc(-1):Pd.moveBy(-1)),"d"!=o&&"ArrowRight"!=o||(e.preventDefault(),pl.play.playing?Zc(1):Pd.moveBy(1))})),window.share=async function(e){if(gtag("event","fen_img_share"),li.canSharePng){const e=await tc(),t=[new File([e],"board.png",{type:"image/png"})];navigator.share({files:t})}else{e.disabled=!0;const t=e.querySelector("i"),n=t.className;t.className="fa-spin fa-solid fa-spinner";try{const e=await gp.copyUrl();navigator.share({url:e,text:up()})}finally{e.disabled=!1,t.className=n}}},((...e)=>{const t=(jr=Dr?jr:La(Ur),Dr=!0,jr).createApp(...e);!function(e){Object.defineProperty(e.config,"isNativeTag",{value:e=>Z(e)||J(e)||X(e),writable:!1})}(t),function(e){if(Rs()){const t=e.config.isCustomElement;Object.defineProperty(e.config,"isCustomElement",{get:()=>t,set(){zs("The `isCustomElement` config option is deprecated. Use `compilerOptions.isCustomElement` instead.")}});const n=e.config.compilerOptions,o='The `compilerOptions` config option is only respected when using a build of Vue.js that includes the runtime compiler (aka "full build"). Since you are using the runtime-only build, `compilerOptions` must be passed to `@vue/compiler-dom` in the build setup instead.\n- For vue-loader: pass it via vue-loader\'s `compilerOptions` loader option.\n- For vue-cli: see https://cli.vuejs.org/guide/webpack.html#modifying-options-of-a-loader\n- For vite: pass it via @vitejs/plugin-vue options. See https://github.com/vitejs/vite-plugin-vue/tree/main/packages/plugin-vue#example-for-passing-options-to-vuecompiler-sfc';Object.defineProperty(e.config,"compilerOptions",{get:()=>(zs(o),n),set(){zs(o)}})}}(t);const{mount:n}=t;return t.mount=e=>{const t=function(e){if(k(e)){const t=document.querySelector(e);return t||zs('Failed to mount app: mount target selector "'.concat(e,'" returned null.')),t}window.ShadowRoot&&e instanceof window.ShadowRoot&&"closed"===e.mode&&zs('mounting on a ShadowRoot with `{mode: "closed"}` may lead to unpredictable bugs');return e}(e);if(t)return n(t,!0,function(e){if(e instanceof SVGElement)return"svg";if("function"==typeof MathMLElement&&e instanceof MathMLElement)return"mathml"}(t))},t})(Bv).mount("#app"),ul.envReady=!0,function(){const e=JSON.parse(localStorage.getItem("settings"))||{};ci(il,e,!0),e.project&&(il.project=e.project),e.popeye&&(il.popeye.pieceMap=e.popeye.pieceMap),rl.has("janko")&&(il.feature.janko=!0);const t=li.isTop?JSON.parse(sessionStorage.getItem("state")):null;t&&ci(pl,t),ul.stockfish.status=ll.Stockfish.downloaded?3:0;for(const e of fl)e();io(ml),io(gl)}(),async function(){window.addEventListener("resize",(()=>cc({})));const e=rl.get("fen");await cc({},!0),kc.draw=Xl,e?(Pc(e,!0),Oc()):Lc(),setTimeout(dc,1e3)}(),oi.onmousedown=Jd,oi.ontouchstart=Jd,oi.ondragstart=e=>e.preventDefault(),oi.onwheel=Qd,Jr.onmousedown=Jd,Jr.ontouchstart=Jd,document.body.onmousedown=e=>{bl()||e.target==Jr||e.target==oi||qd()},document.body.onmousemove=$d,document.body.ontouchmove=$d,document.body.onmouseleave=Gd,document.body.onmouseup=Gd,document.body.ontouchend=Gd,io((function(){document.body.classList.toggle("split",pl.split),Promise.resolve().then((()=>cc({})))})),io(Vc)})();